(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],h=0,d=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,s=1;s<i.length;s++){var c=i[s];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},a={app:0},r=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"014d":function(e,t,i){e.exports=i.p+"img/1008422-1606818568.6e3b91c2.jpg"},1003:function(e,t,i){"use strict";i("491b")},"269a":function(e,t,i){e.exports=i.p+"img/Slide3.148379d8.jpg"},"2cfa":function(e,t,i){e.exports=i.p+"img/PlayHamlet.c4f422e3.jpg"},"394b":function(e,t,i){e.exports=i.p+"img/sharc-logo-full.061b2bd4.svg"},"3b1d":function(e,t,i){e.exports=i.p+"img/ahrc-2018-landscape-logo-1200px.af8871ed.png"},"469c":function(e,t,i){e.exports=i.p+"img/PlayMidsummerNightsDream.eacef46f.jpg"},"491b":function(e,t,i){},"4d67":function(e,t,i){e.exports=i.p+"img/PlayMerryWivesOfWindsor.bf229f98.jpg"},"4ff2":function(e,t,i){e.exports=i.p+"img/Slide2.b02a616f.png"},5345:function(e,t,i){e.exports=i.p+"img/PlayHenryV.0241a99c.jpg"},"54ae":function(e,t,i){e.exports=i.p+"img/PlayHenryVIII.cdb0050a.jpg"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("TheHeader"),t("router-view"),t("TheFooter")],1)},o=[],s=function(){var e=this,t=e._self._c;return t("header",[t("div",{staticClass:"container"},[t("router-link",{staticClass:"header__logo",attrs:{to:{name:"home"}}},[t("img",{attrs:{src:i("394b"),alt:"SHARC logo"}})]),t("div",{staticClass:"nav-wrapper"},[t("nav",{staticClass:"header__nav"},[t("ul",{staticClass:"header__nav-list"},[t("li",{staticClass:"header__nav-item",on:{click:e.toggleMenu}},[t("router-link",{staticClass:"header__link js-home",attrs:{to:{name:"home"},exact:""}},[e._v("Home")])],1),t("li",{staticClass:"header__nav-item",on:{click:e.toggleMenu}},[t("a",{staticClass:"header__link js-home",attrs:{href:"https://sharc.kcl.ac.uk/exhibition/"}},[e._v("Exhibition")])]),t("li",{staticClass:"header__nav-item",on:{click:e.toggleMenu}},[t("router-link",{staticClass:"header__link js-about",attrs:{to:{name:"about"}}},[e._v("About")])],1),e.getEventsPageStatus?t("li",{staticClass:"header__nav-item",on:{click:e.toggleMenu}},[t("router-link",{staticClass:"header__link js-events",attrs:{to:"/events"}},[e._v("Events")])],1):e._e()])]),t("div",{staticClass:"mobile__nav",attrs:{role:"button"},on:{click:e.toggleMenu}},[t("div",{staticClass:"line1"}),t("div",{staticClass:"line2"}),t("div",{staticClass:"line3"})])])],1)])},c=[],l=i("c7eb"),u=i("1da1"),h=i("5530"),d=(i("14d9"),i("b0c0"),i("2f62")),f={name:"TheHeader",computed:Object(d["c"])(["getEventsPageStatus"]),data:function(){return{searchTerm:""}},methods:Object(h["a"])({toggleMenu:function(){var e=document.querySelector(".mobile__nav"),t=document.querySelector(".header__nav");e.classList.toggle("toggle"),t.classList.toggle("nav-active")},toggleSearch:function(){document.querySelector(".mobile__nav").classList.remove("toggle"),document.querySelector(".header__nav").classList.remove("nav-active")},setPage:function(e){switch(e.name){case"search-results":break;case"not-found":break;case"accessibility-statement":break;case"acknowledgements":this.setActivePage("about");break;case"bibliography":this.setActivePage("resources");break;case"glossary":this.setActivePage("resources");break;case"object":this.setActivePage("objects");break;default:this.setActivePage(e.name)}},setActivePage:function(e){setTimeout((function(){document.querySelector(".js-"+e)&&document.querySelector(".js-"+e).classList.add("router-link-exact-active")}),100)},submit:function(){""!=this.searchTerm&&this.$router.push("/search?q="+this.searchTerm)}},Object(d["b"])(["fetchEventsPageStatus"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setPage(e.$route),t.next=3,e.fetchEventsPageStatus();case 3:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e){document.querySelectorAll(".router-link-exact-active").length>0&&document.querySelector(".router-link-exact-active").classList.remove("router-link-exact-active"),this.setPage(e)}}},p=f,m=i("0c7c"),_=Object(m["a"])(p,s,c,!1,null,null,null),g=_.exports,v=function(){var e=this,t=e._self._c;return t("footer",[t("div",{staticClass:"image-credit"},[t("p",[e._v("\n      Image credits: Royal Collection Trust and Royal Archives / © Her Majesty Queen Elizabeth II 2019-"+e._s((new Date).getFullYear())+"\n    ")])]),e._m(0),e._m(1),t("span",{staticClass:"delimiter"},[e._v("|")]),t("router-link",{attrs:{to:"/accessibility"}},[e._v("Accessibility")]),t("p",[e._v("\n    © 2019-"+e._s((new Date).getFullYear())+" Designed, developed and maintained by \n    "),t("a",{attrs:{href:"https://kdl.kcl.ac.uk",title:"King's Digital Lab"}},[e._v("King's\n    Digital Lab\n    ")])]),0==this.cookie_accepted?t("div",{staticClass:"cookies-box hide",attrs:{id:"cookie-disclaimer"}},[e._m(2),t("p",[t("button",{staticClass:"button success closeme",attrs:{"aria-label":"Dismiss alert",type:"button"},on:{click:function(t){return e.set_cookie_accepted()}}},[e._v("I understand\n      ")])])]):e._e()],1)},y=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer-logos"},[t("a",{attrs:{href:"https://kcl.ac.uk",title:"KCL link"}},[t("img",{attrs:{src:i("9f13"),alt:"KCL logo"}})]),t("a",{attrs:{href:"https://www.rct.uk/",title:"RCT link"}},[t("img",{attrs:{src:i("e277"),alt:"RCT logo"}})]),t("a",{attrs:{href:"http://ahrc.ukri.org",title:"AHRC link"}},[t("img",{staticClass:"footer__img",attrs:{src:i("3b1d"),alt:"AHRC logo"}})]),t("a",{attrs:{href:"http://bbk.ac.uk",title:"Birkbeck University of London link"}},[t("img",{attrs:{src:i("e6ac"),alt:"Birbeck University of London logo"}})])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"https://twitter.com/sharc_project"}},[t("i",{staticClass:"fab fa-twitter",attrs:{"aria-hidden":"true"}}),e._v(" @sharc_project")])},function(){var e=this,t=e._self._c;return t("p",[e._v("We use cookies to track usage and preferences in accordance with our "),t("a",{staticClass:"button cookie",attrs:{href:"/privacy-policy/"}},[e._v("Privacy & Cookie Policy")])])}],b="cookie_accepted",w={name:"Footer",components:{},data:function(){return{cookie_accepted:!1}},methods:{set_cookie_accepted:function(){this.$cookies.set(b,"True"),this.cookie_accepted=!0}},created:function(){this.$cookies.isKey(b)&&"True"==this.$cookies.get(b)&&(this.cookie_accepted=!0)}},x=w,j=Object(m["a"])(x,v,y,!1,null,null,null),S=j.exports,T={name:"app",components:{TheHeader:g,TheFooter:S}},O=T,C=(i("1003"),Object(m["a"])(O,r,o,!1,null,null,null)),A=C.exports,M=i("9aa5"),L=i.n(M),P=i("8c4f"),E=function(){var e=this,t=e._self._c;return t("main",{staticClass:"home"},[t("home-main"),t("div",{staticClass:"home-main container"})],1)},R=[],D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-page"},[t("div",{staticClass:"main-banner"},[t("div",{staticClass:"background"}),t("figure",[e.loading?t("div",{staticClass:"loader"}):[t("VueSlickCarousel",e._b({ref:"carousel",staticClass:"slider-images-block",on:{init:e.handleInit,afterChange:e.handleAfterChange}},"VueSlickCarousel",e.sliderOptions,!1),e._l(e.mainBanners,(function(e,i){return t("div",{key:i},[t("router-link",{attrs:{to:{name:"home",params:{id:e.id}}}},[t("span"),t("img",{attrs:{src:e.resource,alt:e.title}})])],1)})),0),t("button",{staticClass:"slider-arrow prev",attrs:{"aria-label":"previous slide"},on:{click:e.showPrev}},[e._v("")]),t("button",{staticClass:"slider-arrow next",attrs:{"aria-label":"next slide"},on:{click:e.showNext}},[e._v("")]),t("div",{staticClass:"main-banner-description"},[t("div",{staticClass:"slider-button-block"},e._l(e.mainBanners,(function(i,n){return t("span",{key:n},[t("button",{staticClass:"slider-button",class:{active:e.currentSlide==n},attrs:{"aria-label":"slider button"},on:{click:function(t){return e.goTo(n)}}},[t("span",{attrs:{hidden:""}},[e._v(e._s(i.title))])])])})),0),t("figcaption",[t("h3",[e._v(e._s(this.currentImg.title))]),t("p",e._l(this.currentImg.creators,(function(i,n){return t("span",{key:n},[e._v(e._s(i)+"\n                                "),n!=e.currentImg.creators.length-1?[e._v(", ")]:e._e()],2)})),0)])])]],2)]),e._m(0)])},I=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"placeholder"},[t("div",[t("span",[t("p",[e._v("What has Shakespeare done for the royal family, and what has the royal family done for Shakespeare? This is the central research question of ‘Shakespeare in the Royal Collection’, an AHRC funded project (September 2018  - July 2022), which focuses on the Shakespeare-related holdings in the Royal Collection and Royal Archives and the stories they have to tell, primarily during the period 1714-1945.\n                ")]),t("p",[e._v("\n                This website includes a searchable database of the Shakespeare-related objects in the Royal Collection, an online exhibition, an explanatory timeline, and stories from the collection. Educational resources for teachers are also available and are free to download and use.\n                ")])]),t("br"),t("br"),t("hr"),t("br")]),t("div",{staticClass:"two-column-50-50"},[t("div",[t("a",{attrs:{href:"/objects"}},[t("img",{attrs:{src:i("014d"),width:"691",height:"500",alt:"David Garrick Reciting his Ode, at Drury Lane Theatre, on dedicating a Building & erecting a Statue, to Shakespeare, Etching and engraving"}})]),t("a",{attrs:{href:"/objects"}},[t("h3",[e._v("Search the Database")])]),t("p",[e._v("How many photographs on the theme of "),t("em",[e._v("The Winter’s Tale")]),e._v("  were acquired by Queen Victoria between 1848 and 1880? The Search page offers various ways to discover the Shakespeare-related holdings in the Royal Collection and Royal Archives, by search and by filter.")])]),t("div",[t("a",{attrs:{href:"/exhibition"}},[t("img",{attrs:{src:i("f382"),width:"1000",height:"789",alt:"rince Arthur and Prince Leopold in the costume of the sons of King Henry IVth, Albumen print hand-coloured with watercolour"}}),t("h3",[e._v("Exhibition")])]),t("p",[e._v("‘Making History: Shakespeare and the Royal Family’ brings together objects from the Royal Collection and Royal Archives with prints, paintings and decorative art objects in collections elsewhere. It explores the tangible effect of royal patronage on the afterlives of Shakespeare’s plays. ")])]),t("div",[t("a",{attrs:{href:"/stories"}},[t("img",{attrs:{src:i("c60b"),width:"1000",height:"764",alt:"Herne's Oak, Windsor Park, Etching with hand colouring"}}),t("h3",[e._v("Stories")])]),t("p",[e._v("A way to explore some of the key themes that emerge from the Royal Collection's Shakespeare-related objects, including the royals' own forays into Shakespeare-themed art, and the mystery of Herne's Oak.")])]),t("div",[t("a",{attrs:{href:"/timeline"}},[t("img",{attrs:{src:i("8638"),width:"684",height:"500",alt:"Fan depicting 'The Three Eldest Sons of King George III, Ivory brisé fan; the guards (identical) with two blue Wedgwood jasper-ware plaques, strung cut-steel beads and applied marquisites, backed with gold leaf"}}),t("h3",[e._v("Timeline")])]),t("p",[e._v("The timeline gives a sense of the history of Shakespeare in the Royal Collection. It spans the seventeenth century to the present day, placing the objects in our database in context. ")])])])])}],N=i("a7ab"),q=i.n(N),B=(i("7b8d"),{name:"HomeMain",components:{VueSlickCarousel:q.a},computed:Object(d["c"])(["mainBanners"]),data:function(){return{currentImg:0,currentSlide:0,sliderOptions:{arrows:!1,dots:!1},loading:!0}},methods:Object(h["a"])({showNext:function(){this.$refs.carousel.next()},showPrev:function(){this.$refs.carousel.prev()},handleInit:function(){this.currentImg=this.mainBanners[0]},handleAfterChange:function(e){this.currentImg=this.mainBanners[e],this.currentSlide=e},goTo:function(e){this.$refs.carousel.goTo(e)}},Object(d["b"])(["fetchBanners"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBanners();case 2:e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()}}),F=B,W=Object(m["a"])(F,D,I,!1,null,null,null),z=W.exports,H={name:"Home",components:{HomeMain:z},data:function(){return{tab:"explore"}}},U=H,G=Object(m["a"])(U,E,R,!1,null,null,null),V=G.exports,$=function(){var e=this,t=e._self._c;return t("main",{staticClass:"object-list"},[t("div",{staticClass:"container"},[t("the-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),t("h1",{staticClass:"page-title"},[e._v("Search")]),t("p",{staticClass:"page-description",domProps:{innerHTML:e._s(e.pageDescription)}}),t("archive-list")],1)])},J=[],Y=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"breadcrumbs"},e._l(e.breadcrumbs,(function(i,n){return t("li",{key:n},[t("router-link",{staticClass:"breadcrumbs__link",attrs:{to:i.url}},[e._v(e._s(i.text))])],1)})),0)},K=[],Z={name:"TheBreadcrumbs",props:{breadcrumbs:{type:Array}}},Q=Z,X=Object(m["a"])(Q,Y,K,!1,null,null,null),ee=X.exports,te=(i("4de4"),i("d81d"),i("fb6a"),i("d3b7"),i("0643"),i("2382"),i("a573"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"archival-list"},[t("div",{staticClass:"list-summary"},[t("div",{staticClass:"summary"},[t("form",{staticClass:"search-field",on:{submit:function(t){return t.preventDefault(),e.searchRecords.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{type:"search","aria-label":"Search by title, reference, description, and references",placeholder:"Search by name, date, category, creator",onfocus:"this.placeholder=''",onblur:"this.placeholder='Search by name, date, category, creator'"},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),t("input",{staticClass:"search-button",attrs:{type:"submit","aria-label":"Search button",value:""}})]),t("p",[t("a",{attrs:{href:"#"},on:{click:function(t){return e.clearSearch()}}},[e._v("X")]),e._v(" "+e._s(e.getTotalArchives)+" "+e._s(e._f("pluralize")("object",e.getTotalArchives))+" found")]),t("div",{staticClass:"sort-by-section"},[t("fieldset",[t("label",{attrs:{for:"sort-by"}},[e._v("Sort by")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.sortBy,expression:"sortBy"}],staticClass:"sort-by",attrs:{id:"sort-by","aria-label":"Sort by"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.sortBy=t.target.multiple?i:i[0]},function(t){return e.changeSortBy()}]}},[t("option",{attrs:{value:"_score"},domProps:{selected:"_score"==e.sortBy}},[e._v("Relevance")]),t("option",{attrs:{value:"unittitle"},domProps:{selected:"unittitle"==e.sortBy}},[e._v("Title")]),t("option",{attrs:{value:"date_of_creation"},domProps:{selected:"date_of_creation"==e.sortBy}},[e._v("Creation year")]),t("option",{attrs:{value:"date_of_acquisition"},domProps:{selected:"date_of_acquisition"==e.sortBy}},[e._v("Acquisition year")])])]),t("button",{staticClass:"transparent asc-desc",on:{click:function(t){return e.sortAscDesc()}}},[t("span",{attrs:{hidden:""}},[e._v("Sort")]),t("i",{class:e.sortDescVal?"far fa-sort-alpha-down-alt":"far fa-sort-alpha-down"})]),t("button",{staticClass:"button-primary filter display-mobile",attrs:{"aria-label":"filter objects"},on:{click:e.toggleFilters}},[t("span",[e._v("Filter")])])])])]),t("div",{staticClass:"two-column-20-80"},[t("div",{staticClass:"filters"},[t("button",{staticClass:"display-mobile filter-button",attrs:{"aria-label":"filter objects"},on:{click:e.toggleFilters}},[e._v("Close")]),t("h2",[e._v("Filters")]),t("div",[t("div",{staticClass:"filtergroup"},[t("h3",[e._v("Dates")]),e.getArchivalFacets.creation_years&&e.getArchivalFacets.creation_years[0]>0&&e.getArchivalFacets.creation_years[1]>0?t("fieldset",{staticClass:"range",attrs:{id:"creation_year"}},[t("legend",[e._v("Creation year")]),t("div",{ref:"creationSlider",attrs:{id:"creation-year-slider"}}),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.minCreationRange,expression:"minCreationRange"}],staticClass:"range-year",attrs:{type:"number",name:"creation_start_year","aria-label":"creation year start",min:e.creationSlider.min,max:e.creationSlider.max},domProps:{value:e.minCreationRange},on:{change:function(t){return e.updateCreationSlider(e.minCreationRange,e.maxCreationRange)},input:function(t){t.target.composing||(e.minCreationRange=t.target.value)}}}),e._v("\n            -\n            "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.maxCreationRange,expression:"maxCreationRange"}],staticClass:"range-year",attrs:{type:"number",name:"creation_end_year","aria-label":"creation year end",min:e.creationSlider.min,max:e.creationSlider.max},domProps:{value:e.maxCreationRange},on:{change:function(t){return e.updateCreationSlider(e.minCreationRange,e.maxCreationRange)},input:function(t){t.target.composing||(e.maxCreationRange=t.target.value)}}}),t("input",{staticClass:"button-primary",attrs:{type:"submit",value:"Filter"},on:{click:function(t){return e.filterByYear("creation_years",e.minCreationRange,e.maxCreationRange)}}})]):e._e(),e.getArchivalFacets.acquisition_years&&e.getArchivalFacets.acquisition_years[0]>0&&e.getArchivalFacets.acquisition_years[1]>0?t("fieldset",{staticClass:"range",attrs:{id:"acquisition_year"}},[t("legend",[e._v("Acquisition year")]),t("span",{attrs:{hidden:""}},[e._v("Acquisition year range")]),t("div",{ref:"acquisitionSlider",attrs:{id:"acquisition-year-slider"}}),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.minAcquisitionRange,expression:"minAcquisitionRange"}],staticClass:"range-year",attrs:{type:"number",name:"acquisition_start_year","aria-label":"acquisition year start",min:e.acquisitionSlider.min,max:e.acquisitionSlider.max},domProps:{value:e.minAcquisitionRange},on:{change:function(t){return e.updateAcquisitionSlider(e.minAcquisitionRange,e.maxAcquisitionRange)},input:function(t){t.target.composing||(e.minAcquisitionRange=t.target.value)}}}),e._v("\n              -\n              "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.maxAcquisitionRange,expression:"maxAcquisitionRange"}],staticClass:"range-year",attrs:{type:"number",name:"acquisition_end_year","aria-label":"acquisition year end",min:e.acquisitionSlider.min,max:e.acquisitionSlider.max},domProps:{value:e.maxAcquisitionRange},on:{change:function(t){return e.updateAcquisitionSlider(e.minAcquisitionRange,e.maxAcquisitionRange)},input:function(t){t.target.composing||(e.maxAcquisitionRange=t.target.value)}}}),t("input",{staticClass:"button-primary",attrs:{type:"submit",value:"Filter"},on:{click:function(t){return e.filterByYear("acquisition_years",e.minAcquisitionRange,e.maxAcquisitionRange)}}})]):e._e()]),t("div",{staticClass:"filtergroup"},[e._m(0),e.getArchivalFacets.acquirer&&e.getArchivalFacets.acquirer.length>0?t("fieldset",[t("legend",[e._v("Acquirers "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.acquirer.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"acquirers-toggle"}}),e._m(1),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.acquirer,e.searchRelatedAcquirers,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.relatedAcquirersCheckbox,expression:"index < 100 || relatedAcquirersCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"acquirer","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("acquirer",i.key)},on:{click:function(t){return e.filter("acquirer",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e(),e.getArchivalFacets.acquirer&&e.getArchivalFacets.acquirer.length>0?t("fieldset",[t("legend",[e._v("All People "),t("span",{staticClass:"count"},[e.getArchivalFacets.people.length>100?[e._v("100+")]:[e._v(e._s(e.getArchivalFacets.people.length))]],2)]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"people-toggle"}}),e._m(2),t("div",{staticClass:"toggle-section"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchRelatedPeople,expression:"searchRelatedPeople"}],attrs:{type:"text",id:"people-autocomplete"},domProps:{value:e.searchRelatedPeople},on:{keyup:e.filterPeople,input:function(t){t.target.composing||(e.searchRelatedPeople=t.target.value)}}}),t("div",{staticClass:"facets"},e._l(e.getArchivalFacets.people,(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.relatedPeopleCheckbox,expression:"index < 100 || relatedPeopleCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"people","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("people",i.key)},on:{click:function(t){return e.filter("people",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e()]),t("div",{staticClass:"filtergroup"},[t("h3",[e._v("Objects")]),e.getArchivalFacets.works&&e.getArchivalFacets.works.length>0?t("fieldset",[t("legend",[e._v("Works "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.works.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"works-toggle"}}),e._m(3),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.works,e.searchWorks,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.worksCheckbox,expression:"index < 100 || worksCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"work","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("work",i.key)},on:{click:function(t){return e.filter("work",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e(),e.getArchivalFacets.individual_connections&&e.getArchivalFacets.individual_connections.length>0?t("fieldset",[t("legend",[e._v("Shakespeare as Individual "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.individual_connections.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"connections-toggle"}}),e._m(4),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.individual_connections,e.searchConnections,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.connectionsCheckbox,expression:"index < 100 || connectionsCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"individual_connections","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("individual_connection",i.key)},on:{click:function(t){return e.filter("individual_connections",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e(),e.getArchivalFacets.texts&&e.getArchivalFacets.texts.length>0?t("fieldset",[t("legend",[e._v("Texts "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.texts.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"texts-toggle"}}),e._m(5),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.texts,e.searchTexts,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.textsCheckbox,expression:"index < 100 || textsCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"text","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("text",i.key)},on:{click:function(t){return e.filter("text",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e(),e.getArchivalFacets.performances&&e.getArchivalFacets.performances.length>0?t("fieldset",[t("legend",[e._v("Performances "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.performances.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"performances-toggle"}}),e._m(6),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.performances,e.searchPerformances,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.performancesCheckbox,expression:"index < 100 || performancesCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"text","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("performance",i.key)},on:{click:function(t){return e.filter("performance",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e(),e.getArchivalFacets.sources&&e.getArchivalFacets.sources.length>0?t("fieldset",[t("legend",[e._v("Sources "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.sources.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"sources-toggle"}}),e._m(7),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.sources,e.searchSources,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.sourcesCheckbox,expression:"index < 100 || sourcesCheckbox"}],key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"text","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("source",i.key)},on:{click:function(t){return e.filter("source",i.key)}}}),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e(),e.getArchivalFacets.category&&e.getArchivalFacets.category.length>0?t("fieldset",[t("legend",[e._v("Categories "),t("span",{staticClass:"count"},[e._v(e._s(e.getArchivalFacets.category.length))])]),t("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"categories-toggle"}}),e._m(8),t("div",{staticClass:"toggle-section"},[t("div",{staticClass:"facets"},e._l(e.sortedData(e.getArchivalFacets.category,e.searchCategories,"alphabetical"),(function(i,n){return t("label",{directives:[{name:"show",rawName:"v-show",value:n<100||e.categoriesCheckbox,expression:"index < 100 || categoriesCheckbox"}],key:n,staticClass:"facet"},[i.key.length>0?t("input",{attrs:{type:"checkbox",name:"category","aria-label":i.key},domProps:{value:i.key,checked:e.checkedOption("category",i.key)},on:{click:function(t){return e.filter("category",i.key)}}}):e._e(),e._v(" "+e._s(e._f("capitalize")(i.key))+" "),t("span",{staticClass:"count"},[e._v(e._s(i.doc_count))])])})),0)])]):e._e()])])]),t("div",{staticClass:"objects"},[e.loadingRecords?t("div",{staticClass:"loader"}):[e.selectedFacets.length>0||0!=e.creationYears[0]&&0!=e.creationYears[1]||0!=e.acquisitionYears[0]&&0!=e.acquisitionYears[1]?t("fieldset",{staticClass:"selected-facets"},[t("legend",{attrs:{hidden:""}},[e._v("Selected filters")]),0!=e.creationYears[0]&&0!=e.creationYears[1]?[t("label",{staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"creation_years","aria-label":"creation years",checked:""},domProps:{value:e.creationYears[0]+"-"+e.creationYears[1]},on:{click:function(t){return e.filterByYear("creation_years",e.creationYears[0],e.creationYears[1])}}}),e._v(" \n                Creation years: "+e._s(e.creationYears[0]+"-"+e.creationYears[1])+"\n            ")])]:e._e(),0!=e.acquisitionYears[0]&&0!=e.acquisitionYears[1]?[t("label",{staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:"acquisition_years","aria-label":"acquisition years",checked:""},domProps:{value:e.acquisitionYears[0]+"-"+e.acquisitionYears[1]},on:{click:function(t){return e.filterByYear("acquisition_years",e.acquisitionYears[0],e.acquisitionYears[1])}}}),e._v(" \n                Acquisition years: "+e._s(e.acquisitionYears[0]+"-"+e.acquisitionYears[1])+"\n            ")])]:e._e(),e.selectedFacets.length>0?e._l(e.selectedFacets,(function(i,n){return t("label",{key:n,staticClass:"facet"},[t("input",{attrs:{type:"checkbox",name:i.category,"aria-label":i.key,checked:""},domProps:{value:i.key},on:{click:function(t){return e.filter(i.category,i.key)}}}),e._v(" \n                "+e._s(i.key)+"\n            ")])})):e._e(),t("button",{staticClass:"clear-filters",on:{click:e.clearFacets}},[e._v("Clear all filters")])],2):e._e(),t("ul",{staticClass:"list"},e._l(e.getArchivalRecords,(function(n,a){return t("li",{key:a,staticClass:"list-item"},[t("router-link",{attrs:{to:{name:"rct-object",params:{reference:n.reference}},"aria-label":"link to "+n.unittitle}},[t("div",{staticClass:"object-thumbnail"},["PLACEHOLDER"!=n.media[0].thumbnail_url?t("img",{attrs:{src:n.media[0].thumbnail_url,alt:n.media[0].title}}):t("img",{attrs:{src:i("e8e8"),height:"1602",width:"1644",alt:"Image placeholder"}})]),t("div",{staticClass:"object-description"},[t("p",{staticClass:"details"},[n.date_of_creation_range?t("span",[e._v(e._s(n.date_of_creation_range))]):e._e(),t("span",{staticClass:"delimiter"},[e._v("|")]),n.category&&n.category.length>0?[e._v(e._s(n.category))]:e._e()],2),t("h4",[e._v("\n                    "+e._s(e._f("truncate")(n.unittitle,100))+"\n                  ")]),n.creators?t("p",{staticClass:"details"},[e._l(n.creators.slice(0,e.sliceList),(function(i,a){return t("span",{key:a},[e._v("\n                      "+e._s(i.name)),a!=n.creators.length-1?[e._v("; ")]:e._e()],2)})),n.creators.length>e.sliceList?[e._v("...")]:e._e()],2):e._e()])]),n.related_entities&&n.related_entities.length>0?t("div",{staticClass:"connected-to"},[t("p",{staticClass:"details"},[e._v("Connected to: ")]),e._l(n.related_entities.slice(0,e.sliceList),(function(i,a){return t("p",{key:a,staticClass:"details"},[t("a",{attrs:{href:e.$router.resolve({name:"objects",query:{page:1,work:[i.key]}}).href}},[e._v(e._s(i.key))]),a!=n.related_entities.length-1?t("span",[e._v("; ")]):e._e()])}))],2):e._e()],1)})),0),e.loadingMoreRecords?t("div",{staticClass:"loader"}):[e.getArchivalRecords&&e.getArchivalRecords.length<e.getTotalArchives?t("button",{staticClass:"button-secondary",attrs:{type:"button"},on:{click:function(t){return e.moreRecords()}}},[e._v("Show more objects")]):e._e()]]],2)])])}),ie=[function(){var e=this,t=e._self._c;return t("h3",[e._v("People \n            "),t("span",{staticClass:"tooltip"},[t("span",{staticClass:"tooltiptext"},[e._v("\n                Some people are listed under more than one title. E.g. Elizabeth Bowes-Lyon as 'Elizabeth (1900-2002), Duchess of York' and 'Queen Elizabeth (1900-2002), the Queen Mother'. Clicking on one title for a person will show all objects they acquired under any of their titles.\n              ")])])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"acquirers-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse acquirers")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"people-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse acquirers")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"works-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse works")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"connections-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse connections")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"texts-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse texts")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"performances-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse performances")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"sources-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse sources")])])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"toggle-label",attrs:{for:"categories-toggle"}},[t("span",{attrs:{hidden:""}},[e._v("Expand/collapse categories")])])}],ne=(i("4e82"),i("a434"),i("e9c4"),i("a9e3"),i("b64b"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("ddb0"),i("e9fa")),ae=i.n(ne),re=(i("c0a8"),{name:"ArchiveList",computed:Object(d["c"])(["getArchivalRecords","getTotalArchives","getArchivalFacets"]),data:function(){return{loadingRecords:!0,loadingMoreRecords:!1,sortBy:"_score",sortDescVal:!1,minCreationRange:0,maxCreationRange:0,creationSlider:{startMin:0,startMax:0,min:0,max:0},minAcquisitionRange:0,maxAcquisitionRange:0,acquisitionSlider:{startMin:0,startMax:0,min:0,max:0},searchWorks:"",searchConnections:"",searchCategories:"",searchTexts:"",searchPerformances:"",searchSources:"",searchRelatedAcquirers:"",searchRelatedPeople:"",worksCheckbox:!1,categoriesCheckbox:!1,connectionsCheckbox:!1,textsCheckbox:!1,performancesCheckbox:!1,sourcesCheckbox:!1,relatedAcquirersCheckbox:!1,relatedPeopleCheckbox:!1,pageNum:1,selectedFacets:[],creationYears:[0,0],acquisitionYears:[0,0],searchTerm:"",sliceList:3}},methods:Object(h["a"])({initCreationYearRange:function(e,t){var i=this;0==this.minCreationRange&&(this.minCreationRange=e),0==this.maxCreationRange&&(this.maxCreationRange=t),this.creationSlider.startMin=this.minCreationRange,this.creationSlider.startMax=this.maxCreationRange,this.creationSlider.min=e,this.creationSlider.max=t,ae.a.create(this.$refs.creationSlider,{start:[this.creationSlider.startMin,this.creationSlider.startMax],step:1,range:{min:this.creationSlider.min,max:this.creationSlider.max}}),this.$refs.creationSlider.noUiSlider.on("update",(function(e,t){i[t?"maxCreationRange":"minCreationRange"]=parseInt(e[t])}))},initAcquisitionYearRange:function(e,t){var i=this;0==this.minAcquisitionRange&&(this.minAcquisitionRange=e),0==this.maxAcquisitionRange&&(this.maxAcquisitionRange=t),this.acquisitionSlider.startMin=this.minAcquisitionRange,this.acquisitionSlider.startMax=this.maxAcquisitionRange,this.acquisitionSlider.min=e,this.acquisitionSlider.max=t,ae.a.create(this.$refs.acquisitionSlider,{start:[this.acquisitionSlider.startMin,this.acquisitionSlider.startMax],step:1,range:{min:this.acquisitionSlider.min,max:this.acquisitionSlider.max}}),this.$refs.acquisitionSlider.noUiSlider.on("update",(function(e,t){i[t?"maxAcquisitionRange":"minAcquisitionRange"]=parseInt(e[t])}))},updateCreationSlider:function(e,t){this.$refs.creationSlider.noUiSlider.set([e,t])},updateAcquisitionSlider:function(e,t){this.$refs.acquisitionSlider.noUiSlider.set([e,t])},checkedOption:function(e,t){return this.selectedFacets.filter((function(i){return i.key.toLowerCase().replace(/[’’']/g,"")===t.toLowerCase().replace(/[’’']/g,"")&&i.category===e})).length>0},sortedData:function(e,t,i){t=t.toLowerCase();var n=e.slice().filter((function(e){var i=e.key.toLowerCase();return i.match(t)}));return"alphabetical"==i?n.sort((function(e,t){return e.key.localeCompare(t.key)})):"count"==i&&n.sort((function(e,t){return t.doc_count-e.doc_count})),n},filterByYear:function(e,t,i){var n=this;return Object(u["a"])(Object(l["a"])().mark((function a(){var r,o;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.loadingRecords=!0,r=n.$route.query,n.pageNum=1,r["page"]=n.pageNum,o=t+"-"+i,r[e]&&r[e]==o?("creation_years"==e&&(n.creationYears=[0,0],n.minCreationRange=n.creationSlider.min,n.maxCreationRange=n.creationSlider.max,n.updateCreationSlider(n.creationSlider.min,n.creationSlider.max)),"acquisition_years"==e&&(n.acquisitionYears=[0,0],n.minAcquisitionRange=n.acquisitionSlider.min,n.maxAcquisitionRange=n.acquisitionSlider.max,n.updateAcquisitionSlider(n.acquisitionSlider.min,n.acquisitionSlider.max)),delete r[e]):("creation_years"==e?(n.creationYears[0]=t,n.creationYears[1]=i,n.minCreationRange=t,n.maxCreationRange=i):(n.acquisitionYears[0]=t,n.acquisitionYears[1]=i,n.minAcquisitionRange=t,n.maxAcquisitionRange=i),r[e]=t+"-"+i),n.$router.replace({query:{}}),n.$router.push({query:r}),a.next=10,n.fetchArchivalRecords({searchTerm:n.searchTerm,pages:n.pageNum,creation_years:JSON.parse(JSON.stringify(n.creationYears)),acquisition_years:JSON.parse(JSON.stringify(n.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(n.selectedFacets)),sort:{sort_by:n.sortBy,desc:n.sortDescVal}});case 10:n.loadingRecords=!1;case 11:case"end":return a.stop()}}),a)})))()},sortAscDesc:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getSortedRecords(!0);case 1:case"end":return t.stop()}}),t)})))()},changeSortBy:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getSortedRecords(!1);case 1:case"end":return t.stop()}}),t)})))()},getSortedRecords:function(e){var t=this;return Object(u["a"])(Object(l["a"])().mark((function i(){var n;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.loadingRecords=!0,n=t.$route.query,n["sort_by"]=t.sortBy,e&&(t.sortDescVal=!t.sortDescVal),n["desc"]=t.sortDescVal,t.$router.replace({query:{}}),t.$router.push({query:n}),i.next=9,t.fetchArchivalRecords({searchTerm:t.searchTerm,pages:t.pageNum,creation_years:JSON.parse(JSON.stringify(t.creationYears)),acquisition_years:JSON.parse(JSON.stringify(t.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(t.selectedFacets)),sort:{sort_by:t.sortBy,desc:t.sortDescVal}});case 9:t.loadingRecords=!1;case 10:case"end":return i.stop()}}),i)})))()},searchRecords:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRecords=!0,e.pageNum=1,e.$router.replace({query:{}}),""!=e.searchTerm?e.$router.push({query:{page:e.pageNum,q:e.searchTerm}}):e.$router.push({query:{page:e.pageNum}}),t.next=6,e.fetchArchivalRecords({searchTerm:e.searchTerm,pages:e.pageNum,creation_years:JSON.parse(JSON.stringify(e.creationYears)),acquisition_years:JSON.parse(JSON.stringify(e.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(e.selectedFacets)),sort:{sort_by:e.sortBy,desc:e.sortDescVal}});case 6:e.loadingRecords=!1;case 7:case"end":return t.stop()}}),t)})))()},filter:function(e,t){var i=this;return Object(u["a"])(Object(l["a"])().mark((function n(){var a;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.loadingRecords=!0,a=i.$route.query,i.pageNum=1,a["page"]=i.pageNum,i.selectedFacets.filter((function(i){return i.key===t&&i.category===e})).length>0?(i.selectedFacets=i.selectedFacets.filter((function(i){return!(i.category===e&&i.key===t)})),Array.isArray(a[e])?a[e].splice(a[e].indexOf(t),1):delete a[e]):(i.selectedFacets.push({category:e,key:t}),a[e]?(Array.isArray(a[e])||(a[e]=[a[e]]),a[e].push(t)):a[e]=[t]),i.$router.replace({query:{}}),i.$router.push({query:a}),n.next=9,i.fetchArchivalRecords({searchTerm:i.searchTerm,pages:i.pageNum,creation_years:JSON.parse(JSON.stringify(i.creationYears)),acquisition_years:JSON.parse(JSON.stringify(i.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(i.selectedFacets)),sort:{sort_by:i.sortBy,desc:i.sortDescVal}});case 9:i.loadingRecords=!1;case 10:case"end":return n.stop()}}),n)})))()},clearSearch:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.searchTerm="",t.next=3,e.fetchArchivalRecords({searchTerm:e.searchTerm,pages:e.pageNum,creation_years:JSON.parse(JSON.stringify(e.creationYears)),acquisition_years:JSON.parse(JSON.stringify(e.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(e.selectedFacets)),sort:{sort_by:e.sortBy,desc:e.sortDescVal}});case 3:e.loadingRecords=!1;case 4:case"end":return t.stop()}}),t)})))()},clearFacets:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingRecords=!0,e.pageNum=1,e.selectedFacets=[],e.creationYears=[0,0],e.acquisitionYears=[0,0],e.minCreationRange=e.creationSlider.min,e.maxCreationRange=e.creationSlider.max,e.minAcquisitionRange=e.acquisitionSlider.min,e.maxAcquisitionRange=e.acquisitionSlider.max,e.updateCreationSlider(e.creationSlider.min,e.creationSlider.max),e.updateAcquisitionSlider(e.acquisitionSlider.min,e.acquisitionSlider.max),e.searchRelatedPeople="",e.$router.replace({query:{}}),t.next=15,e.fetchArchivalRecords({searchTerm:e.searchTerm,pages:e.pageNum,creation_years:JSON.parse(JSON.stringify(e.creationYears)),acquisition_years:JSON.parse(JSON.stringify(e.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(e.selectedFacets)),sort:{sort_by:e.sortBy,desc:e.sortDescVal}});case 15:e.loadingRecords=!1;case 16:case"end":return t.stop()}}),t)})))()},getPeople:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){var i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchPeople(e.searchRelatedPeople);case 2:i=t.sent,e.getArchivalFacets&&i&&(e.getArchivalFacets.people=i);case 4:case"end":return t.stop()}}),t)})))()},filterPeople:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout(e.getPeople,800);case 2:case"end":return t.stop()}}),t)})))()},moreRecords:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){var i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingMoreRecords=!0,e.pageNum=Number(e.pageNum)+1,i=e.$route.query,i["page"]=Number(e.pageNum),e.$router.replace({query:{}}),e.$router.push({query:i}),t.next=8,e.loadMoreArchivalRecords();case 8:e.loadingMoreRecords=!1;case 9:case"end":return t.stop()}}),t)})))()},toggleFilters:function(){var e=document.querySelector(".filters");e.classList.toggle("active")}},Object(d["b"])(["fetchArchivalRecords","fetchPeople","searchArchivalRecords","loadMoreArchivalRecords"])),filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.$route.query,t.t0=Object(l["a"])().keys(i);case 2:if((t.t1=t.t0()).done){t.next=28;break}n=t.t1.value,t.t2=n,t.next="q"===t.t2?7:"sort_by"===t.t2?9:"desc"===t.t2?11:"page"===t.t2?13:"creation_years"===t.t2?15:"acquisition_years"===t.t2?20:25;break;case 7:return e.searchTerm=i[n],t.abrupt("break",26);case 9:return e.sortBy=i[n],t.abrupt("break",26);case 11:return e.sortDescVal=i[n],t.abrupt("break",26);case 13:return e.pageNum=Number(i[n]),t.abrupt("break",26);case 15:return e.creationYears[0]=Number(i[n].split("-")[0]),e.creationYears[1]=Number(i[n].split("-")[1]),e.minCreationRange=Number(i[n].split("-")[0]),e.maxCreationRange=Number(i[n].split("-")[1]),t.abrupt("break",26);case 20:return e.acquisitionYears[0]=Number(i[n].split("-")[0]),e.acquisitionYears[1]=Number(i[n].split("-")[1]),e.minAcquisitionRange=Number(i[n].split("-")[0]),e.maxAcquisitionRange=Number(i[n].split("-")[1]),t.abrupt("break",26);case 25:if(Array.isArray(i[n]))for(a in i[n])e.selectedFacets.push({category:n,key:i[n][a]});else e.selectedFacets.push({category:n,key:i[n]});case 26:t.next=2;break;case 28:return t.next=30,e.fetchArchivalRecords({searchTerm:e.searchTerm,pages:e.pageNum,creation_years:JSON.parse(JSON.stringify(e.creationYears)),acquisition_years:JSON.parse(JSON.stringify(e.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(e.selectedFacets)),sort:{sort_by:e.sortBy,desc:e.sortDescVal}});case 30:e.getArchivalFacets.creation_years&&e.getArchivalFacets.creation_years[0]>0&&e.getArchivalFacets.creation_years[1]>0&&e.initCreationYearRange(e.getArchivalFacets.creation_years[0],e.getArchivalFacets.creation_years[1]),e.getArchivalFacets.acquisition_years&&e.getArchivalFacets.acquisition_years[0]>0&&e.getArchivalFacets.acquisition_years[1]>0&&e.initAcquisitionYearRange(e.getArchivalFacets.acquisition_years[0],e.getArchivalFacets.acquisition_years[1]),e.loadingRecords=!1;case 33:case"end":return t.stop()}}),t)})))()}}),oe=re,se=Object(m["a"])(oe,te,ie,!1,null,null,null),ce=se.exports,le={name:"ObjectList",computed:Object(d["c"])(["pageDescription"]),components:{ArchiveList:ce,TheBreadcrumbs:ee},data:function(){return{breadcrumbs:[]}},methods:Object(h["a"])({updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},Object(d["b"])(["fetchObjectsPageDescription"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchObjectsPageDescription();case 2:e.updatePage();case 3:case"end":return t.stop()}}),t)})))()}},ue=le,he=Object(m["a"])(ue,$,J,!1,null,null,null),de=he.exports,fe=function(){var e=this,t=e._self._c;return t("main",{staticClass:"single-record container"},[t("the-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),t("archive-single")],1)},pe=[],me=(i("00b4"),function(){var e=this,t=e._self._c;return e.loading?t("div",{staticClass:"loader"}):t("div",{staticClass:"archive-single"},[t("h1",{staticClass:"page-title"},[e._v(e._s(e.getArchive.unittitle))]),e.getArchive.media&&e.getArchive.media.length>0?t("div",{staticClass:"object-image"},[t("div",{staticClass:"image-block"},[t("div",{ref:"openSeaDragon",staticClass:"image",attrs:{id:"openseadragon"}}),e._m(0)]),t("div",{staticClass:"thumbnails",attrs:{id:"referenceStrip"}},[t("button",{staticClass:"thumbnail-button prev",attrs:{"aria-label":"previous slide"},on:{click:e.showPrev}},[t("span",{attrs:{hidden:""}},[e._v("Previous")])]),t("VueSlickCarousel",e._b({ref:"carousel",staticClass:"thumbnail-list"},"VueSlickCarousel",e.sliderOptions,!1),e._l(e.getArchive.media,(function(i,n){return t("div",{key:n,staticClass:"thumbnail",on:{click:function(t){return e.updateImage(n)}}},[t("span"),t("img",{attrs:{src:i.thumbnail_url,alt:""}})])})),0),t("button",{staticClass:"thumbnail-button next",attrs:{"aria-label":"next slide"},on:{click:e.showNext}},[t("span",{attrs:{hidden:""}},[e._v("Next")])])],1)]):e._e(),t("div",{staticClass:"object-description"},[t("div",{staticClass:"two-column-50-50"},[t("section",[t("h2",[e._v("Details")]),e.getArchive.unittitle?t("span",[t("p",[e._v("Title:")]),t("p",{domProps:{innerHTML:e._s(e.getArchive.unittitle)}})]):e._e(),t("span",[t("p",[e._v("RA / RCT ref.:")]),t("p",[e._v(e._s(e.getArchive.reference))])]),e.getArchive.category&&""!=e.getArchive.category?t("span",[t("p",[e._v("Category:")]),t("p",[t("router-link",{attrs:{to:{name:"objects",query:{category:[e.getArchive.category]}}}},[e._v(e._s(e.getArchive.category))])],1)]):e._e(),e.getArchive.date_of_creation&&""!=e.getArchive.date_of_creation?t("span",[t("p",[e._v("Date of Creation:")]),e.getArchive.date_of_creation_notes?t("p",[e._v(e._s(e.getArchive.date_of_creation_notes))]):t("p",[e._v(e._s(e.getArchive.date_of_creation[0]))])]):e._e(),e.getArchive.date_of_acquisition&&""!=e.getArchive.date_of_acquisition?t("span",[t("p",[e._v("Date of Acquisition:")]),e.getArchive.date_of_acquisition_notes?t("p",[e._v(e._s(e.getArchive.date_of_acquisition_notes))]):t("p",[e._v(e._s(e.getArchive.date_of_acquisition[0]))])]):e._e(),e.getArchive.place_of_origin&&""!=e.getArchive.place_of_origin?t("span",[t("p",[e._v("Place of Origin:")]),t("p",{domProps:{innerHTML:e._s(e.getArchive.place_of_origin)}})]):e._e(),e.getArchive.medium&&""!=e.getArchive.medium?t("span",[t("p",[e._v("Medium:")]),t("p",{domProps:{innerHTML:e._s(e.getArchive.medium)}})]):e._e(),e.getArchive.size&&""!=e.getArchive.size?t("span",[t("p",[e._v("Size:")]),t("p",{domProps:{innerHTML:e._s(e.getArchive.size)}})]):e._e(),e.getArchive.provenance&&e.getArchive.provenance.html.length>0?t("span",[t("p",[e._v("Provenance:")]),t("p",{domProps:{innerHTML:e._s(e.getArchive.provenance.html)}})]):e._e(),e.getArchive.label&&""!=e.getArchive.label?t("span",[t("p",[e._v("Label or Inscription:")]),t("p",{domProps:{innerHTML:e._s(e.getArchive.label)}})]):e._e(),e.getArchive.reference&&""!=e.getArchive.reference&&!/^[A-Z].*/.test(e.getArchive.reference)?t("span",[t("p",[e._v("Link:")]),t("p",[t("a",{attrs:{href:"https://www.rct.uk/collection/search#/5/collection/"+e.getArchive.rct_link}},[e._v(e._s(e.getArchive.unittitle)+" at the Royal Collection Trust")])])]):e._e()]),t("section",[e.getArchive.related_sources&&(e.getArchive.related_sources.individuals&&e.getArchive.related_sources.individuals.length>0||e.getArchive.related_sources.works&&e.getArchive.related_sources.works.length>0||e.getArchive.related_sources.texts&&e.getArchive.related_sources.texts.length>0||e.getArchive.related_sources.performances&&e.getArchive.related_sources.performances.length>0||e.getArchive.related_sources.sources&&e.getArchive.related_sources.sources.length>0||e.getArchive.related_sources.groups&&e.getArchive.related_sources.groups.length>0)?t("div",[t("h2",[e._v("Shakespeare Associations")]),e.getArchive.related_sources.individuals&&e.getArchive.related_sources.individuals.length>0?t("span",e._l(e.getArchive.related_sources.individuals,(function(i,n){return t("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{individual_connections:[i]}}}},[e._v(e._s(i))])})),1):e._e(),e.getArchive.related_sources.works&&e.getArchive.related_sources.works.length>0?t("span",e._l(e.getArchive.related_sources.works,(function(i,n){return t("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{work:[i]}}}},[e._v(e._s(i))])})),1):e._e(),e.getArchive.related_sources.texts&&e.getArchive.related_sources.texts.length>0?t("span",e._l(e.getArchive.related_sources.texts,(function(i,n){return t("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{text:[i]}}}},[e._v(e._s(i))])})),1):e._e(),e.getArchive.related_sources.performances&&e.getArchive.related_sources.performances.length>0?t("span",e._l(e.getArchive.related_sources.performances,(function(i,n){return t("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{performance:[i]}}}},[e._v(e._s(i))])})),1):e._e(),e.getArchive.related_sources.sources&&e.getArchive.related_sources.sources.length>0?t("span",e._l(e.getArchive.related_sources.sources,(function(i,n){return t("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{source:[i]}}}},[e._v(e._s(i))])})),1):e._e(),e.getArchive.related_sources.groups&&e.getArchive.related_sources.groups.length>0?t("span",[t("h3",[e._v("Related groups")]),e._l(e.getArchive.related_sources.groups,(function(i,n){return t("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"group",params:{subpage:i.url_slug}}}},[e._v(e._s(i.title))])}))],2):e._e()]):e._e(),e.getArchive.related_people&&(e.getArchive.related_people.acquirers>0||e.getArchive.related_people.all_people.length>0)?t("div",[t("h2",[e._v("Related People")]),e.getArchive.related_people.acquirers&&e.getArchive.related_people.acquirers.length>0?t("span",[t("p",[e._v(e._s(e._f("pluralize")("Acquirer",e.getArchive.related_people.acquirers.length))+":")]),e._l(e.getArchive.related_people.acquirers,(function(i,n){return t("p",{key:n},[e._v("\n                              "+e._s(i)),n!=e.getArchive.related_people.acquirers.length-1?[e._v("; ")]:e._e()],2)}))],2):e._e(),e._l(e.sortedPeople(e.getArchive.related_people.all_people),(function(i,n){return t("span",{key:n},[t("p",[e._v(" "+e._s(e._f("pluralize")(e._f("capitalize")(n),i.length))+":")]),t("p",[t("ul",e._l(i,(function(i){return t("li",{key:i.facet_label,domProps:{innerHTML:e._s(i.name)}})})),0)])])}))],2):e._e(),e.getArchive.references_published&&e.getArchive.references_published.length>0||e.getArchive.references_unpublished&&e.getArchive.references_unpublished.length>0?t("div",[t("h2",[e._v("References")]),e.getArchive.references_published&&e.getArchive.references_published.length>0?[t("h4",[e._v("Published references")]),e.getArchive.references_published?t("ul",e._l(e.getArchive.references_published,(function(i){return t("li",{key:i},[e._v("\n                "+e._s(i.reference)+"\n              ")])})),0):e._e()]:e._e(),e.getArchive.references_unpublished&&e.getArchive.references_unpublished.length>0&&e.getArchive.references_published&&e.getArchive.references_published.length>0?t("br"):e._e(),e.getArchive.references_unpublished&&e.getArchive.references_unpublished.length>0?[t("h4",[e._v("Unpublished references")]),e.getArchive.references_unpublished?t("ul",e._l(e.getArchive.references_unpublished,(function(i){return t("li",{key:i},[e._v("\n                "+e._s(i.reference)+"\n              ")])})),0):e._e()]:e._e()],2):e._e()])]),t("div",[t("section",[e.notes&&""!=e.notes||e.getArchive.publication_details&&""!=e.getArchive.publication_details||e.getArchive.label&&""!=e.getArchive.label?t("div",[t("h2",[e._v("Additional Notes")]),e.notes&&""!=e.notes?t("p",{domProps:{innerHTML:e._s(e.notes)}}):e._e()]):e._e()])])]),e.getArchive.related_entries&&e.getArchive.related_entries.length>0?t("related-objects-template",{attrs:{relatedObjects:e.getArchive.related_entries}}):e._e()],1)}),_e=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"image-control",attrs:{id:"navigation-pane"}},[t("span",{staticClass:"nav-icon",attrs:{id:"prev"}}),t("div",{staticClass:"control"},[t("span",{staticClass:"nav-icon",attrs:{id:"zoom-in"}}),t("span",{staticClass:"nav-icon",attrs:{id:"zoom-out"}}),t("span",{staticClass:"nav-icon",attrs:{id:"rotate-left"}}),t("span",{staticClass:"nav-icon",attrs:{id:"rotate-right"}}),t("span",{staticClass:"nav-icon",attrs:{id:"default"}}),t("span",{staticClass:"nav-icon",attrs:{id:"full-mode"}})]),t("span",{staticClass:"nav-icon",attrs:{id:"next"}})])}],ge=i("aa78"),ve=i.n(ge),ye=(i("6a2c"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"related-objects"},[e.showTitle?t("h2",[e._v("Related objects")]):e._e(),t("div",{staticClass:"slider-container"},[t("VueSlickCarousel",e._b({ref:"related",staticClass:"slider"},"VueSlickCarousel",e.relatedOptions,!1),e._l(e.relatedObjects,(function(n,a){return t("div",{key:a,staticClass:"object-single"},[t("router-link",{attrs:{to:{name:"object",params:{id:n.pk}}}},[t("span",{staticClass:"object-thumbnail"},[t("span"),"PLACEHOLDER"!=n.media[0].thumbnail_url?t("img",{attrs:{src:n.media[0].thumbnail_url,alt:n.unittitle}}):t("img",{attrs:{src:i("e8e8"),height:"1602",width:"1644",alt:"Image placeholder"}})]),t("div",{staticClass:"object-description"},[t("p",{staticClass:"details"},[e._v(e._s(n.medium))]),t("h4",[e._v(e._s(n.unittitle))])])])],1)})),0)],1)])}),be=[],ke={name:"RelatedObjects",props:{relatedObjects:Array,showTitle:{type:Boolean,default:!0}},components:{VueSlickCarousel:q.a},data:function(){return{relatedOptions:{arrows:!0,dots:!0,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1100,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:850,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:450,settings:{slidesToShow:1,slidesToScroll:1}}]}}}},we=ke,xe=Object(m["a"])(we,ye,be,!1,null,null,null),je=xe.exports,Se=[],Te={};function Oe(e){0==document.getElementsByClassName("openseadragon-container").length&&(Te=ve()({id:"openseadragon",tileSources:[Se],sequenceMode:!0,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",homeButton:"default",fullPageButton:"full-mode",rotateLeftButton:"rotate-left",rotateRightButton:"rotate-right",nextButton:"next",previousButton:"prev",degrees:0,showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}})),Te.goToPage(e)}var Ce={name:"ArchiveSingle",components:{VueSlickCarousel:q.a,RelatedObjectsTemplate:je},computed:Object(d["c"])(["getArchive"]),data:function(){return{loading:!0,tab:"summary",viewer:"",notes:"",placeholder_image:i("e8e8"),sliderOptions:{arrows:!1,dots:!1,vertical:!0,verticalSwiping:!0,initialSlide:0,responsive:[{breakpoint:600,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:2,slidesToScroll:2}}]}}},filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}},methods:Object(h["a"])(Object(h["a"])({updatePage:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.id){t.next=5;break}return t.next=3,e.fetchArchive(e.$route.params.id);case 3:t.next=8;break;case 5:if(!e.$route.params.reference){t.next=8;break}return t.next=8,e.fetchRCTArchive(e.$route.params.reference);case 8:e.notes=e.getArchive.notes_parsed,e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},initOpenSeaDragon:function(){for(var e in Se=[],this.getArchive.media)"PLACEHOLDER"!=this.getArchive.media[e].iiif_image_url?Se.push(this.getArchive.media[e].iiif_image_url):Se.push({type:"image",url:this.placeholder_image,buildPyramid:!1});Oe(0)},showNext:function(){this.$refs.carousel.next()},showPrev:function(){this.$refs.carousel.prev()},updateImage:function(e){Oe(e)},sortedList:function(e){return e.slice().sort((function(e,t){return e.localeCompare(t)}))},sortedPeople:function(e){var t=e.slice().sort((function(e,t){return e.type.localeCompare(t.type)})),i={};for(var n in t)null==i[t[n].type]&&(i[t[n].type]=[]),i[t[n].type].push(t[n]);for(var a in i)i[a]=i[a].slice().sort((function(e,t){return e.surname.localeCompare(t.surname)}));return i}},Object(d["b"])(["fetchArchive"])),Object(d["b"])(["fetchRCTArchive"])),created:function(){this.updatePage()},mounted:function(){var e=this;setTimeout((function(){e.$refs.openSeaDragon&&!e.loading&&e.initOpenSeaDragon()}),1e3)},watch:{$route:function(){this.updatePage()}}},Ae=Ce,Me=Object(m["a"])(Ae,me,_e,!1,null,null,null),Le=Me.exports,Pe={name:"ObjectRecord",components:{ArchiveSingle:Le,TheBreadcrumbs:ee},data:function(){return{breadcrumbs:[{text:"Home",url:"/"},{text:"Objects",url:"/objects"}]}}},Ee=Pe,Re=Object(m["a"])(Ee,fe,pe,!1,null,null,null),De=Re.exports,Ie=function(){var e=this,t=e._self._c;return t("main",{staticClass:"object-story"},[t("div",{staticClass:"container"},[t("object-story-single")],1)])},Ne=[],qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"story"},[e.loading?t("div",{staticClass:"loader"}):[t("h1",{staticClass:"page-title"},[e._v(e._s(e.getStory.title))]),t("div",{staticClass:"two-column-70-30"},[t("WagtailContent",{attrs:{api_content:e.getStory}}),"editor.StoryObjectCollection"===e.pageType?t("div",{staticClass:"grey-column"},[t("h3",[e._v("All stories")]),e._l(e.getStoryList,(function(i,n){return t("router-link",{key:n,class:[{active:i.url_slug===e.$route.params.subpage}],attrs:{to:{name:"story",params:{subpage:i.url_slug}}}},[e._v(e._s(i.title))])}))],2):e._e(),"editor.ThemeObjectCollection"===e.pageType?t("div",{staticClass:"grey-column"},[t("h3",[e._v("All themes")]),e._l(e.getThemeList,(function(i,n){return t("router-link",{key:n,class:[{active:i.url_slug===e.$route.params.subpage}],attrs:{to:{name:"theme",params:{subpage:i.url_slug}}}},[e._v(e._s(i.title))])}))],2):e._e()],1),e.getStory.related_documents&&e.getStory.related_documents.length>0?t("related-objects-template",{attrs:{relatedObjects:e.getStory.related_documents}}):e._e()]],2)},Be=[],Fe=function(){var e=this,t=e._self._c;return t("div",["editor.RichTextPage"==e.api_content.meta.type?[e.api_content.introduction?t("div",{staticClass:"introduction",domProps:{innerHTML:e._s(e.api_content.introduction)}}):e._e(),e.api_content.resource&&""!=e.api_content.resource?t("img",{attrs:{src:e.api_content.resource,alt:e.api_content.alt}}):e._e(),t("div",{staticClass:"description",domProps:{innerHTML:e._s(e.api_content.body)}})]:"editor.StreamFieldPage"==e.api_content.meta.type||"editor.StoryObjectCollection"==e.api_content.meta.type||"editor.ThemeObjectCollection"==e.api_content.meta.type?[e._l(e.api_content.body,(function(e,i){return[t("WagtailBlocks",{key:i,attrs:{block:e}})]}))]:e._e()],2)},We=[],ze=function(){var e=this,t=e._self._c;return t("div",{key:e.block.id},["heading"==e.block.type?t("h2",[e._v(e._s(e.block.value))]):"paragraph"==e.block.type?t("span",{domProps:{innerHTML:e._s(e.block.value)}}):"image"==e.block.type?t("img",{attrs:{src:e.block.value.full_url,width:e.block.value.full_width,height:e.block.value.full_height,alt:""}}):"document"==e.block.type?t("p",[t("a",{attrs:{href:e.block.value.url}},[t("button",{staticClass:"button-secondary small pdf mgn-right"},[e._v("Download PDF")])]),e._v("\n    "+e._s(e.block.value.title)+"\n  ")]):"embed"==e.block.type?t("p",[t("iframe",{attrs:{width:"200",height:"113",src:e.block.value.url,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]):"gallery"==e.block.type?t("section",{staticClass:"image_row"},e._l(e.block.value,(function(n){return t("figure",{key:n.filename},["PLACEHOLDER"!=n.full_url?t("img",{attrs:{src:n.full_url,width:n.full_width,height:n.full_height,alt:""}}):t("img",{attrs:{src:i("e8e8"),height:"1602",width:"1644",alt:"Image placeholder"}}),n.caption.length>0?t("figcaption",[e._v(e._s(n.caption))]):e._e()])})),0):"two_column_section"==e.block.type?t("div",{staticClass:"two-column-50-50"},e._l(e.block.value,(function(i){return t("div",{key:i.heading},[t("div",[t("h3",{domProps:{innerHTML:e._s(i.heading)}})]),i.subheading.length>0?t("div",[t("h4",{domProps:{innerHTML:e._s(i.subheading)}})]):e._e(),t("div",{domProps:{innerHTML:e._s(i.body)}})])})),0):e._e()])},He=[],Ue={name:"WagtailBlocks",props:["block"]},Ge=Ue,Ve=Object(m["a"])(Ge,ze,He,!1,null,null,null),$e=Ve.exports,Je={name:"WagtailContent",components:{WagtailBlocks:$e},props:["api_content"]},Ye=Je,Ke=Object(m["a"])(Ye,Fe,We,!1,null,null,null),Ze=Ke.exports,Qe={name:"ObjectStorySingle",props:{pageType:{type:String,default:"editor.StoryObjectCollection"}},computed:Object(d["c"])(["getStory","getStoryList","getThemeList"]),components:{WagtailContent:Ze,RelatedObjectsTemplate:je},data:function(){return{loading:!0}},methods:Object(h["a"])({},Object(d["b"])(["fetchStoryList","fetchStory","fetchTheme","fetchThemeList"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("editor.StoryObjectCollection"!==e.pageType){t.next=7;break}return t.next=3,e.fetchStoryList();case 3:return t.next=5,e.fetchStory(e.$route.params.subpage);case 5:t.next=12;break;case 7:if("editor.ThemeObjectCollection"!==e.pageType){t.next=12;break}return t.next=10,e.fetchThemeList();case 10:return t.next=12,e.fetchTheme(e.$route.params.subpage);case 12:e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e){this.fetchStory(e.params.subpage)}}},Xe=Qe,et=Object(m["a"])(Xe,qe,Be,!1,null,null,null),tt=et.exports,it={name:"ObjectStory",components:{ObjectStorySingle:tt}},nt=it,at=Object(m["a"])(nt,Ie,Ne,!1,null,null,null),rt=at.exports,ot=function(){var e=this,t=e._self._c;return t("main",{staticClass:"object-story"},[t("div",{staticClass:"container"},[t("object-story-single",{attrs:{pageType:"editor.ThemeObjectCollection"}})],1)])},st=[],ct={name:"ObjectTheme",components:{ObjectStorySingle:tt}},lt=ct,ut=Object(m["a"])(lt,ot,st,!1,null,null,null),ht=ut.exports,dt=function(){var e=this,t=e._self._c;return t("main",{staticClass:"resources"},[t("div",{staticClass:"container"},[t("secondary-page")],1)])},ft=[],pt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"secondary-page"},[t("h1",{staticClass:"page-title"},[e._v(e._s(e.getPage.title))]),e.loading?t("div",{staticClass:"loader"}):[t("WagtailContent",{attrs:{api_content:e.getPage}})]],2)},mt=[],_t={name:"SecondaryPage",components:{WagtailContent:Ze},computed:Object(d["c"])(["getPage","getImageURL"]),data:function(){return{loading:!0}},methods:Object(h["a"])({updatePage:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.fetchSecondaryPage(e.$route.name);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},Object(d["b"])(["fetchSecondaryPage"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$route.name&&e.updatePage(),e.fetchSecondaryPage(e.$route.name);case 2:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e){e.name&&this.updatePage()}}},gt=_t,vt=Object(m["a"])(gt,pt,mt,!1,null,null,null),yt=vt.exports,bt={name:"Resources",components:{SecondaryPage:yt}},kt=bt,wt=Object(m["a"])(kt,dt,ft,!1,null,null,null),xt=wt.exports,jt=function(){var e=this,t=e._self._c;return t("main",{staticClass:"about"},[t("div",{staticClass:"container"},[t("the-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),t("about-page")],1)])},St=[],Tt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"about-page"},[t("h1",{staticClass:"page-title"},[e._v(e._s(e.getPage.title))]),e.loading?e._e():[t("WagtailContent",{attrs:{api_content:e.getPage}})]],2)},Ot=[],Ct={name:"AboutPage",components:{WagtailContent:Ze},computed:Object(d["c"])(["getPage","getImageURL"]),data:function(){return{loading:!0}},methods:Object(h["a"])({updatePage:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.fetchSecondaryPage(e.$route.name);case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},Object(d["b"])(["fetchSecondaryPage"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$route.name&&e.updatePage(),e.fetchSecondaryPage(e.$route.name);case 2:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e){e.name&&this.updatePage()}}},At=Ct,Mt=Object(m["a"])(At,Tt,Ot,!1,null,null,null),Lt=Mt.exports,Pt={name:"About",components:{AboutPage:Lt,TheBreadcrumbs:ee},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Et=Pt,Rt=Object(m["a"])(Et,jt,St,!1,null,null,null),Dt=Rt.exports,It=function(){var e=this,t=e._self._c;return t("main",{staticClass:"search-results"},[t("search-results-page")],1)},Nt=[],qt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-results-page container"},[e.loading?t("div",{staticClass:"loader"}):[0==e.getSearchResultsTotal?t("div",[t("h1",{staticClass:"page-title"},[e._v("No matches found")]),t("p",[e._v("We couldn't find a match for \""),t("strong",[e._v(e._s(e.searchTerm))]),e._v('". Please try another search.')])]):t("div",[t("h1",{staticClass:"page-title"},[e._v("Search results")]),t("p",[e._v(e._s(e.getSearchResultsTotal)+" "+e._s(e._f("pluralize")("result",e.getSearchResultsTotal))+' found for: "'),t("strong",[e._v(e._s(e.searchTerm))]),e._v('"')]),e._l(e.getSearchResults,(function(i,n){return t("div",{key:n,staticClass:"result"},["object"==i.doc_type?t("router-link",{staticClass:"result-page",attrs:{to:{name:i.doc_type,params:{id:i.pk}}}},[e._v(e._s(i.unittitle))]):"page"==i.doc_type?t("router-link",{staticClass:"result-page",attrs:{to:{name:i.page,params:{subpage:i.reference}}}},[e._v(e._s(i.unittitle))]):t("router-link",{staticClass:"result-page",attrs:{to:{name:i.doc_type}}},[e._v(e._s(i.unittitle))]),t("p",{staticClass:"result-snippet"},[e._v(e._s(i.category))])],1)}))],2),e.loadingMoreRecords?t("div",{staticClass:"loader"}):[e.getSearchResults&&e.getSearchResults.length<e.getSearchResultsTotal?t("button",{staticClass:"button-secondary",attrs:{type:"button"},on:{click:function(t){return e.moreRecords()}}},[e._v("Show more results")]):e._e()]]],2)},Bt=[],Ft={name:"SearchResultsPage",components:{},computed:Object(d["c"])(["getSearchResults","getSearchResultsTotal"]),data:function(){return{loading:!0,loadingMoreRecords:!1,searchTerm:"",pageNum:1}},methods:Object(h["a"])({updatePage:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,i=e.$route.query,e.pageNum=1,t.t0=Object(l["a"])().keys(i);case 4:if((t.t1=t.t0()).done){t.next=15;break}n=t.t1.value,t.t2=n,t.next="q"===t.t2?9:"page"===t.t2?11:13;break;case 9:return e.searchTerm=i[n],t.abrupt("break",13);case 11:return e.pageNum=Number(i[n]),t.abrupt("break",13);case 13:t.next=4;break;case 15:return t.next=17,e.fetchSearchResults({pages:e.pageNum,searchTerm:e.searchTerm});case 17:e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},moreRecords:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){var i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingMoreRecords=!0,e.pageNum=Number(e.pageNum)+1,i=e.$route.query,i["page"]=Number(e.pageNum),e.$router.replace({query:{}}),e.$router.push({query:i}),t.next=8,e.loadMoreSearchResults();case 8:e.loadingMoreRecords=!1;case 9:case"end":return t.stop()}}),t)})))()}},Object(d["b"])(["fetchSearchResults","loadMoreSearchResults"])),created:function(){this.updatePage()},watch:{$route:function(e,t){t.query.q!=e.query.q&&this.updatePage()}}},Wt=Ft,zt=Object(m["a"])(Wt,qt,Bt,!1,null,null,null),Ht=zt.exports,Ut={name:"SearchResults",components:{SearchResultsPage:Ht}},Gt=Ut,Vt=Object(m["a"])(Gt,It,Nt,!1,null,null,null),$t=Vt.exports,Jt=function(){var e=this,t=e._self._c;return t("main",{staticClass:"secondary"},[t("div",{staticClass:"container"},[t("the-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),t("secondary-page")],1)])},Yt=[],Kt={name:"Secondary",components:{TheBreadcrumbs:ee,SecondaryPage:yt},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Zt=Kt,Qt=Object(m["a"])(Zt,Jt,Yt,!1,null,null,null),Xt=Qt.exports,ei=function(){var e=this,t=e._self._c;return t("main",{staticClass:"not-found"},[t("div",{staticClass:"container flex"},[t("p",{staticClass:"error"},[e._v("404")]),t("div",[t("h1",{staticClass:"page-title"},[e._v("Page not found")]),t("p",[e._v("We can't find the page you are looking for.")]),t("router-link",{staticClass:"link-button-primary small arrow",attrs:{to:{name:"home"}}},[e._v("Go to home page")])],1)])])},ti=[],ii={name:"PageNotFound",components:{}},ni=ii,ai=Object(m["a"])(ni,ei,ti,!1,null,null,null),ri=ai.exports,oi=function(){var e=this,t=e._self._c;return t("main",{staticClass:"object-story"},[t("div",{staticClass:"container"},[e._m(0),"editor.StoryObjectCollection"===e.pageType?t("h1",{staticClass:"page-title"},[e._v("Stories")]):"editor.ThemeObjectCollection"===e.pageType?t("h1",{staticClass:"page-title"},[e._v("Connections")]):e._e(),t("div",{attrs:{id:"sidebar",role:"navigation"}},[t("input",{attrs:{type:"checkbox",id:"ref"}}),t("label",{staticClass:"ref",attrs:{"aria-label":"Title Index",for:"ref"}},[t("h1",[e._v("Story Titles")]),t("div",{staticClass:"message"},[t("ul",e._l(e.getStoryList,(function(i,n){return t("li",{key:n,class:[{active:i.url_slug===e.$route.params.subpage}],attrs:{to:{name:"story",params:{subpage:i.url_slug}}}},[t("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#title-"+i.id,expression:"'#title-'+story.id"}],class:{"name-active":"title-one"===e.active},attrs:{href:"#"},on:{click:function(t){e.active="title-"+i.id}}},[t("h2",[e._v(e._s(i.title))])])])})),0)])])]),t("div",[t("p",{domProps:{innerHTML:e._s(e.getStoryStrap)}})]),t("br"),e._l(e.getStoryList,(function(i,n){return t("div",{key:n,staticClass:"story"},[t("h2",{attrs:{id:"title-"+i.id}},[e._v("\n        "+e._s(i.title)+"\n      ")]),"editor.StoryObjectCollection"===e.pageType?t("p",[e._l(i.body,(function(e){return[t("WagtailBlocks",{attrs:{block:e}})]}))],2):e._e(),i.related_documents&&i.related_documents.length>0?t("related-objects-template",{attrs:{relatedObjects:i.related_documents,"show-title":!1}}):e._e()],1)}))],2)])},si=[function(){var e=this,t=e._self._c;return t("ul",{staticClass:"breadcrumbs"},[t("li",[t("a",{staticClass:"breadcrumbs__link router-link-active",attrs:{href:"/"}},[e._v("Home")])])])}],ci={name:"StoryList",computed:Object(d["c"])(["getStory","getStoryList","getStoryStrap"]),components:{WagtailBlocks:$e,RelatedObjectsTemplate:je},data:function(){return{active:null}},props:{pageType:{type:String,default:"editor.StoryObjectCollection"}},methods:Object(h["a"])({},Object(d["b"])(["fetchStoryList","fetchThemeList","fetchStoryStrap"])),created:function(){var e=this;return Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("editor.StoryObjectCollection"!==e.pageType){t.next=7;break}return t.next=3,e.fetchStoryList();case 3:return t.next=5,e.fetchStoryStrap();case 5:t.next=10;break;case 7:if("editor.ThemeObjectCollection"!==e.pageType){t.next=10;break}return t.next=10,e.fetchThemeList();case 10:e.loading=!1;case 11:case"end":return t.stop()}}),t)})))()},watch:{$route:function(){"editor.ThemeObjectCollection"===this.pageType?this.fetchThemeList():this.fetchStoryList()}}},li=ci,ui=Object(m["a"])(li,oi,si,!1,null,"8d05755c",null),hi=ui.exports,di=function(){var e=this,t=e._self._c;return t("main",{staticClass:"secondary"},[t("div",{staticClass:"container"},[t("the-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),t("timeline")],1)])},fi=[],pi=function(){var e=this;e._self._c;return e._m(0)},mi=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"timeline"},[t("h1",{staticClass:"page-title"},[e._v("Timeline")]),t("div",{attrs:{id:"timeline-embed"}})])}],_i=i("b85c"),gi=i("bee2"),vi=i("d4ec"),yi=i("8f33"),bi=i("262e"),ki=i("9072"),wi=i("53ca"),xi=(i("a4d3"),i("e01a"),i("d28b"),i("944a"),i("d9e2"),i("33d1"),i("99af"),i("cb29"),i("7db0"),i("c740"),i("8bd5"),i("71b4"),i("5db7"),i("a630"),i("caad"),i("a15b"),i("73d9"),i("c19f"),i("ace4"),i("2c66"),i("249d"),i("40e9"),i("0c47"),i("23dc"),i("b680"),i("dca8"),i("7039"),i("3410"),i("e21d"),i("1f68"),i("af93"),i("131a"),i("a6fd"),i("4ae1"),i("f8c9"),i("4d63"),i("c607"),i("2c3e"),i("ea98"),i("8a79"),i("2532"),i("3ca3"),i("843c"),i("4d90"),i("38cf"),i("841c"),i("1276"),i("2ca0"),i("498a"),i("1e25"),i("eee7"),i("9911"),i("ab3c"),i("76d6"),i("fffc"),i("cd1a"),i("4e3e"),i("9d4a"),i("9a9a"),i("4417"),i("cbc8"),i("159b"),i("c73d"),i("2b3d"),i("bf19"),i("9861"),i("88a7"),i("271a"),i("5494"),function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==Object(wi["a"])(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(e,t,i){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
e.exports=function(){var e=Object.hasOwnProperty,t=Object.setPrototypeOf,i=Object.isFrozen,n=Object.keys,a=Object.freeze,r=Object.seal,o="undefined"!=typeof Reflect&&Reflect,s=o.apply,c=o.construct;s||(s=function(e,t,i){return e.apply(t,i)}),a||(a=function(e){return e}),r||(r=function(e){return e}),c||(c=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))))});var l=x(Array.prototype.forEach),u=x(Array.prototype.indexOf),h=x(Array.prototype.join),d=x(Array.prototype.pop),f=x(Array.prototype.push),p=x(Array.prototype.slice),m=x(String.prototype.toLowerCase),_=x(String.prototype.match),g=x(String.prototype.replace),v=x(String.prototype.indexOf),y=x(String.prototype.trim),b=x(RegExp.prototype.test),k=j(RegExp),w=j(TypeError);function x(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return s(e,t,n)}}function j(e){return function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return c(e,i)}}function S(e,n){t&&t(e,null);for(var a=n.length;a--;){var r=n[a];if("string"==typeof r){var o=m(r);o!==r&&(i(n)||(n[a]=o),r=o)}e[r]=!0}return e}function T(t){var i={},n=void 0;for(n in t)s(e,t,[n])&&(i[n]=t[n]);return i}var O=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),A=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),L=a(["#text"]),P=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),E=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I=r(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=r(/<%[\s\S]*|[\s\S]*%>/gm),q=r(/^data-[\-\w.\u00B7-\uFFFF]/),B=r(/^aria-[\-\w]+$/),F=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),W=r(/^(?:\w+script|data):/i),z=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),H="function"==typeof Symbol&&"symbol"==Object(wi["a"])(Symbol.iterator)?function(e){return Object(wi["a"])(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Object(wi["a"])(e)};function U(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var G=function(){return"undefined"==typeof window?null:window},V=function(e,t){if("object"!==(void 0===e?"undefined":H(e))||"function"!=typeof e.createPolicy)return null;var i=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(i=t.currentScript.getAttribute("data-tt-policy-suffix"));var n="dompurify"+(i?"#"+i:"");try{return e.createPolicy(n,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G(),i=function(t){return e(t)};if(i.version="2.0.11",i.removed=[],!t||!t.document||9!==t.document.nodeType)return i.isSupported=!1,i;var r=t.document,o=!1,s=t.document,c=t.DocumentFragment,x=t.HTMLTemplateElement,j=t.Node,$=t.NodeFilter,J=t.NamedNodeMap,Y=void 0===J?t.NamedNodeMap||t.MozNamedAttrMap:J,K=t.Text,Z=t.Comment,Q=t.DOMParser,X=t.trustedTypes;if("function"==typeof x){var ee=s.createElement("template");ee.content&&ee.content.ownerDocument&&(s=ee.content.ownerDocument)}var te=V(X,r),ie=te?te.createHTML(""):"",ne=s,ae=ne.implementation,re=ne.createNodeIterator,oe=ne.getElementsByTagName,se=ne.createDocumentFragment,ce=r.importNode,le={};i.isSupported=ae&&void 0!==ae.createHTMLDocument&&9!==s.documentMode;var ue=I,he=N,de=q,fe=B,pe=W,me=z,_e=F,ge=null,ve=S({},[].concat(U(O),U(C),U(A),U(M),U(L))),ye=null,be=S({},[].concat(U(P),U(E),U(R),U(D))),ke=null,we=null,xe=!0,je=!0,Se=!1,Te=!1,Oe=!1,Ce=!1,Ae=!1,Me=!1,Le=!1,Pe=!1,Ee=!1,Re=!1,De=!0,Ie=!0,Ne=!1,qe={},Be=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Fe=null,We=S({},["audio","video","img","source","image","track"]),ze=null,He=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ue=null,Ge=s.createElement("form"),Ve=function(e){Ue&&Ue===e||(e&&"object"===(void 0===e?"undefined":H(e))||(e={}),ge="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):ve,ye="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):be,ze="ADD_URI_SAFE_ATTR"in e?S(T(He),e.ADD_URI_SAFE_ATTR):He,Fe="ADD_DATA_URI_TAGS"in e?S(T(We),e.ADD_DATA_URI_TAGS):We,ke="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},we="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},qe="USE_PROFILES"in e&&e.USE_PROFILES,xe=!1!==e.ALLOW_ARIA_ATTR,je=!1!==e.ALLOW_DATA_ATTR,Se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Te=e.SAFE_FOR_JQUERY||!1,Oe=e.SAFE_FOR_TEMPLATES||!1,Ce=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Pe=e.RETURN_DOM_FRAGMENT||!1,Ee=e.RETURN_DOM_IMPORT||!1,Re=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,De=!1!==e.SANITIZE_DOM,Ie=!1!==e.KEEP_CONTENT,Ne=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||_e,Oe&&(je=!1),Pe&&(Le=!0),qe&&(ge=S({},[].concat(U(L))),ye=[],!0===qe.html&&(S(ge,O),S(ye,P)),!0===qe.svg&&(S(ge,C),S(ye,E),S(ye,D)),!0===qe.svgFilters&&(S(ge,A),S(ye,E),S(ye,D)),!0===qe.mathMl&&(S(ge,M),S(ye,R),S(ye,D))),e.ADD_TAGS&&(ge===ve&&(ge=T(ge)),S(ge,e.ADD_TAGS)),e.ADD_ATTR&&(ye===be&&(ye=T(ye)),S(ye,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(ze,e.ADD_URI_SAFE_ATTR),Ie&&(ge["#text"]=!0),Ce&&S(ge,["html","head","body"]),ge.table&&(S(ge,["tbody"]),delete ke.tbody),a&&a(e),Ue=e)},$e=function(e){f(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=ie}},Je=function(e,t){try{f(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(i.removed,{attribute:null,from:t})}t.removeAttribute(e)},Ye=function(e){var t=void 0,i=void 0;if(Me)e="<remove></remove>"+e;else{var n=_(e,/^[\r\n\t ]+/);i=n&&n[0]}var a=te?te.createHTML(e):e;try{t=(new Q).parseFromString(a,"text/html")}catch(e){}if(o&&S(ke,["title"]),!t||!t.documentElement){var r=(t=ae.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=a}return e&&i&&t.body.insertBefore(s.createTextNode(i),t.body.childNodes[0]||null),oe.call(t,Ce?"html":"body")[0]};i.isSupported&&function(){try{var e=Ye("<x/><title>&lt;/title&gt;&lt;img&gt;");b(/<\/title/,e.querySelector("title").innerHTML)&&(o=!0)}catch(e){}}();var Ke=function(e){return re.call(e.ownerDocument||e,e,$.SHOW_ELEMENT|$.SHOW_COMMENT|$.SHOW_TEXT,(function(){return $.FILTER_ACCEPT}),!1)},Ze=function(e){return!(e instanceof K||e instanceof Z||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof Y&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Qe=function(e){return"object"===(void 0===j?"undefined":H(j))?e instanceof j:e&&"object"===(void 0===e?"undefined":H(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Xe=function(e,t,n){le[e]&&l(le[e],(function(e){e.call(i,t,n,Ue)}))},et=function(e){var t=void 0;if(Xe("beforeSanitizeElements",e,null),Ze(e))return $e(e),!0;var n=m(e.nodeName);if(Xe("uponSanitizeElement",e,{tagName:n,allowedTags:ge}),("svg"===n||"math"===n)&&0!==e.querySelectorAll("p, br").length)return $e(e),!0;if(!ge[n]||ke[n]){if(Ie&&!Be[n]&&"function"==typeof e.insertAdjacentHTML)try{var a=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(a):a)}catch(e){}return $e(e),!0}return"noscript"===n&&b(/<\/noscript/i,e.innerHTML)||"noembed"===n&&b(/<\/noembed/i,e.innerHTML)?($e(e),!0):(!Te||e.firstElementChild||e.content&&e.content.firstElementChild||!b(/</g,e.textContent)||(f(i.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=g(e.innerHTML,/</g,"&lt;"):e.innerHTML=g(e.textContent,/</g,"&lt;")),Oe&&3===e.nodeType&&(t=e.textContent,t=g(t,ue," "),t=g(t,he," "),e.textContent!==t&&(f(i.removed,{element:e.cloneNode()}),e.textContent=t)),Xe("afterSanitizeElements",e,null),!1)},tt=function(e,t,i){if(De&&("id"===t||"name"===t)&&(i in s||i in Ge))return!1;if(je&&b(de,t));else if(xe&&b(fe,t));else{if(!ye[t]||we[t])return!1;if(ze[t]);else if(b(_e,g(i,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(i,"data:")||!Fe[e])if(Se&&!b(pe,g(i,me,"")));else if(i)return!1}return!0},it=function(e){var t=void 0,a=void 0,r=void 0,o=void 0,s=void 0;Xe("beforeSanitizeAttributes",e,null);var c=e.attributes;if(c){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(s=c.length;s--;){var f=t=c[s],_=f.name,v=f.namespaceURI;if(a=y(t.value),r=m(_),l.attrName=r,l.attrValue=a,l.keepAttr=!0,l.forceKeepAttr=void 0,Xe("uponSanitizeAttribute",e,l),a=l.attrValue,!l.forceKeepAttr){if("name"===r&&"IMG"===e.nodeName&&c.id)o=c.id,c=p(c,[]),Je("id",e),Je(_,e),u(c,o)>s&&e.setAttribute("id",o.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===a&&l.keepAttr&&(ye[r]||!we[r]))continue;"id"===_&&e.setAttribute(_,""),Je(_,e)}if(l.keepAttr)if(Te&&b(/\/>/i,a))Je(_,e);else if(b(/svg|math/i,e.namespaceURI)&&b(k("</("+h(n(Be),"|")+")","i"),a))Je(_,e);else{Oe&&(a=g(a,ue," "),a=g(a,he," "));var w=e.nodeName.toLowerCase();if(tt(w,r,a))try{v?e.setAttributeNS(v,_,a):e.setAttribute(_,a),d(i.removed)}catch(e){}}}}Xe("afterSanitizeAttributes",e,null)}},nt=function e(t){var i=void 0,n=Ke(t);for(Xe("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)Xe("uponSanitizeShadowNode",i,null),et(i)||(i.content instanceof c&&e(i.content),it(i));Xe("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(e,n){var a=void 0,o=void 0,s=void 0,l=void 0,u=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Qe(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!i.isSupported){if("object"===H(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Qe(e))return t.toStaticHTML(e.outerHTML)}return e}if(Ae||Ve(n),i.removed=[],"string"==typeof e&&(Ne=!1),Ne);else if(e instanceof j)1===(o=(a=Ye("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?a=o:a.appendChild(o);else{if(!Le&&!Oe&&!Ce&&Re&&-1===e.indexOf("<"))return te?te.createHTML(e):e;if(!(a=Ye(e)))return Le?null:ie}a&&Me&&$e(a.firstChild);for(var h=Ke(Ne?e:a);s=h.nextNode();)3===s.nodeType&&s===l||et(s)||(s.content instanceof c&&nt(s.content),it(s),l=s);if(l=null,Ne)return e;if(Le){if(Pe)for(u=se.call(a.ownerDocument);a.firstChild;)u.appendChild(a.firstChild);else u=a;return Ee&&(u=ce.call(r,u,!0)),u}var d=Ce?a.outerHTML:a.innerHTML;return Oe&&(d=g(d,ue," "),d=g(d,he," ")),te&&Re?te.createHTML(d):d},i.setConfig=function(e){Ve(e),Ae=!0},i.clearConfig=function(){Ue=null,Ae=!1},i.isValidAttribute=function(e,t,i){Ue||Ve({});var n=m(e),a=m(t);return tt(n,a,i)},i.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],f(le[e],t))},i.removeHook=function(e){le[e]&&d(le[e])},i.removeHooks=function(e){le[e]&&(le[e]=[])},i.removeAllHooks=function(){le={}},i}()}()},function(e,t,i){},function(e,t,i){(function(e,n){var a;
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */(function(){var r="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",_="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",k="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",j="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",L="[object Uint16Array]",P="[object Uint32Array]",E=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,I=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,q=RegExp(I.source),B=RegExp(N.source),F=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,$=RegExp(V.source),J=/^\s+|\s+$/g,Y=/^\s+/,K=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,ae=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,he=/['\n\r\u2028\u2029\\]/g,de="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",me="["+fe+"]",_e="["+de+"]",ge="\\d+",ve="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",be="[^\\ud800-\\udfff"+fe+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ke="\\ud83c[\\udffb-\\udfff]",we="[^\\ud800-\\udfff]",xe="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Te="(?:"+ye+"|"+be+")",Oe="(?:"+Se+"|"+be+")",Ce="(?:"+_e+"|"+ke+")?",Ae="[\\ufe0e\\ufe0f]?"+Ce+"(?:\\u200d(?:"+[we,xe,je].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*",Me="(?:"+[ve,xe,je].join("|")+")"+Ae,Le="(?:"+[we+_e+"?",_e,xe,je,pe].join("|")+")",Pe=RegExp("['’]","g"),Ee=RegExp(_e,"g"),Re=RegExp(ke+"(?="+ke+")|"+Le+Ae,"g"),De=RegExp([Se+"?"+ye+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[me,Se,"$"].join("|")+")",Oe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[me,Se+Te,"$"].join("|")+")",Se+"?"+Te+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Se+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Me].join("|"),"g"),Ie=RegExp("[\\u200d\\ud800-\\udfff"+de+"\\ufe0e\\ufe0f]"),Ne=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Be=-1,Fe={};Fe[S]=Fe[T]=Fe[O]=Fe[C]=Fe[A]=Fe[M]=Fe["[object Uint8ClampedArray]"]=Fe[L]=Fe[P]=!0,Fe[c]=Fe[l]=Fe[x]=Fe[u]=Fe[j]=Fe[h]=Fe[d]=Fe[f]=Fe[m]=Fe[_]=Fe[g]=Fe[v]=Fe[y]=Fe[b]=Fe[w]=!1;var We={};We[c]=We[l]=We[x]=We[j]=We[u]=We[h]=We[S]=We[T]=We[O]=We[C]=We[A]=We[m]=We[_]=We[g]=We[v]=We[y]=We[b]=We[k]=We[M]=We["[object Uint8ClampedArray]"]=We[L]=We[P]=!0,We[d]=We[f]=We[w]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,Ge="object"==Object(wi["a"])(e)&&e&&e.Object===Object&&e,Ve="object"==("undefined"===typeof self?"undefined":Object(wi["a"])(self))&&self&&self.Object===Object&&self,$e=Ge||Ve||Function("return this")(),Je=t&&!t.nodeType&&t,Ye=Je&&"object"==Object(wi["a"])(n)&&n&&!n.nodeType&&n,Ke=Ye&&Ye.exports===Je,Ze=Ke&&Ge.process,Qe=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),Xe=Qe&&Qe.isArrayBuffer,et=Qe&&Qe.isDate,tt=Qe&&Qe.isMap,it=Qe&&Qe.isRegExp,nt=Qe&&Qe.isSet,at=Qe&&Qe.isTypedArray;function rt(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function ot(e,t,i,n){for(var a=-1,r=null==e?0:e.length;++a<r;){var o=e[a];t(n,o,i(o),e)}return n}function st(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function ct(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function lt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function ut(e,t){for(var i=-1,n=null==e?0:e.length,a=0,r=[];++i<n;){var o=e[i];t(o,i,e)&&(r[a++]=o)}return r}function ht(e,t){return!(null==e||!e.length)&&kt(e,t,0)>-1}function dt(e,t,i){for(var n=-1,a=null==e?0:e.length;++n<a;)if(i(t,e[n]))return!0;return!1}function ft(e,t){for(var i=-1,n=null==e?0:e.length,a=Array(n);++i<n;)a[i]=t(e[i],i,e);return a}function pt(e,t){for(var i=-1,n=t.length,a=e.length;++i<n;)e[a+i]=t[i];return e}function mt(e,t,i,n){var a=-1,r=null==e?0:e.length;for(n&&r&&(i=e[++a]);++a<r;)i=t(i,e[a],a,e);return i}function _t(e,t,i,n){var a=null==e?0:e.length;for(n&&a&&(i=e[--a]);a--;)i=t(i,e[a],a,e);return i}function gt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var vt=St("length");function yt(e,t,i){var n;return i(e,(function(e,i,a){if(t(e,i,a))return n=i,!1})),n}function bt(e,t,i,n){for(var a=e.length,r=i+(n?1:-1);n?r--:++r<a;)if(t(e[r],r,e))return r;return-1}function kt(e,t,i){return t==t?function(e,t,i){for(var n=i-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}(e,t,i):bt(e,xt,i)}function wt(e,t,i,n){for(var a=i-1,r=e.length;++a<r;)if(n(e[a],t))return a;return-1}function xt(e){return e!=e}function jt(e,t){var i=null==e?0:e.length;return i?Ct(e,t)/i:NaN}function St(e){return function(t){return null==t?void 0:t[e]}}function Tt(e){return function(t){return null==e?void 0:e[t]}}function Ot(e,t,i,n,a){return a(e,(function(e,a,r){i=n?(n=!1,e):t(i,e,a,r)})),i}function Ct(e,t){for(var i,n=-1,a=e.length;++n<a;){var r=t(e[n]);void 0!==r&&(i=void 0===i?r:i+r)}return i}function At(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function Mt(e){return function(t){return e(t)}}function Lt(e,t){return ft(t,(function(t){return e[t]}))}function Pt(e,t){return e.has(t)}function Et(e,t){for(var i=-1,n=e.length;++i<n&&kt(t,e[i],0)>-1;);return i}function Rt(e,t){for(var i=e.length;i--&&kt(t,e[i],0)>-1;);return i}function Dt(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}var It=Tt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Nt=Tt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function qt(e){return"\\"+ze[e]}function Bt(e){return Ie.test(e)}function Ft(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function Wt(e,t){return function(i){return e(t(i))}}function zt(e,t){for(var i=-1,n=e.length,a=0,r=[];++i<n;){var s=e[i];s!==t&&s!==o||(e[i]=o,r[a++]=i)}return r}function Ht(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}function Ut(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=[e,e]})),i}function Gt(e){return Bt(e)?function(e){for(var t=Re.lastIndex=0;Re.test(e);)++t;return t}(e):vt(e)}function Vt(e){return Bt(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.split("")}(e)}var $t=Tt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Jt=function e(t){var i,n=(t=null==t?$e:Jt.defaults($e.Object(),t,Jt.pick($e,qe))).Array,a=t.Date,de=t.Error,fe=t.Function,pe=t.Math,me=t.Object,_e=t.RegExp,ge=t.String,ve=t.TypeError,ye=n.prototype,be=fe.prototype,ke=me.prototype,we=t["__core-js_shared__"],xe=be.toString,je=ke.hasOwnProperty,Se=0,Te=(i=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Oe=ke.toString,Ce=xe.call(me),Ae=$e._,Me=_e("^"+xe.call(je).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=Ke?t.Buffer:void 0,Re=t.Symbol,Ie=t.Uint8Array,ze=Le?Le.allocUnsafe:void 0,Ge=Wt(me.getPrototypeOf,me),Ve=me.create,Je=ke.propertyIsEnumerable,Ye=ye.splice,Ze=Re?Re.isConcatSpreadable:void 0,Qe=Re?Re.iterator:void 0,vt=Re?Re.toStringTag:void 0,Tt=function(){try{var e=er(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==$e.clearTimeout&&t.clearTimeout,Kt=a&&a.now!==$e.Date.now&&a.now,Zt=t.setTimeout!==$e.setTimeout&&t.setTimeout,Qt=pe.ceil,Xt=pe.floor,ei=me.getOwnPropertySymbols,ti=Le?Le.isBuffer:void 0,ii=t.isFinite,ni=ye.join,ai=Wt(me.keys,me),ri=pe.max,oi=pe.min,si=a.now,ci=t.parseInt,li=pe.random,ui=ye.reverse,hi=er(t,"DataView"),di=er(t,"Map"),fi=er(t,"Promise"),pi=er(t,"Set"),mi=er(t,"WeakMap"),_i=er(me,"create"),gi=mi&&new mi,vi={},yi=Or(hi),bi=Or(di),ki=Or(fi),xi=Or(pi),ji=Or(mi),Si=Re?Re.prototype:void 0,Ti=Si?Si.valueOf:void 0,Oi=Si?Si.toString:void 0;function Ci(e){if(Go(e)&&!Ro(e)&&!(e instanceof Pi)){if(e instanceof Li)return e;if(je.call(e,"__wrapped__"))return Cr(e)}return new Li(e)}var Ai=function(){function e(){}return function(t){if(!Uo(t))return{};if(Ve)return Ve(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function Mi(){}function Li(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Pi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ei(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ri(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Di(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Ii(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Di;++t<i;)this.add(e[t])}function Ni(e){var t=this.__data__=new Ri(e);this.size=t.size}function qi(e,t){var i=Ro(e),n=!i&&Eo(e),a=!i&&!n&&qo(e),r=!i&&!n&&!a&&Xo(e),o=i||n||a||r,s=o?At(e.length,ge):[],c=s.length;for(var l in e)!t&&!je.call(e,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||sr(l,c))||s.push(l);return s}function Bi(e){var t=e.length;return t?e[Nn(0,t-1)]:void 0}function Fi(e,t){return jr(va(e),Yi(t,0,e.length))}function Wi(e){return jr(va(e))}function zi(e,t,i){(void 0===i||Mo(e[t],i))&&(void 0!==i||t in e)||$i(e,t,i)}function Hi(e,t,i){var n=e[t];je.call(e,t)&&Mo(n,i)&&(void 0!==i||t in e)||$i(e,t,i)}function Ui(e,t){for(var i=e.length;i--;)if(Mo(e[i][0],t))return i;return-1}function Gi(e,t,i,n){return en(e,(function(e,a,r){t(n,e,i(e),r)})),n}function Vi(e,t){return e&&ya(t,ks(t),e)}function $i(e,t,i){"__proto__"==t&&Tt?Tt(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Ji(e,t){for(var i=-1,a=t.length,r=n(a),o=null==e;++i<a;)r[i]=o?void 0:_s(e,t[i]);return r}function Yi(e,t,i){return e==e&&(void 0!==i&&(e=e<=i?e:i),void 0!==t&&(e=e>=t?e:t)),e}function Ki(e,t,i,n,a,r){var o,s=1&t,l=2&t,d=4&t;if(i&&(o=a?i(e,n,a,r):i(e)),void 0!==o)return o;if(!Uo(e))return e;var w=Ro(e);if(w){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&je.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!s)return va(e,o)}else{var E=nr(e),R=E==f||E==p;if(qo(e))return da(e,s);if(E==g||E==c||R&&!a){if(o=l||R?{}:rr(e),!s)return l?function(e,t){return ya(e,ir(e),t)}(e,function(e,t){return e&&ya(t,ws(t),e)}(o,e)):function(e,t){return ya(e,tr(e),t)}(e,Vi(o,e))}else{if(!We[E])return a?e:{};o=function(e,t,i){var n,a=e.constructor;switch(t){case x:return fa(e);case u:case h:return new a(+e);case j:return function(e,t){var i=t?fa(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case S:case T:case O:case C:case A:case M:case"[object Uint8ClampedArray]":case L:case P:return pa(e,i);case m:return new a;case _:case b:return new a(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new a;case k:return n=e,Ti?me(Ti.call(n)):{}}}(e,E,s)}}r||(r=new Ni);var D=r.get(e);if(D)return D;r.set(e,o),Ko(e)?e.forEach((function(n){o.add(Ki(n,t,i,n,e,r))})):Vo(e)&&e.forEach((function(n,a){o.set(a,Ki(n,t,i,a,e,r))}));var I=w?void 0:(d?l?$a:Va:l?ws:ks)(e);return st(I||e,(function(n,a){I&&(n=e[a=n]),Hi(o,a,Ki(n,t,i,a,e,r))})),o}function Zi(e,t,i){var n=i.length;if(null==e)return!n;for(e=me(e);n--;){var a=i[n],r=t[a],o=e[a];if(void 0===o&&!(a in e)||!r(o))return!1}return!0}function Qi(e,t,i){if("function"!=typeof e)throw new ve(r);return br((function(){e.apply(void 0,i)}),t)}function Xi(e,t,i,n){var a=-1,r=ht,o=!0,s=e.length,c=[],l=t.length;if(!s)return c;i&&(t=ft(t,Mt(i))),n?(r=dt,o=!1):t.length>=200&&(r=Pt,o=!1,t=new Ii(t));e:for(;++a<s;){var u=e[a],h=null==i?u:i(u);if(u=n||0!==u?u:0,o&&h==h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else r(t,h,n)||c.push(u)}return c}Ci.templateSettings={escape:F,evaluate:W,interpolate:z,variable:"",imports:{_:Ci}},Ci.prototype=Mi.prototype,Ci.prototype.constructor=Ci,Li.prototype=Ai(Mi.prototype),Li.prototype.constructor=Li,Pi.prototype=Ai(Mi.prototype),Pi.prototype.constructor=Pi,Ei.prototype.clear=function(){this.__data__=_i?_i(null):{},this.size=0},Ei.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ei.prototype.get=function(e){var t=this.__data__;if(_i){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return je.call(t,e)?t[e]:void 0},Ei.prototype.has=function(e){var t=this.__data__;return _i?void 0!==t[e]:je.call(t,e)},Ei.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=_i&&void 0===t?"__lodash_hash_undefined__":t,this},Ri.prototype.clear=function(){this.__data__=[],this.size=0},Ri.prototype.delete=function(e){var t=this.__data__,i=Ui(t,e);return!(i<0)&&(i==t.length-1?t.pop():Ye.call(t,i,1),--this.size,!0)},Ri.prototype.get=function(e){var t=this.__data__,i=Ui(t,e);return i<0?void 0:t[i][1]},Ri.prototype.has=function(e){return Ui(this.__data__,e)>-1},Ri.prototype.set=function(e,t){var i=this.__data__,n=Ui(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},Di.prototype.clear=function(){this.size=0,this.__data__={hash:new Ei,map:new(di||Ri),string:new Ei}},Di.prototype.delete=function(e){var t=Qa(this,e).delete(e);return this.size-=t?1:0,t},Di.prototype.get=function(e){return Qa(this,e).get(e)},Di.prototype.has=function(e){return Qa(this,e).has(e)},Di.prototype.set=function(e,t){var i=Qa(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},Ii.prototype.add=Ii.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ii.prototype.has=function(e){return this.__data__.has(e)},Ni.prototype.clear=function(){this.__data__=new Ri,this.size=0},Ni.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Ni.prototype.get=function(e){return this.__data__.get(e)},Ni.prototype.has=function(e){return this.__data__.has(e)},Ni.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Ri){var n=i.__data__;if(!di||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Di(n)}return i.set(e,t),this.size=i.size,this};var en=wa(ln),tn=wa(un,!0);function nn(e,t){var i=!0;return en(e,(function(e,n,a){return i=!!t(e,n,a)})),i}function an(e,t,i){for(var n=-1,a=e.length;++n<a;){var r=e[n],o=t(r);if(null!=o&&(void 0===s?o==o&&!Qo(o):i(o,s)))var s=o,c=r}return c}function rn(e,t){var i=[];return en(e,(function(e,n,a){t(e,n,a)&&i.push(e)})),i}function on(e,t,i,n,a){var r=-1,o=e.length;for(i||(i=or),a||(a=[]);++r<o;){var s=e[r];t>0&&i(s)?t>1?on(s,t-1,i,n,a):pt(a,s):n||(a[a.length]=s)}return a}var sn=xa(),cn=xa(!0);function ln(e,t){return e&&sn(e,t,ks)}function un(e,t){return e&&cn(e,t,ks)}function hn(e,t){return ut(t,(function(t){return Wo(e[t])}))}function dn(e,t){for(var i=0,n=(t=ca(t,e)).length;null!=e&&i<n;)e=e[Tr(t[i++])];return i&&i==n?e:void 0}function fn(e,t,i){var n=t(e);return Ro(e)?n:pt(n,i(e))}function pn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in me(e)?function(e){var t=je.call(e,vt),i=e[vt];try{e[vt]=void 0;var n=!0}catch(e){}var a=Oe.call(e);return n&&(t?e[vt]=i:delete e[vt]),a}(e):function(e){return Oe.call(e)}(e)}function mn(e,t){return e>t}function _n(e,t){return null!=e&&je.call(e,t)}function gn(e,t){return null!=e&&t in me(e)}function vn(e,t,i){for(var a=i?dt:ht,r=e[0].length,o=e.length,s=o,c=n(o),l=1/0,u=[];s--;){var h=e[s];s&&t&&(h=ft(h,Mt(t))),l=oi(h.length,l),c[s]=!i&&(t||r>=120&&h.length>=120)?new Ii(s&&h):void 0}h=e[0];var d=-1,f=c[0];e:for(;++d<r&&u.length<l;){var p=h[d],m=t?t(p):p;if(p=i||0!==p?p:0,!(f?Pt(f,m):a(u,m,i))){for(s=o;--s;){var _=c[s];if(!(_?Pt(_,m):a(e[s],m,i)))continue e}f&&f.push(m),u.push(p)}}return u}function yn(e,t,i){var n=null==(e=_r(e,t=ca(t,e)))?e:e[Tr(Br(t))];return null==n?void 0:rt(n,e,i)}function bn(e){return Go(e)&&pn(e)==c}function kn(e,t,i,n,a){return e===t||(null==e||null==t||!Go(e)&&!Go(t)?e!=e&&t!=t:function(e,t,i,n,a,r){var o=Ro(e),s=Ro(t),f=o?l:nr(e),p=s?l:nr(t),w=(f=f==c?g:f)==g,S=(p=p==c?g:p)==g,T=f==p;if(T&&qo(e)){if(!qo(t))return!1;o=!0,w=!1}if(T&&!w)return r||(r=new Ni),o||Xo(e)?Ua(e,t,i,n,a,r):function(e,t,i,n,a,r,o){switch(i){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!r(new Ie(e),new Ie(t)));case u:case h:case _:return Mo(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case m:var s=Ft;case y:var c=1&n;if(s||(s=Ht),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;n|=2,o.set(e,t);var f=Ua(s(e),s(t),n,a,r,o);return o.delete(e),f;case k:if(Ti)return Ti.call(e)==Ti.call(t)}return!1}(e,t,f,i,n,a,r);if(!(1&i)){var O=w&&je.call(e,"__wrapped__"),C=S&&je.call(t,"__wrapped__");if(O||C){var A=O?e.value():e,M=C?t.value():t;return r||(r=new Ni),a(A,M,i,n,r)}}return!!T&&(r||(r=new Ni),function(e,t,i,n,a,r){var o=1&i,s=Va(e),c=s.length,l=Va(t).length;if(c!=l&&!o)return!1;for(var u=c;u--;){var h=s[u];if(!(o?h in t:je.call(t,h)))return!1}var d=r.get(e),f=r.get(t);if(d&&f)return d==t&&f==e;var p=!0;r.set(e,t),r.set(t,e);for(var m=o;++u<c;){h=s[u];var _=e[h],g=t[h];if(n)var v=o?n(g,_,h,t,e,r):n(_,g,h,e,t,r);if(!(void 0===v?_===g||a(_,g,i,n,r):v)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return r.delete(e),r.delete(t),p}(e,t,i,n,a,r))}(e,t,i,n,kn,a))}function wn(e,t,i,n){var a=i.length,r=a,o=!n;if(null==e)return!r;for(e=me(e);a--;){var s=i[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<r;){var c=(s=i[a])[0],l=e[c],u=s[1];if(o&&s[2]){if(void 0===l&&!(c in e))return!1}else{var h=new Ni;if(n)var d=n(l,u,c,e,t,h);if(!(void 0===d?kn(u,l,3,n,h):d))return!1}}return!0}function xn(e){return!(!Uo(e)||(t=e,Te&&Te in t))&&(Wo(e)?Me:oe).test(Or(e));var t}function jn(e){return"function"==typeof e?e:null==e?$s:"object"==Object(wi["a"])(e)?Ro(e)?Mn(e[0],e[1]):An(e):ic(e)}function Sn(e){if(!dr(e))return ai(e);var t=[];for(var i in me(e))je.call(e,i)&&"constructor"!=i&&t.push(i);return t}function Tn(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var i in me(e))t.push(i);return t}(e);var t=dr(e),i=[];for(var n in e)("constructor"!=n||!t&&je.call(e,n))&&i.push(n);return i}function On(e,t){return e<t}function Cn(e,t){var i=-1,a=Io(e)?n(e.length):[];return en(e,(function(e,n,r){a[++i]=t(e,n,r)})),a}function An(e){var t=Xa(e);return 1==t.length&&t[0][2]?pr(t[0][0],t[0][1]):function(i){return i===e||wn(i,e,t)}}function Mn(e,t){return lr(e)&&fr(t)?pr(Tr(e),t):function(i){var n=_s(i,e);return void 0===n&&n===t?gs(i,e):kn(t,n,3)}}function Ln(e,t,i,n,a){e!==t&&sn(t,(function(r,o){if(a||(a=new Ni),Uo(r))!function(e,t,i,n,a,r,o){var s=vr(e,i),c=vr(t,i),l=o.get(c);if(l)zi(e,i,l);else{var u=r?r(s,c,i+"",e,t,o):void 0,h=void 0===u;if(h){var d=Ro(c),f=!d&&qo(c),p=!d&&!f&&Xo(c);u=c,d||f||p?Ro(s)?u=s:No(s)?u=va(s):f?(h=!1,u=da(c,!0)):p?(h=!1,u=pa(c,!0)):u=[]:Jo(c)||Eo(c)?(u=s,Eo(s)?u=ss(s):Uo(s)&&!Wo(s)||(u=rr(c))):h=!1}h&&(o.set(c,u),a(u,c,n,r,o),o.delete(c)),zi(e,i,u)}}(e,t,o,i,Ln,n,a);else{var s=n?n(vr(e,o),r,o+"",e,t,a):void 0;void 0===s&&(s=r),zi(e,o,s)}}),ws)}function Pn(e,t){var i=e.length;if(i)return sr(t+=t<0?i:0,i)?e[t]:void 0}function En(e,t,i){t=t.length?ft(t,(function(e){return Ro(e)?function(t){return dn(t,1===e.length?e[0]:e)}:e})):[$s];var n=-1;return t=ft(t,Mt(Za())),function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(Cn(e,(function(e,i,a){return{criteria:ft(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,i){for(var n=-1,a=e.criteria,r=t.criteria,o=a.length,s=i.length;++n<o;){var c=ma(a[n],r[n]);if(c){if(n>=s)return c;var l=i[n];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,i)}))}function Rn(e,t,i){for(var n=-1,a=t.length,r={};++n<a;){var o=t[n],s=dn(e,o);i(s,o)&&zn(r,ca(o,e),s)}return r}function Dn(e,t,i,n){var a=n?wt:kt,r=-1,o=t.length,s=e;for(e===t&&(t=va(t)),i&&(s=ft(e,Mt(i)));++r<o;)for(var c=0,l=t[r],u=i?i(l):l;(c=a(s,u,c,n))>-1;)s!==e&&Ye.call(s,c,1),Ye.call(e,c,1);return e}function In(e,t){for(var i=e?t.length:0,n=i-1;i--;){var a=t[i];if(i==n||a!==r){var r=a;sr(a)?Ye.call(e,a,1):ea(e,a)}}return e}function Nn(e,t){return e+Xt(li()*(t-e+1))}function qn(e,t){var i="";if(!e||t<1||t>9007199254740991)return i;do{t%2&&(i+=e),(t=Xt(t/2))&&(e+=e)}while(t);return i}function Bn(e,t){return kr(mr(e,t,$s),e+"")}function Fn(e){return Bi(Ms(e))}function Wn(e,t){var i=Ms(e);return jr(i,Yi(t,0,i.length))}function zn(e,t,i,n){if(!Uo(e))return e;for(var a=-1,r=(t=ca(t,e)).length,o=r-1,s=e;null!=s&&++a<r;){var c=Tr(t[a]),l=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=o){var u=s[c];void 0===(l=n?n(u,c,s):void 0)&&(l=Uo(u)?u:sr(t[a+1])?[]:{})}Hi(s,c,l),s=s[c]}return e}var Hn=gi?function(e,t){return gi.set(e,t),e}:$s,Un=Tt?function(e,t){return Tt(e,"toString",{configurable:!0,enumerable:!1,value:Us(t),writable:!0})}:$s;function Gn(e){return jr(Ms(e))}function Vn(e,t,i){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var o=n(r);++a<r;)o[a]=e[a+t];return o}function $n(e,t){var i;return en(e,(function(e,n,a){return!(i=t(e,n,a))})),!!i}function Jn(e,t,i){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;n<a;){var r=n+a>>>1,o=e[r];null!==o&&!Qo(o)&&(i?o<=t:o<t)?n=r+1:a=r}return a}return Yn(e,t,$s,i)}function Yn(e,t,i,n){var a=0,r=null==e?0:e.length;if(0===r)return 0;for(var o=(t=i(t))!=t,s=null===t,c=Qo(t),l=void 0===t;a<r;){var u=Xt((a+r)/2),h=i(e[u]),d=void 0!==h,f=null===h,p=h==h,m=Qo(h);if(o)var _=n||p;else _=l?p&&(n||d):s?p&&d&&(n||!f):c?p&&d&&!f&&(n||!m):!f&&!m&&(n?h<=t:h<t);_?a=u+1:r=u}return oi(r,4294967294)}function Kn(e,t){for(var i=-1,n=e.length,a=0,r=[];++i<n;){var o=e[i],s=t?t(o):o;if(!i||!Mo(s,c)){var c=s;r[a++]=0===o?0:o}}return r}function Zn(e){return"number"==typeof e?e:Qo(e)?NaN:+e}function Qn(e){if("string"==typeof e)return e;if(Ro(e))return ft(e,Qn)+"";if(Qo(e))return Oi?Oi.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xn(e,t,i){var n=-1,a=ht,r=e.length,o=!0,s=[],c=s;if(i)o=!1,a=dt;else if(r>=200){var l=t?null:qa(e);if(l)return Ht(l);o=!1,a=Pt,c=new Ii}else c=t?[]:s;e:for(;++n<r;){var u=e[n],h=t?t(u):u;if(u=i||0!==u?u:0,o&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),s.push(u)}else a(c,h,i)||(c!==s&&c.push(h),s.push(u))}return s}function ea(e,t){return null==(e=_r(e,t=ca(t,e)))||delete e[Tr(Br(t))]}function ta(e,t,i,n){return zn(e,t,i(dn(e,t)),n)}function ia(e,t,i,n){for(var a=e.length,r=n?a:-1;(n?r--:++r<a)&&t(e[r],r,e););return i?Vn(e,n?0:r,n?r+1:a):Vn(e,n?r+1:0,n?a:r)}function na(e,t){var i=e;return i instanceof Pi&&(i=i.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),i)}function aa(e,t,i){var a=e.length;if(a<2)return a?Xn(e[0]):[];for(var r=-1,o=n(a);++r<a;)for(var s=e[r],c=-1;++c<a;)c!=r&&(o[r]=Xi(o[r]||s,e[c],t,i));return Xn(on(o,1),t,i)}function ra(e,t,i){for(var n=-1,a=e.length,r=t.length,o={};++n<a;){var s=n<r?t[n]:void 0;i(o,e[n],s)}return o}function oa(e){return No(e)?e:[]}function sa(e){return"function"==typeof e?e:$s}function ca(e,t){return Ro(e)?e:lr(e,t)?[e]:Sr(cs(e))}var la=Bn;function ua(e,t,i){var n=e.length;return i=void 0===i?n:i,!t&&i>=n?e:Vn(e,t,i)}var ha=Yt||function(e){return $e.clearTimeout(e)};function da(e,t){if(t)return e.slice();var i=e.length,n=ze?ze(i):new e.constructor(i);return e.copy(n),n}function fa(e){var t=new e.constructor(e.byteLength);return new Ie(t).set(new Ie(e)),t}function pa(e,t){var i=t?fa(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function ma(e,t){if(e!==t){var i=void 0!==e,n=null===e,a=e==e,r=Qo(e),o=void 0!==t,s=null===t,c=t==t,l=Qo(t);if(!s&&!l&&!r&&e>t||r&&o&&c&&!s&&!l||n&&o&&c||!i&&c||!a)return 1;if(!n&&!r&&!l&&e<t||l&&i&&a&&!n&&!r||s&&i&&a||!o&&a||!c)return-1}return 0}function _a(e,t,i,a){for(var r=-1,o=e.length,s=i.length,c=-1,l=t.length,u=ri(o-s,0),h=n(l+u),d=!a;++c<l;)h[c]=t[c];for(;++r<s;)(d||r<o)&&(h[i[r]]=e[r]);for(;u--;)h[c++]=e[r++];return h}function ga(e,t,i,a){for(var r=-1,o=e.length,s=-1,c=i.length,l=-1,u=t.length,h=ri(o-c,0),d=n(h+u),f=!a;++r<h;)d[r]=e[r];for(var p=r;++l<u;)d[p+l]=t[l];for(;++s<c;)(f||r<o)&&(d[p+i[s]]=e[r++]);return d}function va(e,t){var i=-1,a=e.length;for(t||(t=n(a));++i<a;)t[i]=e[i];return t}function ya(e,t,i,n){var a=!i;i||(i={});for(var r=-1,o=t.length;++r<o;){var s=t[r],c=n?n(i[s],e[s],s,i,e):void 0;void 0===c&&(c=e[s]),a?$i(i,s,c):Hi(i,s,c)}return i}function ba(e,t){return function(i,n){var a=Ro(i)?ot:Gi,r=t?t():{};return a(i,e,Za(n,2),r)}}function ka(e){return Bn((function(t,i){var n=-1,a=i.length,r=a>1?i[a-1]:void 0,o=a>2?i[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,o&&cr(i[0],i[1],o)&&(r=a<3?void 0:r,a=1),t=me(t);++n<a;){var s=i[n];s&&e(t,s,n,r)}return t}))}function wa(e,t){return function(i,n){if(null==i)return i;if(!Io(i))return e(i,n);for(var a=i.length,r=t?a:-1,o=me(i);(t?r--:++r<a)&&!1!==n(o[r],r,o););return i}}function xa(e){return function(t,i,n){for(var a=-1,r=me(t),o=n(t),s=o.length;s--;){var c=o[e?s:++a];if(!1===i(r[c],c,r))break}return t}}function ja(e){return function(t){var i=Bt(t=cs(t))?Vt(t):void 0,n=i?i[0]:t.charAt(0),a=i?ua(i,1).join(""):t.slice(1);return n[e]()+a}}function Sa(e){return function(t){return mt(Ws(Es(t).replace(Pe,"")),e,"")}}function Ta(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Ai(e.prototype),n=e.apply(i,t);return Uo(n)?n:i}}function Oa(e){return function(t,i,n){var a=me(t);if(!Io(t)){var r=Za(i,3);t=ks(t),i=function(e){return r(a[e],e,a)}}var o=e(t,i,n);return o>-1?a[r?t[o]:o]:void 0}}function Ca(e){return Ga((function(t){var i=t.length,n=i,a=Li.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new ve(r);if(a&&!s&&"wrapper"==Ya(o))var s=new Li([],!0)}for(n=s?n:i;++n<i;){var c=Ya(o=t[n]),l="wrapper"==c?Ja(o):void 0;s=l&&ur(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Ya(l[0])].apply(s,l[3]):1==o.length&&ur(o)?s[c]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Ro(n))return s.plant(n).value();for(var a=0,r=i?t[a].apply(this,e):n;++a<i;)r=t[a].call(this,r);return r}}))}function Aa(e,t,i,a,r,o,s,c,l,u){var h=128&t,d=1&t,f=2&t,p=24&t,m=512&t,_=f?void 0:Ta(e);return function g(){for(var v=arguments.length,y=n(v),b=v;b--;)y[b]=arguments[b];if(p)var k=Ka(g),w=Dt(y,k);if(a&&(y=_a(y,a,r,p)),o&&(y=ga(y,o,s,p)),v-=w,p&&v<u){var x=zt(y,k);return Ia(e,t,Aa,g.placeholder,i,y,x,c,l,u-v)}var j=d?i:this,S=f?j[e]:e;return v=y.length,c?y=gr(y,c):m&&v>1&&y.reverse(),h&&l<v&&(y.length=l),this&&this!==$e&&this instanceof g&&(S=_||Ta(S)),S.apply(j,y)}}function Ma(e,t){return function(i,n){return function(e,t,i,n){return ln(e,(function(e,a,r){t(n,i(e),a,r)})),n}(i,e,t(n),{})}}function La(e,t){return function(i,n){var a;if(void 0===i&&void 0===n)return t;if(void 0!==i&&(a=i),void 0!==n){if(void 0===a)return n;"string"==typeof i||"string"==typeof n?(i=Qn(i),n=Qn(n)):(i=Zn(i),n=Zn(n)),a=e(i,n)}return a}}function Pa(e){return Ga((function(t){return t=ft(t,Mt(Za())),Bn((function(i){var n=this;return e(t,(function(e){return rt(e,n,i)}))}))}))}function Ea(e,t){var i=(t=void 0===t?" ":Qn(t)).length;if(i<2)return i?qn(t,e):t;var n=qn(t,Qt(e/Gt(t)));return Bt(t)?ua(Vt(n),0,e).join(""):n.slice(0,e)}function Ra(e){return function(t,i,a){return a&&"number"!=typeof a&&cr(t,i,a)&&(i=a=void 0),t=ns(t),void 0===i?(i=t,t=0):i=ns(i),function(e,t,i,a){for(var r=-1,o=ri(Qt((t-e)/(i||1)),0),s=n(o);o--;)s[a?o:++r]=e,e+=i;return s}(t,i,a=void 0===a?t<i?1:-1:ns(a),e)}}function Da(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=os(t),i=os(i)),e(t,i)}}function Ia(e,t,i,n,a,r,o,s,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,a,u?r:void 0,u?o:void 0,u?void 0:r,u?void 0:o,s,c,l],d=i.apply(void 0,h);return ur(e)&&yr(d,h),d.placeholder=n,wr(d,e,t)}function Na(e){var t=pe[e];return function(e,i){if(e=os(e),(i=null==i?0:oi(as(i),292))&&ii(e)){var n=(cs(e)+"e").split("e");return+((n=(cs(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var qa=pi&&1/Ht(new pi([,-0]))[1]==1/0?function(e){return new pi(e)}:Qs;function Ba(e){return function(t){var i=nr(t);return i==m?Ft(t):i==y?Ut(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Fa(e,t,i,a,s,c,l,u){var h=2&t;if(!h&&"function"!=typeof e)throw new ve(r);var d=a?a.length:0;if(d||(t&=-97,a=s=void 0),l=void 0===l?l:ri(as(l),0),u=void 0===u?u:as(u),d-=s?s.length:0,64&t){var f=a,p=s;a=s=void 0}var m=h?void 0:Ja(e),_=[e,t,i,a,s,f,p,c,l,u];if(m&&function(e,t){var i=e[1],n=t[1],a=i|n,r=a<131,s=128==n&&8==i||128==n&&256==i&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==i;if(!r&&!s)return e;1&n&&(e[2]=t[2],a|=1&i?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?_a(l,c,t[4]):c,e[4]=l?zt(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?ga(l,c,t[6]):c,e[6]=l?zt(e[5],o):t[6]),(c=t[7])&&(e[7]=c),128&n&&(e[8]=null==e[8]?t[8]:oi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(_,m),e=_[0],t=_[1],i=_[2],a=_[3],s=_[4],!(u=_[9]=void 0===_[9]?h?0:e.length:ri(_[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,i){var a=Ta(e);return function r(){for(var o=arguments.length,s=n(o),c=o,l=Ka(r);c--;)s[c]=arguments[c];var u=o<3&&s[0]!==l&&s[o-1]!==l?[]:zt(s,l);if((o-=u.length)<i)return Ia(e,t,Aa,r.placeholder,void 0,s,u,void 0,void 0,i-o);var h=this&&this!==$e&&this instanceof r?a:e;return rt(h,this,s)}}(e,t,u):32!=t&&33!=t||s.length?Aa.apply(void 0,_):function(e,t,i,a){var r=1&t,o=Ta(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=a.length,h=n(u+c),d=this&&this!==$e&&this instanceof t?o:e;++l<u;)h[l]=a[l];for(;c--;)h[l++]=arguments[++s];return rt(d,r?i:this,h)}}(e,t,i,a);else var g=function(e,t,i){var n=1&t,a=Ta(e);return function t(){var r=this&&this!==$e&&this instanceof t?a:e;return r.apply(n?i:this,arguments)}}(e,t,i);return wr((m?Hn:yr)(g,_),e,t)}function Wa(e,t,i,n){return void 0===e||Mo(e,ke[i])&&!je.call(n,i)?t:e}function za(e,t,i,n,a,r){return Uo(e)&&Uo(t)&&(r.set(t,e),Ln(e,t,void 0,za,r),r.delete(t)),e}function Ha(e){return Jo(e)?void 0:e}function Ua(e,t,i,n,a,r){var o=1&i,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=r.get(e),u=r.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,f=2&i?new Ii:void 0;for(r.set(e,t),r.set(t,e);++h<s;){var p=e[h],m=t[h];if(n)var _=o?n(m,p,h,t,e,r):n(p,m,h,e,t,r);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!gt(t,(function(e,t){if(!Pt(f,t)&&(p===e||a(p,e,i,n,r)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!a(p,m,i,n,r)){d=!1;break}}return r.delete(e),r.delete(t),d}function Ga(e){return kr(mr(e,void 0,Rr),e+"")}function Va(e){return fn(e,ks,tr)}function $a(e){return fn(e,ws,ir)}var Ja=gi?function(e){return gi.get(e)}:Qs;function Ya(e){for(var t=e.name+"",i=vi[t],n=je.call(vi,t)?i.length:0;n--;){var a=i[n],r=a.func;if(null==r||r==e)return a.name}return t}function Ka(e){return(je.call(Ci,"placeholder")?Ci:e).placeholder}function Za(){var e=Ci.iteratee||Js;return e=e===Js?jn:e,arguments.length?e(arguments[0],arguments[1]):e}function Qa(e,t){var i,n,a=e.__data__;return("string"==(n=Object(wi["a"])(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?a["string"==typeof t?"string":"hash"]:a.map}function Xa(e){for(var t=ks(e),i=t.length;i--;){var n=t[i],a=e[n];t[i]=[n,a,fr(a)]}return t}function er(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return xn(i)?i:void 0}var tr=ei?function(e){return null==e?[]:(e=me(e),ut(ei(e),(function(t){return Je.call(e,t)})))}:rc,ir=ei?function(e){for(var t=[];e;)pt(t,tr(e)),e=Ge(e);return t}:rc,nr=pn;function ar(e,t,i){for(var n=-1,a=(t=ca(t,e)).length,r=!1;++n<a;){var o=Tr(t[n]);if(!(r=null!=e&&i(e,o)))break;e=e[o]}return r||++n!=a?r:!!(a=null==e?0:e.length)&&Ho(a)&&sr(o,a)&&(Ro(e)||Eo(e))}function rr(e){return"function"!=typeof e.constructor||dr(e)?{}:Ai(Ge(e))}function or(e){return Ro(e)||Eo(e)||!!(Ze&&e&&e[Ze])}function sr(e,t){var i=Object(wi["a"])(e);return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&ce.test(e))&&e>-1&&e%1==0&&e<t}function cr(e,t,i){if(!Uo(i))return!1;var n=Object(wi["a"])(t);return!!("number"==n?Io(i)&&sr(t,i.length):"string"==n&&t in i)&&Mo(i[t],e)}function lr(e,t){if(Ro(e))return!1;var i=Object(wi["a"])(e);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!Qo(e))||U.test(e)||!H.test(e)||null!=t&&e in me(t)}function ur(e){var t=Ya(e),i=Ci[t];if("function"!=typeof i||!(t in Pi.prototype))return!1;if(e===i)return!0;var n=Ja(i);return!!n&&e===n[0]}(hi&&nr(new hi(new ArrayBuffer(1)))!=j||di&&nr(new di)!=m||fi&&"[object Promise]"!=nr(fi.resolve())||pi&&nr(new pi)!=y||mi&&nr(new mi)!=w)&&(nr=function(e){var t=pn(e),i=t==g?e.constructor:void 0,n=i?Or(i):"";if(n)switch(n){case yi:return j;case bi:return m;case ki:return"[object Promise]";case xi:return y;case ji:return w}return t});var hr=we?Wo:oc;function dr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)}function fr(e){return e==e&&!Uo(e)}function pr(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in me(i))}}function mr(e,t,i){return t=ri(void 0===t?e.length-1:t,0),function(){for(var a=arguments,r=-1,o=ri(a.length-t,0),s=n(o);++r<o;)s[r]=a[t+r];r=-1;for(var c=n(t+1);++r<t;)c[r]=a[r];return c[t]=i(s),rt(e,this,c)}}function _r(e,t){return t.length<2?e:dn(e,Vn(t,0,-1))}function gr(e,t){for(var i=e.length,n=oi(t.length,i),a=va(e);n--;){var r=t[n];e[n]=sr(r,i)?a[r]:void 0}return e}function vr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var yr=xr(Hn),br=Zt||function(e,t){return $e.setTimeout(e,t)},kr=xr(Un);function wr(e,t,i){var n=t+"";return kr(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(Z,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return st(s,(function(i){var n="_."+i[0];t&i[1]&&!ht(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(X):[]}(n),i)))}function xr(e){var t=0,i=0;return function(){var n=si(),a=16-(n-i);if(i=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function jr(e,t){var i=-1,n=e.length,a=n-1;for(t=void 0===t?n:t;++i<t;){var r=Nn(i,a),o=e[r];e[r]=e[i],e[i]=o}return e.length=t,e}var Sr=function(e){var t=jo(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(G,(function(e,i,n,a){t.push(n?a.replace(te,"$1"):i||e)})),t}));function Tr(e){if("string"==typeof e||Qo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Or(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cr(e){if(e instanceof Pi)return e.clone();var t=new Li(e.__wrapped__,e.__chain__);return t.__actions__=va(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ar=Bn((function(e,t){return No(e)?Xi(e,on(t,1,No,!0)):[]})),Mr=Bn((function(e,t){var i=Br(t);return No(i)&&(i=void 0),No(e)?Xi(e,on(t,1,No,!0),Za(i,2)):[]})),Lr=Bn((function(e,t){var i=Br(t);return No(i)&&(i=void 0),No(e)?Xi(e,on(t,1,No,!0),void 0,i):[]}));function Pr(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=null==i?0:as(i);return a<0&&(a=ri(n+a,0)),bt(e,Za(t,3),a)}function Er(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return void 0!==i&&(a=as(i),a=i<0?ri(n+a,0):oi(a,n-1)),bt(e,Za(t,3),a,!0)}function Rr(e){return null!=e&&e.length?on(e,1):[]}function Dr(e){return e&&e.length?e[0]:void 0}var Ir=Bn((function(e){var t=ft(e,oa);return t.length&&t[0]===e[0]?vn(t):[]})),Nr=Bn((function(e){var t=Br(e),i=ft(e,oa);return t===Br(i)?t=void 0:i.pop(),i.length&&i[0]===e[0]?vn(i,Za(t,2)):[]})),qr=Bn((function(e){var t=Br(e),i=ft(e,oa);return(t="function"==typeof t?t:void 0)&&i.pop(),i.length&&i[0]===e[0]?vn(i,void 0,t):[]}));function Br(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Fr=Bn(Wr);function Wr(e,t){return e&&e.length&&t&&t.length?Dn(e,t):e}var zr=Ga((function(e,t){var i=null==e?0:e.length,n=Ji(e,t);return In(e,ft(t,(function(e){return sr(e,i)?+e:e})).sort(ma)),n}));function Hr(e){return null==e?e:ui.call(e)}var Ur=Bn((function(e){return Xn(on(e,1,No,!0))})),Gr=Bn((function(e){var t=Br(e);return No(t)&&(t=void 0),Xn(on(e,1,No,!0),Za(t,2))})),Vr=Bn((function(e){var t=Br(e);return t="function"==typeof t?t:void 0,Xn(on(e,1,No,!0),void 0,t)}));function $r(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(No(e))return t=ri(e.length,t),!0})),At(t,(function(t){return ft(e,St(t))}))}function Jr(e,t){if(!e||!e.length)return[];var i=$r(e);return null==t?i:ft(i,(function(e){return rt(t,void 0,e)}))}var Yr=Bn((function(e,t){return No(e)?Xi(e,t):[]})),Kr=Bn((function(e){return aa(ut(e,No))})),Zr=Bn((function(e){var t=Br(e);return No(t)&&(t=void 0),aa(ut(e,No),Za(t,2))})),Qr=Bn((function(e){var t=Br(e);return t="function"==typeof t?t:void 0,aa(ut(e,No),void 0,t)})),Xr=Bn($r),eo=Bn((function(e){var t=e.length,i=t>1?e[t-1]:void 0;return i="function"==typeof i?(e.pop(),i):void 0,Jr(e,i)}));function to(e){var t=Ci(e);return t.__chain__=!0,t}function io(e,t){return t(e)}var no=Ga((function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,a=function(t){return Ji(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Pi&&sr(i)?((n=n.slice(i,+i+(t?1:0))).__actions__.push({func:io,args:[a],thisArg:void 0}),new Li(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(a)})),ao=ba((function(e,t,i){je.call(e,i)?++e[i]:$i(e,i,1)})),ro=Oa(Pr),oo=Oa(Er);function so(e,t){return(Ro(e)?st:en)(e,Za(t,3))}function co(e,t){return(Ro(e)?ct:tn)(e,Za(t,3))}var lo=ba((function(e,t,i){je.call(e,i)?e[i].push(t):$i(e,i,[t])})),uo=Bn((function(e,t,i){var a=-1,r="function"==typeof t,o=Io(e)?n(e.length):[];return en(e,(function(e){o[++a]=r?rt(t,e,i):yn(e,t,i)})),o})),ho=ba((function(e,t,i){$i(e,i,t)}));function fo(e,t){return(Ro(e)?ft:Cn)(e,Za(t,3))}var po=ba((function(e,t,i){e[i?0:1].push(t)}),(function(){return[[],[]]})),mo=Bn((function(e,t){if(null==e)return[];var i=t.length;return i>1&&cr(e,t[0],t[1])?t=[]:i>2&&cr(t[0],t[1],t[2])&&(t=[t[0]]),En(e,on(t,1),[])})),_o=Kt||function(){return $e.Date.now()};function go(e,t,i){return t=i?void 0:t,Fa(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function vo(e,t){var i;if("function"!=typeof t)throw new ve(r);return e=as(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=void 0),i}}var yo=Bn((function(e,t,i){var n=1;if(i.length){var a=zt(i,Ka(yo));n|=32}return Fa(e,n,t,i,a)})),bo=Bn((function(e,t,i){var n=3;if(i.length){var a=zt(i,Ka(bo));n|=32}return Fa(t,n,e,i,a)}));function ko(e,t,i){var n,a,o,s,c,l,u=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new ve(r);function p(t){var i=n,r=a;return n=a=void 0,u=t,s=e.apply(r,i)}function m(e){return u=e,c=br(g,t),h?p(e):s}function _(e){var i=e-l;return void 0===l||i>=t||i<0||d&&e-u>=o}function g(){var e=_o();if(_(e))return v(e);c=br(g,function(e){var i=t-(e-l);return d?oi(i,o-(e-u)):i}(e))}function v(e){return c=void 0,f&&n?p(e):(n=a=void 0,s)}function y(){var e=_o(),i=_(e);if(n=arguments,a=this,l=e,i){if(void 0===c)return m(l);if(d)return ha(c),c=br(g,t),p(l)}return void 0===c&&(c=br(g,t)),s}return t=os(t)||0,Uo(i)&&(h=!!i.leading,o=(d="maxWait"in i)?ri(os(i.maxWait)||0,t):o,f="trailing"in i?!!i.trailing:f),y.cancel=function(){void 0!==c&&ha(c),u=0,n=l=a=c=void 0},y.flush=function(){return void 0===c?s:v(_o())},y}var wo=Bn((function(e,t){return Qi(e,1,t)})),xo=Bn((function(e,t,i){return Qi(e,os(t)||0,i)}));function jo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(r);var i=function(){var n=arguments,a=t?t.apply(this,n):n[0],r=i.cache;if(r.has(a))return r.get(a);var o=e.apply(this,n);return i.cache=r.set(a,o)||r,o};return i.cache=new(jo.Cache||Di),i}function So(e){if("function"!=typeof e)throw new ve(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}jo.Cache=Di;var To=la((function(e,t){var i=(t=1==t.length&&Ro(t[0])?ft(t[0],Mt(Za())):ft(on(t,1),Mt(Za()))).length;return Bn((function(n){for(var a=-1,r=oi(n.length,i);++a<r;)n[a]=t[a].call(this,n[a]);return rt(e,this,n)}))})),Oo=Bn((function(e,t){return Fa(e,32,void 0,t,zt(t,Ka(Oo)))})),Co=Bn((function(e,t){return Fa(e,64,void 0,t,zt(t,Ka(Co)))})),Ao=Ga((function(e,t){return Fa(e,256,void 0,void 0,void 0,t)}));function Mo(e,t){return e===t||e!=e&&t!=t}var Lo=Da(mn),Po=Da((function(e,t){return e>=t})),Eo=bn(function(){return arguments}())?bn:function(e){return Go(e)&&je.call(e,"callee")&&!Je.call(e,"callee")},Ro=n.isArray,Do=Xe?Mt(Xe):function(e){return Go(e)&&pn(e)==x};function Io(e){return null!=e&&Ho(e.length)&&!Wo(e)}function No(e){return Go(e)&&Io(e)}var qo=ti||oc,Bo=et?Mt(et):function(e){return Go(e)&&pn(e)==h};function Fo(e){if(!Go(e))return!1;var t=pn(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Jo(e)}function Wo(e){if(!Uo(e))return!1;var t=pn(e);return t==f||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==as(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=Object(wi["a"])(e);return null!=e&&("object"==t||"function"==t)}function Go(e){return null!=e&&"object"==Object(wi["a"])(e)}var Vo=tt?Mt(tt):function(e){return Go(e)&&nr(e)==m};function $o(e){return"number"==typeof e||Go(e)&&pn(e)==_}function Jo(e){if(!Go(e)||pn(e)!=g)return!1;var t=Ge(e);if(null===t)return!0;var i=je.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&xe.call(i)==Ce}var Yo=it?Mt(it):function(e){return Go(e)&&pn(e)==v},Ko=nt?Mt(nt):function(e){return Go(e)&&nr(e)==y};function Zo(e){return"string"==typeof e||!Ro(e)&&Go(e)&&pn(e)==b}function Qo(e){return"symbol"==Object(wi["a"])(e)||Go(e)&&pn(e)==k}var Xo=at?Mt(at):function(e){return Go(e)&&Ho(e.length)&&!!Fe[pn(e)]},es=Da(On),ts=Da((function(e,t){return e<=t}));function is(e){if(!e)return[];if(Io(e))return Zo(e)?Vt(e):va(e);if(Qe&&e[Qe])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Qe]());var t=nr(e);return(t==m?Ft:t==y?Ht:Ms)(e)}function ns(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function as(e){var t=ns(e),i=t%1;return t==t?i?t-i:t:0}function rs(e){return e?Yi(as(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Qo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(J,"");var i=re.test(e);return i||se.test(e)?Ue(e.slice(2),i?2:8):ae.test(e)?NaN:+e}function ss(e){return ya(e,ws(e))}function cs(e){return null==e?"":Qn(e)}var ls=ka((function(e,t){if(dr(t)||Io(t))ya(t,ks(t),e);else for(var i in t)je.call(t,i)&&Hi(e,i,t[i])})),us=ka((function(e,t){ya(t,ws(t),e)})),hs=ka((function(e,t,i,n){ya(t,ws(t),e,n)})),ds=ka((function(e,t,i,n){ya(t,ks(t),e,n)})),fs=Ga(Ji),ps=Bn((function(e,t){e=me(e);var i=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&cr(t[0],t[1],a)&&(n=1);++i<n;)for(var r=t[i],o=ws(r),s=-1,c=o.length;++s<c;){var l=o[s],u=e[l];(void 0===u||Mo(u,ke[l])&&!je.call(e,l))&&(e[l]=r[l])}return e})),ms=Bn((function(e){return e.push(void 0,za),rt(js,void 0,e)}));function _s(e,t,i){var n=null==e?void 0:dn(e,t);return void 0===n?i:n}function gs(e,t){return null!=e&&ar(e,t,gn)}var vs=Ma((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),e[t]=i}),Us($s)),ys=Ma((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),je.call(e,t)?e[t].push(i):e[t]=[i]}),Za),bs=Bn(yn);function ks(e){return Io(e)?qi(e):Sn(e)}function ws(e){return Io(e)?qi(e,!0):Tn(e)}var xs=ka((function(e,t,i){Ln(e,t,i)})),js=ka((function(e,t,i,n){Ln(e,t,i,n)})),Ss=Ga((function(e,t){var i={};if(null==e)return i;var n=!1;t=ft(t,(function(t){return t=ca(t,e),n||(n=t.length>1),t})),ya(e,$a(e),i),n&&(i=Ki(i,7,Ha));for(var a=t.length;a--;)ea(i,t[a]);return i})),Ts=Ga((function(e,t){return null==e?{}:function(e,t){return Rn(e,t,(function(t,i){return gs(e,i)}))}(e,t)}));function Os(e,t){if(null==e)return{};var i=ft($a(e),(function(e){return[e]}));return t=Za(t),Rn(e,i,(function(e,i){return t(e,i[0])}))}var Cs=Ba(ks),As=Ba(ws);function Ms(e){return null==e?[]:Lt(e,ks(e))}var Ls=Sa((function(e,t,i){return t=t.toLowerCase(),e+(i?Ps(t):t)}));function Ps(e){return Fs(cs(e).toLowerCase())}function Es(e){return(e=cs(e))&&e.replace(le,It).replace(Ee,"")}var Rs=Sa((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()})),Ds=Sa((function(e,t,i){return e+(i?" ":"")+t.toLowerCase()})),Is=ja("toLowerCase"),Ns=Sa((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()})),qs=Sa((function(e,t,i){return e+(i?" ":"")+Fs(t)})),Bs=Sa((function(e,t,i){return e+(i?" ":"")+t.toUpperCase()})),Fs=ja("toUpperCase");function Ws(e,t,i){return e=cs(e),void 0===(t=i?void 0:t)?function(e){return Ne.test(e)}(e)?function(e){return e.match(De)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var zs=Bn((function(e,t){try{return rt(e,void 0,t)}catch(e){return Fo(e)?e:new de(e)}})),Hs=Ga((function(e,t){return st(t,(function(t){t=Tr(t),$i(e,t,yo(e[t],e))})),e}));function Us(e){return function(){return e}}var Gs=Ca(),Vs=Ca(!0);function $s(e){return e}function Js(e){return jn("function"==typeof e?e:Ki(e,1))}var Ys=Bn((function(e,t){return function(i){return yn(i,e,t)}})),Ks=Bn((function(e,t){return function(i){return yn(e,i,t)}}));function Zs(e,t,i){var n=ks(t),a=hn(t,n);null!=i||Uo(t)&&(a.length||!n.length)||(i=t,t=e,e=this,a=hn(t,ks(t)));var r=!(Uo(i)&&"chain"in i&&!i.chain),o=Wo(e);return st(a,(function(i){var n=t[i];e[i]=n,o&&(e.prototype[i]=function(){var t=this.__chain__;if(r||t){var i=e(this.__wrapped__),a=i.__actions__=va(this.__actions__);return a.push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,pt([this.value()],arguments))})})),e}function Qs(){}var Xs=Pa(ft),ec=Pa(lt),tc=Pa(gt);function ic(e){return lr(e)?St(Tr(e)):function(e){return function(t){return dn(t,e)}}(e)}var nc=Ra(),ac=Ra(!0);function rc(){return[]}function oc(){return!1}var sc,cc=La((function(e,t){return e+t}),0),lc=Na("ceil"),uc=La((function(e,t){return e/t}),1),hc=Na("floor"),dc=La((function(e,t){return e*t}),1),fc=Na("round"),pc=La((function(e,t){return e-t}),0);return Ci.after=function(e,t){if("function"!=typeof t)throw new ve(r);return e=as(e),function(){if(--e<1)return t.apply(this,arguments)}},Ci.ary=go,Ci.assign=ls,Ci.assignIn=us,Ci.assignInWith=hs,Ci.assignWith=ds,Ci.at=fs,Ci.before=vo,Ci.bind=yo,Ci.bindAll=Hs,Ci.bindKey=bo,Ci.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ro(e)?e:[e]},Ci.chain=to,Ci.chunk=function(e,t,i){t=(i?cr(e,t,i):void 0===t)?1:ri(as(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var r=0,o=0,s=n(Qt(a/t));r<a;)s[o++]=Vn(e,r,r+=t);return s},Ci.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,a=[];++t<i;){var r=e[t];r&&(a[n++]=r)}return a},Ci.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],a=e;a--;)t[a-1]=arguments[a];return pt(Ro(i)?va(i):[i],on(t,1))},Ci.cond=function(e){var t=null==e?0:e.length,i=Za();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(r);return[i(e[0]),e[1]]})):[],Bn((function(i){for(var n=-1;++n<t;){var a=e[n];if(rt(a[0],this,i))return rt(a[1],this,i)}}))},Ci.conforms=function(e){return function(e){var t=ks(e);return function(i){return Zi(i,e,t)}}(Ki(e,1))},Ci.constant=Us,Ci.countBy=ao,Ci.create=function(e,t){var i=Ai(e);return null==t?i:Vi(i,t)},Ci.curry=function e(t,i,n){var a=Fa(t,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return a.placeholder=e.placeholder,a},Ci.curryRight=function e(t,i,n){var a=Fa(t,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return a.placeholder=e.placeholder,a},Ci.debounce=ko,Ci.defaults=ps,Ci.defaultsDeep=ms,Ci.defer=wo,Ci.delay=xo,Ci.difference=Ar,Ci.differenceBy=Mr,Ci.differenceWith=Lr,Ci.drop=function(e,t,i){var n=null==e?0:e.length;return n?Vn(e,(t=i||void 0===t?1:as(t))<0?0:t,n):[]},Ci.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?Vn(e,0,(t=n-(t=i||void 0===t?1:as(t)))<0?0:t):[]},Ci.dropRightWhile=function(e,t){return e&&e.length?ia(e,Za(t,3),!0,!0):[]},Ci.dropWhile=function(e,t){return e&&e.length?ia(e,Za(t,3),!0):[]},Ci.fill=function(e,t,i,n){var a=null==e?0:e.length;return a?(i&&"number"!=typeof i&&cr(e,t,i)&&(i=0,n=a),function(e,t,i,n){var a=e.length;for((i=as(i))<0&&(i=-i>a?0:a+i),(n=void 0===n||n>a?a:as(n))<0&&(n+=a),n=i>n?0:rs(n);i<n;)e[i++]=t;return e}(e,t,i,n)):[]},Ci.filter=function(e,t){return(Ro(e)?ut:rn)(e,Za(t,3))},Ci.flatMap=function(e,t){return on(fo(e,t),1)},Ci.flatMapDeep=function(e,t){return on(fo(e,t),1/0)},Ci.flatMapDepth=function(e,t,i){return i=void 0===i?1:as(i),on(fo(e,t),i)},Ci.flatten=Rr,Ci.flattenDeep=function(e){return null!=e&&e.length?on(e,1/0):[]},Ci.flattenDepth=function(e,t){return null!=e&&e.length?on(e,t=void 0===t?1:as(t)):[]},Ci.flip=function(e){return Fa(e,512)},Ci.flow=Gs,Ci.flowRight=Vs,Ci.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var a=e[t];n[a[0]]=a[1]}return n},Ci.functions=function(e){return null==e?[]:hn(e,ks(e))},Ci.functionsIn=function(e){return null==e?[]:hn(e,ws(e))},Ci.groupBy=lo,Ci.initial=function(e){return null!=e&&e.length?Vn(e,0,-1):[]},Ci.intersection=Ir,Ci.intersectionBy=Nr,Ci.intersectionWith=qr,Ci.invert=vs,Ci.invertBy=ys,Ci.invokeMap=uo,Ci.iteratee=Js,Ci.keyBy=ho,Ci.keys=ks,Ci.keysIn=ws,Ci.map=fo,Ci.mapKeys=function(e,t){var i={};return t=Za(t,3),ln(e,(function(e,n,a){$i(i,t(e,n,a),e)})),i},Ci.mapValues=function(e,t){var i={};return t=Za(t,3),ln(e,(function(e,n,a){$i(i,n,t(e,n,a))})),i},Ci.matches=function(e){return An(Ki(e,1))},Ci.matchesProperty=function(e,t){return Mn(e,Ki(t,1))},Ci.memoize=jo,Ci.merge=xs,Ci.mergeWith=js,Ci.method=Ys,Ci.methodOf=Ks,Ci.mixin=Zs,Ci.negate=So,Ci.nthArg=function(e){return e=as(e),Bn((function(t){return Pn(t,e)}))},Ci.omit=Ss,Ci.omitBy=function(e,t){return Os(e,So(Za(t)))},Ci.once=function(e){return vo(2,e)},Ci.orderBy=function(e,t,i,n){return null==e?[]:(Ro(t)||(t=null==t?[]:[t]),Ro(i=n?void 0:i)||(i=null==i?[]:[i]),En(e,t,i))},Ci.over=Xs,Ci.overArgs=To,Ci.overEvery=ec,Ci.overSome=tc,Ci.partial=Oo,Ci.partialRight=Co,Ci.partition=po,Ci.pick=Ts,Ci.pickBy=Os,Ci.property=ic,Ci.propertyOf=function(e){return function(t){return null==e?void 0:dn(e,t)}},Ci.pull=Fr,Ci.pullAll=Wr,Ci.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Dn(e,t,Za(i,2)):e},Ci.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Dn(e,t,void 0,i):e},Ci.pullAt=zr,Ci.range=nc,Ci.rangeRight=ac,Ci.rearg=Ao,Ci.reject=function(e,t){return(Ro(e)?ut:rn)(e,So(Za(t,3)))},Ci.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,a=[],r=e.length;for(t=Za(t,3);++n<r;){var o=e[n];t(o,n,e)&&(i.push(o),a.push(n))}return In(e,a),i},Ci.rest=function(e,t){if("function"!=typeof e)throw new ve(r);return Bn(e,t=void 0===t?t:as(t))},Ci.reverse=Hr,Ci.sampleSize=function(e,t,i){return t=(i?cr(e,t,i):void 0===t)?1:as(t),(Ro(e)?Fi:Wn)(e,t)},Ci.set=function(e,t,i){return null==e?e:zn(e,t,i)},Ci.setWith=function(e,t,i,n){return n="function"==typeof n?n:void 0,null==e?e:zn(e,t,i,n)},Ci.shuffle=function(e){return(Ro(e)?Wi:Gn)(e)},Ci.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&cr(e,t,i)?(t=0,i=n):(t=null==t?0:as(t),i=void 0===i?n:as(i)),Vn(e,t,i)):[]},Ci.sortBy=mo,Ci.sortedUniq=function(e){return e&&e.length?Kn(e):[]},Ci.sortedUniqBy=function(e,t){return e&&e.length?Kn(e,Za(t,2)):[]},Ci.split=function(e,t,i){return i&&"number"!=typeof i&&cr(e,t,i)&&(t=i=void 0),(i=void 0===i?4294967295:i>>>0)?(e=cs(e))&&("string"==typeof t||null!=t&&!Yo(t))&&!(t=Qn(t))&&Bt(e)?ua(Vt(e),0,i):e.split(t,i):[]},Ci.spread=function(e,t){if("function"!=typeof e)throw new ve(r);return t=null==t?0:ri(as(t),0),Bn((function(i){var n=i[t],a=ua(i,0,t);return n&&pt(a,n),rt(e,this,a)}))},Ci.tail=function(e){var t=null==e?0:e.length;return t?Vn(e,1,t):[]},Ci.take=function(e,t,i){return e&&e.length?Vn(e,0,(t=i||void 0===t?1:as(t))<0?0:t):[]},Ci.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?Vn(e,(t=n-(t=i||void 0===t?1:as(t)))<0?0:t,n):[]},Ci.takeRightWhile=function(e,t){return e&&e.length?ia(e,Za(t,3),!1,!0):[]},Ci.takeWhile=function(e,t){return e&&e.length?ia(e,Za(t,3)):[]},Ci.tap=function(e,t){return t(e),e},Ci.throttle=function(e,t,i){var n=!0,a=!0;if("function"!=typeof e)throw new ve(r);return Uo(i)&&(n="leading"in i?!!i.leading:n,a="trailing"in i?!!i.trailing:a),ko(e,t,{leading:n,maxWait:t,trailing:a})},Ci.thru=io,Ci.toArray=is,Ci.toPairs=Cs,Ci.toPairsIn=As,Ci.toPath=function(e){return Ro(e)?ft(e,Tr):Qo(e)?[e]:va(Sr(cs(e)))},Ci.toPlainObject=ss,Ci.transform=function(e,t,i){var n=Ro(e),a=n||qo(e)||Xo(e);if(t=Za(t,4),null==i){var r=e&&e.constructor;i=a?n?new r:[]:Uo(e)&&Wo(r)?Ai(Ge(e)):{}}return(a?st:ln)(e,(function(e,n,a){return t(i,e,n,a)})),i},Ci.unary=function(e){return go(e,1)},Ci.union=Ur,Ci.unionBy=Gr,Ci.unionWith=Vr,Ci.uniq=function(e){return e&&e.length?Xn(e):[]},Ci.uniqBy=function(e,t){return e&&e.length?Xn(e,Za(t,2)):[]},Ci.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xn(e,void 0,t):[]},Ci.unset=function(e,t){return null==e||ea(e,t)},Ci.unzip=$r,Ci.unzipWith=Jr,Ci.update=function(e,t,i){return null==e?e:ta(e,t,sa(i))},Ci.updateWith=function(e,t,i,n){return n="function"==typeof n?n:void 0,null==e?e:ta(e,t,sa(i),n)},Ci.values=Ms,Ci.valuesIn=function(e){return null==e?[]:Lt(e,ws(e))},Ci.without=Yr,Ci.words=Ws,Ci.wrap=function(e,t){return Oo(sa(t),e)},Ci.xor=Kr,Ci.xorBy=Zr,Ci.xorWith=Qr,Ci.zip=Xr,Ci.zipObject=function(e,t){return ra(e||[],t||[],Hi)},Ci.zipObjectDeep=function(e,t){return ra(e||[],t||[],zn)},Ci.zipWith=eo,Ci.entries=Cs,Ci.entriesIn=As,Ci.extend=us,Ci.extendWith=hs,Zs(Ci,Ci),Ci.add=cc,Ci.attempt=zs,Ci.camelCase=Ls,Ci.capitalize=Ps,Ci.ceil=lc,Ci.clamp=function(e,t,i){return void 0===i&&(i=t,t=void 0),void 0!==i&&(i=(i=os(i))==i?i:0),void 0!==t&&(t=(t=os(t))==t?t:0),Yi(os(e),t,i)},Ci.clone=function(e){return Ki(e,4)},Ci.cloneDeep=function(e){return Ki(e,5)},Ci.cloneDeepWith=function(e,t){return Ki(e,5,t="function"==typeof t?t:void 0)},Ci.cloneWith=function(e,t){return Ki(e,4,t="function"==typeof t?t:void 0)},Ci.conformsTo=function(e,t){return null==t||Zi(e,t,ks(t))},Ci.deburr=Es,Ci.defaultTo=function(e,t){return null==e||e!=e?t:e},Ci.divide=uc,Ci.endsWith=function(e,t,i){e=cs(e),t=Qn(t);var n=e.length,a=i=void 0===i?n:Yi(as(i),0,n);return(i-=t.length)>=0&&e.slice(i,a)==t},Ci.eq=Mo,Ci.escape=function(e){return(e=cs(e))&&B.test(e)?e.replace(N,Nt):e},Ci.escapeRegExp=function(e){return(e=cs(e))&&$.test(e)?e.replace(V,"\\$&"):e},Ci.every=function(e,t,i){var n=Ro(e)?lt:nn;return i&&cr(e,t,i)&&(t=void 0),n(e,Za(t,3))},Ci.find=ro,Ci.findIndex=Pr,Ci.findKey=function(e,t){return yt(e,Za(t,3),ln)},Ci.findLast=oo,Ci.findLastIndex=Er,Ci.findLastKey=function(e,t){return yt(e,Za(t,3),un)},Ci.floor=hc,Ci.forEach=so,Ci.forEachRight=co,Ci.forIn=function(e,t){return null==e?e:sn(e,Za(t,3),ws)},Ci.forInRight=function(e,t){return null==e?e:cn(e,Za(t,3),ws)},Ci.forOwn=function(e,t){return e&&ln(e,Za(t,3))},Ci.forOwnRight=function(e,t){return e&&un(e,Za(t,3))},Ci.get=_s,Ci.gt=Lo,Ci.gte=Po,Ci.has=function(e,t){return null!=e&&ar(e,t,_n)},Ci.hasIn=gs,Ci.head=Dr,Ci.identity=$s,Ci.includes=function(e,t,i,n){e=Io(e)?e:Ms(e),i=i&&!n?as(i):0;var a=e.length;return i<0&&(i=ri(a+i,0)),Zo(e)?i<=a&&e.indexOf(t,i)>-1:!!a&&kt(e,t,i)>-1},Ci.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=null==i?0:as(i);return a<0&&(a=ri(n+a,0)),kt(e,t,a)},Ci.inRange=function(e,t,i){return t=ns(t),void 0===i?(i=t,t=0):i=ns(i),function(e,t,i){return e>=oi(t,i)&&e<ri(t,i)}(e=os(e),t,i)},Ci.invoke=bs,Ci.isArguments=Eo,Ci.isArray=Ro,Ci.isArrayBuffer=Do,Ci.isArrayLike=Io,Ci.isArrayLikeObject=No,Ci.isBoolean=function(e){return!0===e||!1===e||Go(e)&&pn(e)==u},Ci.isBuffer=qo,Ci.isDate=Bo,Ci.isElement=function(e){return Go(e)&&1===e.nodeType&&!Jo(e)},Ci.isEmpty=function(e){if(null==e)return!0;if(Io(e)&&(Ro(e)||"string"==typeof e||"function"==typeof e.splice||qo(e)||Xo(e)||Eo(e)))return!e.length;var t=nr(e);if(t==m||t==y)return!e.size;if(dr(e))return!Sn(e).length;for(var i in e)if(je.call(e,i))return!1;return!0},Ci.isEqual=function(e,t){return kn(e,t)},Ci.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:void 0)?i(e,t):void 0;return void 0===n?kn(e,t,void 0,i):!!n},Ci.isError=Fo,Ci.isFinite=function(e){return"number"==typeof e&&ii(e)},Ci.isFunction=Wo,Ci.isInteger=zo,Ci.isLength=Ho,Ci.isMap=Vo,Ci.isMatch=function(e,t){return e===t||wn(e,t,Xa(t))},Ci.isMatchWith=function(e,t,i){return i="function"==typeof i?i:void 0,wn(e,t,Xa(t),i)},Ci.isNaN=function(e){return $o(e)&&e!=+e},Ci.isNative=function(e){if(hr(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xn(e)},Ci.isNil=function(e){return null==e},Ci.isNull=function(e){return null===e},Ci.isNumber=$o,Ci.isObject=Uo,Ci.isObjectLike=Go,Ci.isPlainObject=Jo,Ci.isRegExp=Yo,Ci.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},Ci.isSet=Ko,Ci.isString=Zo,Ci.isSymbol=Qo,Ci.isTypedArray=Xo,Ci.isUndefined=function(e){return void 0===e},Ci.isWeakMap=function(e){return Go(e)&&nr(e)==w},Ci.isWeakSet=function(e){return Go(e)&&"[object WeakSet]"==pn(e)},Ci.join=function(e,t){return null==e?"":ni.call(e,t)},Ci.kebabCase=Rs,Ci.last=Br,Ci.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=n;return void 0!==i&&(a=(a=as(i))<0?ri(n+a,0):oi(a,n-1)),t==t?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(e,t,a):bt(e,xt,a,!0)},Ci.lowerCase=Ds,Ci.lowerFirst=Is,Ci.lt=es,Ci.lte=ts,Ci.max=function(e){return e&&e.length?an(e,$s,mn):void 0},Ci.maxBy=function(e,t){return e&&e.length?an(e,Za(t,2),mn):void 0},Ci.mean=function(e){return jt(e,$s)},Ci.meanBy=function(e,t){return jt(e,Za(t,2))},Ci.min=function(e){return e&&e.length?an(e,$s,On):void 0},Ci.minBy=function(e,t){return e&&e.length?an(e,Za(t,2),On):void 0},Ci.stubArray=rc,Ci.stubFalse=oc,Ci.stubObject=function(){return{}},Ci.stubString=function(){return""},Ci.stubTrue=function(){return!0},Ci.multiply=dc,Ci.nth=function(e,t){return e&&e.length?Pn(e,as(t)):void 0},Ci.noConflict=function(){return $e._===this&&($e._=Ae),this},Ci.noop=Qs,Ci.now=_o,Ci.pad=function(e,t,i){e=cs(e);var n=(t=as(t))?Gt(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return Ea(Xt(a),i)+e+Ea(Qt(a),i)},Ci.padEnd=function(e,t,i){e=cs(e);var n=(t=as(t))?Gt(e):0;return t&&n<t?e+Ea(t-n,i):e},Ci.padStart=function(e,t,i){e=cs(e);var n=(t=as(t))?Gt(e):0;return t&&n<t?Ea(t-n,i)+e:e},Ci.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),ci(cs(e).replace(Y,""),t||0)},Ci.random=function(e,t,i){if(i&&"boolean"!=typeof i&&cr(e,t,i)&&(t=i=void 0),void 0===i&&("boolean"==typeof t?(i=t,t=void 0):"boolean"==typeof e&&(i=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var a=li();return oi(e+a*(t-e+He("1e-"+((a+"").length-1))),t)}return Nn(e,t)},Ci.reduce=function(e,t,i){var n=Ro(e)?mt:Ot,a=arguments.length<3;return n(e,Za(t,4),i,a,en)},Ci.reduceRight=function(e,t,i){var n=Ro(e)?_t:Ot,a=arguments.length<3;return n(e,Za(t,4),i,a,tn)},Ci.repeat=function(e,t,i){return t=(i?cr(e,t,i):void 0===t)?1:as(t),qn(cs(e),t)},Ci.replace=function(){var e=arguments,t=cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ci.result=function(e,t,i){var n=-1,a=(t=ca(t,e)).length;for(a||(a=1,e=void 0);++n<a;){var r=null==e?void 0:e[Tr(t[n])];void 0===r&&(n=a,r=i),e=Wo(r)?r.call(e):r}return e},Ci.round=fc,Ci.runInContext=e,Ci.sample=function(e){return(Ro(e)?Bi:Fn)(e)},Ci.size=function(e){if(null==e)return 0;if(Io(e))return Zo(e)?Gt(e):e.length;var t=nr(e);return t==m||t==y?e.size:Sn(e).length},Ci.snakeCase=Ns,Ci.some=function(e,t,i){var n=Ro(e)?gt:$n;return i&&cr(e,t,i)&&(t=void 0),n(e,Za(t,3))},Ci.sortedIndex=function(e,t){return Jn(e,t)},Ci.sortedIndexBy=function(e,t,i){return Yn(e,t,Za(i,2))},Ci.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=Jn(e,t);if(n<i&&Mo(e[n],t))return n}return-1},Ci.sortedLastIndex=function(e,t){return Jn(e,t,!0)},Ci.sortedLastIndexBy=function(e,t,i){return Yn(e,t,Za(i,2),!0)},Ci.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var i=Jn(e,t,!0)-1;if(Mo(e[i],t))return i}return-1},Ci.startCase=qs,Ci.startsWith=function(e,t,i){return e=cs(e),i=null==i?0:Yi(as(i),0,e.length),t=Qn(t),e.slice(i,i+t.length)==t},Ci.subtract=pc,Ci.sum=function(e){return e&&e.length?Ct(e,$s):0},Ci.sumBy=function(e,t){return e&&e.length?Ct(e,Za(t,2)):0},Ci.template=function(e,t,i){var n=Ci.templateSettings;i&&cr(e,t,i)&&(t=void 0),e=cs(e),t=hs({},t,n,Wa);var a,r,o=hs({},t.imports,n.imports,Wa),s=ks(o),c=Lt(o,s),l=0,u=t.interpolate||ue,h="__p += '",d=_e((t.escape||ue).source+"|"+u.source+"|"+(u===z?ie:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Be+"]")+"\n";e.replace(d,(function(t,i,n,o,s,c){return n||(n=o),h+=e.slice(l,c).replace(he,qt),i&&(a=!0,h+="' +\n__e("+i+") +\n'"),s&&(r=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),h+="';\n";var p=je.call(t,"variable")&&t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(r?h.replace(E,""):h).replace(R,"$1").replace(D,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=zs((function(){return fe(s,f+"return "+h).apply(void 0,c)}));if(m.source=h,Fo(m))throw m;return m},Ci.times=function(e,t){if((e=as(e))<1||e>9007199254740991)return[];var i=4294967295,n=oi(e,4294967295);e-=4294967295;for(var a=At(n,t=Za(t));++i<e;)t(i);return a},Ci.toFinite=ns,Ci.toInteger=as,Ci.toLength=rs,Ci.toLower=function(e){return cs(e).toLowerCase()},Ci.toNumber=os,Ci.toSafeInteger=function(e){return e?Yi(as(e),-9007199254740991,9007199254740991):0===e?e:0},Ci.toString=cs,Ci.toUpper=function(e){return cs(e).toUpperCase()},Ci.trim=function(e,t,i){if((e=cs(e))&&(i||void 0===t))return e.replace(J,"");if(!e||!(t=Qn(t)))return e;var n=Vt(e),a=Vt(t);return ua(n,Et(n,a),Rt(n,a)+1).join("")},Ci.trimEnd=function(e,t,i){if((e=cs(e))&&(i||void 0===t))return e.replace(K,"");if(!e||!(t=Qn(t)))return e;var n=Vt(e);return ua(n,0,Rt(n,Vt(t))+1).join("")},Ci.trimStart=function(e,t,i){if((e=cs(e))&&(i||void 0===t))return e.replace(Y,"");if(!e||!(t=Qn(t)))return e;var n=Vt(e);return ua(n,Et(n,Vt(t))).join("")},Ci.truncate=function(e,t){var i=30,n="...";if(Uo(t)){var a="separator"in t?t.separator:a;i="length"in t?as(t.length):i,n="omission"in t?Qn(t.omission):n}var r=(e=cs(e)).length;if(Bt(e)){var o=Vt(e);r=o.length}if(i>=r)return e;var s=i-Gt(n);if(s<1)return n;var c=o?ua(o,0,s).join(""):e.slice(0,s);if(void 0===a)return c+n;if(o&&(s+=c.length-s),Yo(a)){if(e.slice(s).search(a)){var l,u=c;for(a.global||(a=_e(a.source,cs(ne.exec(a))+"g")),a.lastIndex=0;l=a.exec(u);)var h=l.index;c=c.slice(0,void 0===h?s:h)}}else if(e.indexOf(Qn(a),s)!=s){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+n},Ci.unescape=function(e){return(e=cs(e))&&q.test(e)?e.replace(I,$t):e},Ci.uniqueId=function(e){var t=++Se;return cs(e)+t},Ci.upperCase=Bs,Ci.upperFirst=Fs,Ci.each=so,Ci.eachRight=co,Ci.first=Dr,Zs(Ci,(sc={},ln(Ci,(function(e,t){je.call(Ci.prototype,t)||(sc[t]=e)})),sc),{chain:!1}),Ci.VERSION="4.17.19",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ci[e].placeholder=Ci})),st(["drop","take"],(function(e,t){Pi.prototype[e]=function(i){i=void 0===i?1:ri(as(i),0);var n=this.__filtered__&&!t?new Pi(this):this.clone();return n.__filtered__?n.__takeCount__=oi(i,n.__takeCount__):n.__views__.push({size:oi(i,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Pi.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var i=t+1,n=1==i||3==i;Pi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Za(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}})),st(["head","last"],(function(e,t){var i="take"+(t?"Right":"");Pi.prototype[e]=function(){return this[i](1).value()[0]}})),st(["initial","tail"],(function(e,t){var i="drop"+(t?"":"Right");Pi.prototype[e]=function(){return this.__filtered__?new Pi(this):this[i](1)}})),Pi.prototype.compact=function(){return this.filter($s)},Pi.prototype.find=function(e){return this.filter(e).head()},Pi.prototype.findLast=function(e){return this.reverse().find(e)},Pi.prototype.invokeMap=Bn((function(e,t){return"function"==typeof e?new Pi(this):this.map((function(i){return yn(i,e,t)}))})),Pi.prototype.reject=function(e){return this.filter(So(Za(e)))},Pi.prototype.slice=function(e,t){e=as(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Pi(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),void 0!==t&&(i=(t=as(t))<0?i.dropRight(-t):i.take(t-e)),i)},Pi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pi.prototype.toArray=function(){return this.take(4294967295)},ln(Pi.prototype,(function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),a=Ci[n?"take"+("last"==t?"Right":""):t],r=n||/^find/.test(t);a&&(Ci.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,s=t instanceof Pi,c=o[0],l=s||Ro(t),u=function(e){var t=a.apply(Ci,pt([e],o));return n&&h?t[0]:t};l&&i&&"function"==typeof c&&1!=c.length&&(s=l=!1);var h=this.__chain__,d=!!this.__actions__.length,f=r&&!h,p=s&&!d;if(!r&&l){t=p?t:new Pi(this);var m=e.apply(t,o);return m.__actions__.push({func:io,args:[u],thisArg:void 0}),new Li(m,h)}return f&&p?e.apply(this,o):(m=this.thru(u),f?n?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ci.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(Ro(a)?a:[],e)}return this[i]((function(i){return t.apply(Ro(i)?i:[],e)}))}})),ln(Pi.prototype,(function(e,t){var i=Ci[t];if(i){var n=i.name+"";je.call(vi,n)||(vi[n]=[]),vi[n].push({name:t,func:i})}})),vi[Aa(void 0,2).name]=[{name:"wrapper",func:void 0}],Pi.prototype.clone=function(){var e=new Pi(this.__wrapped__);return e.__actions__=va(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=va(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=va(this.__views__),e},Pi.prototype.reverse=function(){if(this.__filtered__){var e=new Pi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Pi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Ro(e),n=t<0,a=i?e.length:0,r=function(e,t,i){for(var n=-1,a=i.length;++n<a;){var r=i[n],o=r.size;switch(r.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=oi(t,e+o);break;case"takeRight":e=ri(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=r.start,s=r.end,c=s-o,l=n?s:o-1,u=this.__iteratees__,h=u.length,d=0,f=oi(c,this.__takeCount__);if(!i||!n&&a==c&&f==c)return na(e,this.__actions__);var p=[];e:for(;c--&&d<f;){for(var m=-1,_=e[l+=t];++m<h;){var g=u[m],v=g.iteratee,y=g.type,b=v(_);if(2==y)_=b;else if(!b){if(1==y)continue e;break e}}p[d++]=_}return p},Ci.prototype.at=no,Ci.prototype.chain=function(){return to(this)},Ci.prototype.commit=function(){return new Li(this.value(),this.__chain__)},Ci.prototype.next=function(){void 0===this.__values__&&(this.__values__=is(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Ci.prototype.plant=function(e){for(var t,i=this;i instanceof Mi;){var n=Cr(i);n.__index__=0,n.__values__=void 0,t?a.__wrapped__=n:t=n;var a=n;i=i.__wrapped__}return a.__wrapped__=e,t},Ci.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Pi){var t=e;return this.__actions__.length&&(t=new Pi(this)),(t=t.reverse()).__actions__.push({func:io,args:[Hr],thisArg:void 0}),new Li(t,this.__chain__)}return this.thru(Hr)},Ci.prototype.toJSON=Ci.prototype.valueOf=Ci.prototype.value=function(){return na(this.__wrapped__,this.__actions__)},Ci.prototype.first=Ci.prototype.head,Qe&&(Ci.prototype[Qe]=function(){return this}),Ci}();$e._=Jt,void 0===(a=function(){return Jt}.call(t,i,t,n))||(n.exports=a)}).call(this)}).call(this,i(3),i(4)(e))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==("undefined"===typeof window?"undefined":Object(wi["a"])(window))&&(i=window)}e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){i.r(t),i.d(t,"Timeline",(function(){return ti})),i.d(t,"parseGoogleSpreadsheetURL",(function(){return Xe})),i.d(t,"lookupMediaType",(function(){return Gt}));var a=navigator?navigator.userAgent.toLowerCase():"no-user-agent-specified",r=document?document.documentElement:null,o=!!a&&-1!==a.indexOf("phantom"),s=window&&"ActiveXObject"in window,c=(Boolean(s&&a.match(/MSIE 9/i)),s&&document&&document.addEventListener,-1!==a.indexOf("webkit")),h=(a.indexOf("android"),-1!==a.search("android [23]")),d=!!window&&void 0!==window.orientation,f=!(!navigator||!window)&&navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!window.PointerEvent,p=navigator&&window?window.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints:f,m=!!window&&window.opera,_=(a.indexOf("gecko"),-1!==a.indexOf("gecko")&&!c&&!m&&!s),g=(a.indexOf("chrome"),-1!==a.indexOf("edge/"));!!r&&s&&r.style,!!window&&"WebKitCSSMatrix"in window&&new window.WebKitCSSMatrix,!!r&&r.style,!!r&&r.style;window&&window.L_DISABLE_3D,d&&window.opera;var v=!!window&&"devicePixelRatio"in window&&window.devicePixelRatio>1;if(!v&&window&&"matchMedia"in window){var y=window.matchMedia("(min-resolution:144dpi)");v=y&&y.matches}var b=window&&!window.L_NO_TOUCH&&!o&&(p||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);function w(e){return"string"==typeof e?document.getElementById(e):e}function x(e,t,i){var n=document.createElement(e);return n.className=t,i&&i.appendChild(n),n}function j(e){for(var t={x:0,y:0};e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t.x+=e.offsetLeft,t.y+=e.offsetTop,e=e.offsetParent;return t}function S(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function T(e,t){(function(e,t){return e.className.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)})(e,t)||(e.className+=(e.className?" ":"")+t)}function O(e,t){e.className=e.className.replace(/(\S+)\s*/g,(function(e,i){return i===t?"":e})).replace(/^\s+/,"")}S(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),S(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]);var C=function(e){function t(e,i){var n;return Object(vi["a"])(this,t),n=Object(yi["a"])(this,t),n.name="TLError",n.message=e||"error",n.message_key=n.message,n.detail=i||"",n}return Object(bi["a"])(t,e),Object(gi["a"])(t)}(Object(ki["a"])(Error)),A={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function M(e){A[e.toLowerCase()]&&(e=A[e.toLowerCase()]),e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,n){return t+t+i+i+n+n}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function L(e,t){var i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function P(e){for(var t=Array.prototype.slice.call(arguments,1),i=0,n=t.length;i<n;i++)L(e,t[i]||{});return e}var E=[];function R(e){E.forEach((function(t){try{t(e)}catch(e){console&&console.log&&console.log("Error handling trace",e)}}))}function D(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var I,N,q=(I=0,N="_tl_id",function(e){return e[N]=e[N]||++I,e[N]});function B(e){return e&&"function"==typeof e.replace?e.replace(/^\s+|\s+$/g,""):""}function F(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var a=0,r=i;a<r.length;a++){var o,s=r[a],c=Object(_i["a"])(Object.getOwnPropertyNames(s.prototype));try{for(c.s();!(o=c.n()).done;){var l=o.value;e.prototype[l]=s.prototype[l]}}catch(u){c.e(u)}finally{c.f()}}}function W(e){e=(e=B(e)).toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",i=0,n=t.length;i<n;i++)e=e.replace(new RegExp(t.charAt(i),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(i));return(e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")).replace(/^([0-9])/,"_$1")}function z(e,t){var i=function(){var e;return"abcdefghijklmnopqurstuvwxyz".substr((e=32,Math.floor(Math.random()*e)),1)},n=function(e){for(var t="",n=0;n<e;n++)t+=i();return t};return t?t+"-"+n(e):"tl-"+n(e)}function H(e){return e==parseFloat(e)?!(e%2):void 0}function U(e,t,i,n){for(var a=n||0,r=0;r<t.length;r++)t[r].data[i]==e&&(a=r);return a}function G(e){return e?e=(e=e.replace(/<a\b[^>]*>/i,"")).replace(/<\/a>/i,""):e}function V(e){return(e=e.replace(/(<[^>]*>)+/g,"")).replace('"',"'")}function $(e,t,i){var n=function(e,t,i){return i||(i=""),t&&t.length>30&&(t=t.substring(0,30)+"…"),i+"<a class='tl-makelink' href='"+e+"' onclick='void(0)'>"+t+"</a>"};return e.replace(/\b(?:https?|ftp):\/\/([a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|])/gim,(function(e,t,i,a){if(i>0){var r=a[i-1];if('"'==r||"'"==r||"="==r)return e}return n(e,t)})).replace(/(^|[^\/>])(www\.[\S]+(\b|$))/gim,(function(e,t,i,a,r){return n("http://"+i,i,t)})).replace(/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gim,(function(e,t,i,a){return n("mailto:"+t,t)}))}function J(e){return e.replace(/(.*)www.dropbox.com\/(.*)/,"$1dl.dropboxusercontent.com/$2")}var Y,K,Z=function(e){var t={w:0,h:0};return e.w>e.h&&e.h>0?(t.h=e.h,t.w=e.h):(t.w=e.w,t.h=e.w),t},Q=function(e){return null!==e.w&&""!==e.w?Math.round(e.w/16*9):null!==e.h&&""!==e.h?Math.round(e.h/9*16):0},X=(K=(Y="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ").length,{encode:function(e){if("number"!=typeof e||e!==parseInt(e))throw'"encode" only accepts integers.';for(var t="";e;){var i=e%K;e=Math.floor(e/K),t=Y[i].toString()+t}return t},decode:function(e){if("string"!=typeof e)throw'"decode" only accepts strings.';for(var t=0;e;){var i=Y.indexOf(e[0]);if(i<0)throw'"decode" can\'t find "'+e[0]+'" in the alphabet: "'+Y+'"';var n=e.length-1;t+=i*Math.pow(K,n),e=e.substring(1)}return t}});function ee(e){if("string"==typeof e){var t=e.match(/^\s*(\d+h)?(\d+m)?(\d+s)?\s*/i);if(t){var i=parseInt(t[1])||0,n=parseInt(t[2])||0;return(parseInt(t[3])||0)+60*n+60*i*60}}else if("number"==typeof e)return e;return 0}function te(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}var ie=[.42,0,1,1];function ne(e){}function ae(e){return new ne(ie).get(e)}function re(e){return 1==e?1:1-Math.pow(2,-10*e)}function oe(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}var se=function(){};se.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var n=new i;for(var a in n.constructor=t,t.prototype=n,t.superclass=this.prototype,this)this.hasOwnProperty(a)&&"prototype"!==a&&"superclass"!==a&&(t[a]=this[a]);return e.statics&&(P(t,e.statics),delete e.statics),e.includes&&(P.apply(null,[n].concat(e.includes)),delete e.includes),e.options&&n.options&&(e.options=P({},n.options,e.options)),P(n,e),t.extend=se.extend,t.include=function(e){P(this.prototype,e)},t};var ce=function(){function e(){Object(vi["a"])(this,e)}return Object(gi["a"])(e,[{key:"on",value:function(e,t,i){if(!t)throw new C("No callback function provided");var n=this._tl_events=this._tl_events||{};return n[e]=n[e]||[],n[e].push({action:t,context:i||this}),this}},{key:"addEventListener",value:function(e,t,i){return this.on(e,t,i)}},{key:"hasEventListeners",value:function(e){var t="_tl_events";return t in this&&e in this[t]&&this[t][e].length>0}},{key:"removeEventListener",value:function(e,t,i){if(!this.hasEventListeners(e))return this;for(var n=0,a=this._tl_events,r=a[e].length;n<r;n++)if(a[e][n].action===t&&(!i||a[e][n].context===i))return a[e].splice(n,1),this;return this}},{key:"off",value:function(e,t,i){return this.removeEventListener(e,t,i)}},{key:"fire",value:function(e,t){if(!this.hasEventListeners(e))return this;for(var i=L({type:e,target:this},t),n=this._tl_events[e].slice(),a=0,r=n.length;a<r;a++)n[a].action?n[a].action.call(n[a].context||this,i):R("no action defined for ".concat(e," listener"));return this}}])}();function le(e,t){return ue(e,t)}var ue=function(){var e=document,t=window,i=t.performance,n=i&&(i.now||i.webkitNow||i.msNow||i.mozNow),a=n?function(){return n.call(i)}:function(){return+new Date},r=e.documentElement,o=!1,s=/^rgb\(|#/,c=/^([+\-])=([\d\.]+)/,l=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,u=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,h=/scale\(((?:[+\-]=)?([\d\.]+))\)/,d=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,f=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,p={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},m=function(){var t,i=e.createElement("a").style,n=["webkitTransform","MozTransform","OTransform","msTransform","Transform"];for(t=0;t<n.length;t++)if(n[t]in i)return n[t]}(),_=void 0!==e.createElement("a").style.opacity,g=e.defaultView&&e.defaultView.getComputedStyle?function(t,i){i=S(i="transform"==i?m:i);var n=null,a=e.defaultView.getComputedStyle(t,"");return a&&(n=a[i]),t.style[i]||n}:r.currentStyle?function(e,t){if("opacity"==(t=S(t))){var i=100;try{i=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{i=e.filters("alpha").opacity}catch(e){}}return i/100}var n=e.currentStyle?e.currentStyle[t]:null;return e.style[t]||n}:function(e,t){return e.style[S(t)]},v=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(e){t.setTimeout((function(){e(+new Date)}),17)},y=[];function b(e){var t,i=y.length;for(n&&e>1e12&&(e=a()),o&&(e=a()),t=i;t--;)y[t](e);y.length&&v(b)}function k(e){var t,i=function(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t);for(i=0;i<e.length;++i)if(e[i]===t)return i}(y,e);i>=0&&(t=y.slice(i+1),y.length=i,y=y.concat(t))}function w(e,t){var i,n={};return(i=e.match(u))&&(n.rotate=L(i[1],t?t.rotate:null)),(i=e.match(h))&&(n.scale=L(i[1],t?t.scale:null)),(i=e.match(d))&&(n.skewx=L(i[1],t?t.skewx:null),n.skewy=L(i[3],t?t.skewy:null)),(i=e.match(f))&&(n.translatex=L(i[1],t?t.translatex:null),n.translatey=L(i[3],t?t.translatey:null)),n}function x(e){var t="";return"rotate"in e&&(t+="rotate("+e.rotate+"deg) "),"scale"in e&&(t+="scale("+e.scale+") "),"translatex"in e&&(t+="translate("+e.translatex+"px,"+e.translatey+"px) "),"skewx"in e&&(t+="skew("+e.skewx+"deg,"+e.skewy+"deg)"),t}function j(e){var t,i,n,a=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(a?(t=a[1],i=a[2],n=a[3],"#"+(1<<24|t<<16|i<<8|n).toString(16).slice(1)):e).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function S(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function T(e){return"function"==typeof e}function O(e){return Math.sin(e*Math.PI/2)}function C(e,t,i,n,r,o){n=T(n)?n:P.easings[n]||O;var s,c=e||1e3,l=this,u=o-r,h=a(),d=0,f=0;return s=function e(a){var s=a-h;if(s>c||d)return o=isFinite(o)?o:1,d?f&&t(o):t(o),k(e),i&&i.apply(l);isFinite(o)?t(u*n(s/c)+r):t(n(s/c))},1===y.push(s)&&v(b),{stop:function(e){d=1,f=e,e||(i=null)}}}function A(e,t){var i,n,a=e.length,r=[];for(i=0;i<a;++i)r[i]=[e[i][0],e[i][1]];for(n=1;n<a;++n)for(i=0;i<a-n;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}function M(e,t,i,n,a,r,o){if("transform"==a){for(var s in o={},i[r][a])o[s]=s in n[r][a]?Math.round(1e3*((n[r][a][s]-i[r][a][s])*e+i[r][a][s]))/1e3:i[r][a][s];return o}return"string"==typeof i[r][a]?function(e,t,i){var n,a,r,o,s=[];for(n=0;n<6;n++)r=Math.min(15,parseInt(t.charAt(n),16)),o=Math.min(15,parseInt(i.charAt(n),16)),a=(a=Math.floor((o-r)*e+r))>15?15:a<0?0:a,s[n]=a.toString(16);return"#"+s.join("")}(e,i[r][a],n[r][a]):(o=Math.round(1e3*((n[r][a]-i[r][a])*e+i[r][a]))/1e3,a in p||(o+=t[r][a]||"px"),o)}function L(e,t,i,n,a){return(i=c.exec(e))?(a=parseFloat(i[2]))&&t+("+"==i[1]?1:-1)*a:parseFloat(e)}function P(e,t){var i,n,a,r=e?r=isFinite(e.length)?e:[e]:[],o=t.complete,c=t.duration,u=t.easing,h=t.bezier,d=[],f=[],p=[],v=[];for(h&&(n=t.left,a=t.top,delete t.right,delete t.bottom,delete t.left,delete t.top),i=r.length;i--;){if(d[i]={},f[i]={},p[i]={},h){var y=g(r[i],"left"),b=g(r[i],"top"),k=[L(T(n)?n(r[i]):n||0,parseFloat(y)),L(T(a)?a(r[i]):a||0,parseFloat(b))];v[i]=T(h)?h(r[i],k):h,v[i].push(k),v[i].unshift([parseInt(y,10),parseInt(b,10)])}for(var O in t){switch(O){case"complete":case"duration":case"easing":case"bezier":continue}var P,E=g(r[i],O),R=T(t[O])?t[O](r[i]):t[O];"string"!=typeof R||!s.test(R)||s.test(E)?(d[i][O]="transform"==O?w(E):"string"==typeof R&&s.test(R)?j(E).slice(1):parseFloat(E),f[i][O]="transform"==O?w(R,d[i][O]):"string"==typeof R&&"#"==R.charAt(0)?j(R).slice(1):L(R,parseFloat(E)),"string"==typeof R&&(P=R.match(l))&&(p[i][O]=P[1])):delete t[O]}}return C.apply(r,[c,function(e,n,a){for(i=r.length;i--;)for(var o in h&&(a=A(v[i],e),r[i].style.left=a[0]+"px",r[i].style.top=a[1]+"px"),t)n=M(e,p,d,f,o,i),"transform"==o?r[i].style[m]=x(n):"opacity"!=o||_?r[i].style[S(o)]=n:r[i].style.filter="alpha(opacity="+100*n+")"},o,u])}return v((function(e){o=e>1e12!=a()>1e12})),P.tween=C,P.getStyle=g,P.bezier=A,P.transform=m,P.parseTransform=w,P.formatTransform=x,P.easings={},P}(),he=function(){function e(){Object(vi["a"])(this,e)}return Object(gi["a"])(e,[{key:"show",value:function(e){e||(this._el.container.style.display="block")}},{key:"hide",value:function(e){this._el.container.style.display="none"}},{key:"addTo",value:function(e){e.appendChild(this._el.container),this.onAdd()}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container),this.onRemove()}},{key:"animatePosition",value:function(e,t){var i={duration:this.options.duration,easing:this.options.ease};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]+"px");this.animator&&this.animator.stop(),this.animator=le(t,i)}},{key:"onLoaded",value:function(){this.fire("loaded",this.data)}},{key:"onAdd",value:function(){this.fire("added",this.data)}},{key:"onRemove",value:function(){this.fire("removed",this.data)}},{key:"setPosition",value:function(e,t){for(var i in e)e.hasOwnProperty(i)&&(t?t.style[i]=e[i]+"px":this._el.container.style[i]=e[i]+"px")}},{key:"getPosition",value:function(){return j(this._el.container)}}])}(),de=function(){function e(t,i,n){Object(vi["a"])(this,e),this._el={drag:t,move:t},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},n&&(this._el.move=n),this.options={enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:!1,right:!1},momentum_multiplier:2e3,duration:1e3,ease:oe},this.animator=null,this.dragevent=this.mousedrag,b&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},L(this.options,i)}return Object(gi["a"])(e,[{key:"enable",value:function(e){this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}},{key:"disable",value:function(){pe.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),pe.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}},{key:"stopMomentum",value:function(){this.animator&&this.animator.stop()}},{key:"updateConstraint",value:function(e){this.options.constraint=e}},{key:"_onDragStart",value:function(e){b?e.originalEvent?(this.data.pagex.start=e.originalEvent.touches[0].screenX,this.data.pagey.start=e.originalEvent.touches[0].screenY):(this.data.pagex.start=e.targetTouches[0].screenX,this.data.pagey.start=e.targetTouches[0].screenY):(this.data.pagex.start=e.pageX,this.data.pagey.start=e.pageY),this.options.enable.x&&(this._el.move.style.left=this.data.pagex.start-this._el.move.offsetWidth/2+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.pagey.start-this._el.move.offsetHeight/2+"px"),this.data.pos.start=j(this._el.drag),this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),pe.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pe.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}},{key:"_onDragEnd",value:function(e){this.data.sliding=!1,pe.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pe.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}},{key:"_onDragMove",value:function(e){e.preventDefault(),this.data.sliding=!0,b?e.originalEvent?(this.data.pagex.end=e.originalEvent.touches[0].screenX,this.data.pagey.end=e.originalEvent.touches[0].screenY):(this.data.pagex.end=e.targetTouches[0].screenX,this.data.pagey.end=e.targetTouches[0].screenY):(this.data.pagex.end=e.pageX,this.data.pagey.end=e.pageY),this.data.pos.end=j(this._el.drag),this.data.new_pos.x=-(this.data.pagex.start-this.data.pagex.end-this.data.pos.start.x),this.data.new_pos.y=-(this.data.pagey.start-this.data.pagey.end-this.data.pos.start.y),this.options.enable.x&&(this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}},{key:"_momentum",value:function(){var e={x:0,y:0,time:0},t={x:0,y:0,time:0},i=!1;e.time=10*((new Date).getTime()-this.data.time.start),t.time=10*((new Date).getTime()-this.data.time.start),t.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),t.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),e.x=Math.round(t.x/t.time),e.y=Math.round(t.y/t.time),this.data.new_pos.x=Math.min(this.data.pos.end.x+e.x),this.data.new_pos.y=Math.min(this.data.pos.end.y+e.y),this.options.enable.x?this.data.new_pos.x<0&&(this.data.new_pos.x=0):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,t.time<3e3&&(i=!0),Math.abs(t.x)>1e4&&(this.data.direction="left",t.x>0&&(this.data.direction="right")),Math.abs(t.y)>1e4&&(this.data.direction="up",t.y>0&&(this.data.direction="down")),this._animateMomentum(),i&&this.fire("swipe_"+this.data.direction,this.data)}},{key:"_animateMomentum",value:function(){var e={x:this.data.new_pos.x,y:this.data.new_pos.y},t={duration:this.options.duration,easing:re};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(e.y>this.options.constraint.bottom?e.y=this.options.constraint.bottom:e.y<this.options.constraint.top&&(e.y=this.options.constraint.top)),t.top=Math.floor(e.y)+"px"),this.options.enable.x&&((this.options.constraint.left||this.options.constraint.right)&&(e.x>this.options.constraint.left?e.x=this.options.constraint.left:e.x<this.options.constraint.right&&(e.x=this.options.constraint.right)),t.left=Math.floor(e.x)+"px"),this.animator=le(this._el.move,t),this.fire("momentum",this.data)}}])}();F(ce);var fe,pe={addListener:function(e,t,i,n){var a=q(i),r="_tl_"+t+a;if(!e[r]){var o=function(t){return i.call(n||e,t||pe._getEvent())};if(b&&"dblclick"===t&&this.addDoubleTapListener)this.addDoubleTapListener(e,o,a);else if("addEventListener"in e)if("mousewheel"===t)e.addEventListener("DOMMouseScroll",o,!1),e.addEventListener(t,o,!1);else if("mouseenter"===t||"mouseleave"===t){var s=o,c="mouseenter"===t?"mouseover":"mouseout";o=function(t){if(pe._checkMouse(e,t))return s(t)},e.addEventListener(c,o,!1)}else e.addEventListener(t,o,!1);else"attachEvent"in e&&e.attachEvent("on"+t,o);e[r]=o}},removeListener:function(e,t,i){var n=q(i),a="_tl_"+t+n,r=e[a];r&&(b&&"dblclick"===t&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,n):"removeEventListener"in e?"mousewheel"===t?(e.removeEventListener("DOMMouseScroll",r,!1),e.removeEventListener(t,r,!1)):"mouseenter"===t||"mouseleave"===t?e.removeEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1):e.removeEventListener(t,r,!1):"detachEvent"in e&&e.detachEvent("on"+t,r),e[a]=null)},_checkMouse:function(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(e){return!1}return i!==e},_getEvent:function(){var e=window.event;if(!e)for(var t=arguments.callee.caller;t&&(!(e=t.arguments[0])||window.Event!==e.constructor);)t=t.caller;return e},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},disableClickPropagation:function(e){pe.addListener(e,de.START,pe.stopPropagation),pe.addListener(e,"click",pe.stopPropagation),pe.addListener(e,"dblclick",pe.stopPropagation)},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stop:function(e){pe.preventDefault(e),pe.stopPropagation(e)},getWheelDelta:function(e){var t=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),t}},me=function(){var e,t,i,n,a,r=[],o=r.slice,s=r.filter,c=window.document,l={},u={},h={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},d=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/^(?:body|html)$/i,_=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],v=c.createElement("table"),y=c.createElement("tr"),b={tr:c.createElement("tbody"),tbody:v,thead:v,tfoot:v,td:y,th:y,"*":c.createElement("div")},k=/complete|loaded|interactive/,w=/^[\w-]*$/,x={},j=x.toString,S={},T=c.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C=Array.isArray||function(e){return e instanceof Array};function A(e){return null==e?String(e):x[j.call(e)]||"object"}function M(e){return"function"==A(e)}function L(e){return null!=e&&e==e.window}function P(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function E(e){return"object"==A(e)}function R(e){return E(e)&&!L(e)&&Object.getPrototypeOf(e)==Object.prototype}function D(e){return"number"==typeof e.length}function I(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function N(e){return e in u?u[e]:u[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function q(e,t){return"number"!=typeof t||h[I(e)]?t:t+"px"}function B(e){return"children"in e?o.call(e.children):t.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function F(t,i,n){for(e in i)n&&(R(i[e])||C(i[e]))?(R(i[e])&&!R(t[e])&&(t[e]={}),C(i[e])&&!C(t[e])&&(t[e]=[]),F(t[e],i[e],n)):void 0!==i[e]&&(t[e]=i[e])}function W(e,i){return null==i?t(e):t(e).filter(i)}function z(e,t,i,n){return M(t)?t.call(e,i,n):t}function H(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}function U(e,t){var i=e.className,n=i&&void 0!==i.baseVal;if(void 0===t)return n?i.baseVal:i;n?i.baseVal=t:e.className=t}function G(e){var i;try{return e?"true"==e||"false"!=e&&("null"==e?null:/^0/.test(e)||isNaN(i=Number(e))?/^[\[\{]/.test(e)?t.parseJSON(e):e:i):e}catch(t){return e}}function V(e,t){for(var i in t(e),e.childNodes)V(e.childNodes[i],t)}return S.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(i)return i.call(e,t);var n,a=e.parentNode,r=!a;return r&&(a=T).appendChild(e),n=~S.qsa(a,t).indexOf(e),r&&T.removeChild(e),n},n=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},a=function(e){return s.call(e,(function(t,i){return e.indexOf(t)==i}))},S.fragment=function(e,i,n){var a,r,s;return f.test(e)&&(a=t(c.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(p,"<$1></$2>")),void 0===i&&(i=d.test(e)&&RegExp.$1),i in b||(i="*"),(s=b[i]).innerHTML=""+e,a=t.each(o.call(s.childNodes),(function(){s.removeChild(this)}))),R(n)&&(r=t(a),t.each(n,(function(e,t){g.indexOf(e)>-1?r[e](t):r.attr(e,t)}))),a},S.Z=function(e,i){return(e=e||[]).__proto__=t.fn,e.selector=i||"",e},S.isZ=function(e){return e instanceof S.Z},S.init=function(e,i){var n,a;if(!e)return S.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&d.test(e))n=S.fragment(e,RegExp.$1,i),e=null;else{if(void 0!==i)return t(i).find(e);n=S.qsa(c,e)}else{if(M(e))return t(c).ready(e);if(S.isZ(e))return e;if(C(e))a=e,n=s.call(a,(function(e){return null!=e}));else if(E(e))n=[e],e=null;else if(d.test(e))n=S.fragment(e.trim(),RegExp.$1,i),e=null;else{if(void 0!==i)return t(i).find(e);n=S.qsa(c,e)}}return S.Z(n,e)},(t=function(e,t){return S.init(e,t)}).extend=function(e){var t,i=o.call(arguments,1);return"boolean"==typeof e&&(t=e,e=i.shift()),i.forEach((function(i){F(e,i,t)})),e},S.qsa=function(e,t){var i,n="#"==t[0],a=!n&&"."==t[0],r=n||a?t.slice(1):t,s=w.test(r);return P(e)&&s&&n?(i=e.getElementById(r))?[i]:[]:1!==e.nodeType&&9!==e.nodeType?[]:o.call(s&&!n?a?e.getElementsByClassName(r):e.getElementsByTagName(t):e.querySelectorAll(t))},t.contains=function(e,t){return e!==t&&e.contains(t)},t.type=A,t.isFunction=M,t.isWindow=L,t.isArray=C,t.isPlainObject=R,t.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},t.inArray=function(e,t,i){return r.indexOf.call(t,e,i)},t.camelCase=n,t.trim=function(e){return null==e?"":String.prototype.trim.call(e)},t.uuid=0,t.support={},t.expr={},t.map=function(e,i){var n,a,r,o,s=[];if(D(e))for(a=0;a<e.length;a++)null!=(n=i(e[a],a))&&s.push(n);else for(r in e)null!=(n=i(e[r],r))&&s.push(n);return(o=s).length>0?t.fn.concat.apply([],o):o},t.each=function(e,t){var i,n;if(D(e)){for(i=0;i<e.length;i++)if(!1===t.call(e[i],i,e[i]))return e}else for(n in e)if(!1===t.call(e[n],n,e[n]))return e;return e},t.grep=function(e,t){return s.call(e,t)},window.JSON&&(t.parseJSON=JSON.parse),t.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){x["[object "+t+"]"]=t.toLowerCase()})),t.fn={forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,indexOf:r.indexOf,concat:r.concat,map:function(e){return t(t.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return t(o.apply(this,arguments))},ready:function(e){return k.test(c.readyState)&&c.body?e(t):c.addEventListener("DOMContentLoaded",(function(){e(t)}),!1),this},get:function(e){return void 0===e?o.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){return r.every.call(this,(function(t,i){return!1!==e.call(t,i,t)})),this},filter:function(e){return M(e)?this.not(this.not(e)):t(s.call(this,(function(t){return S.matches(t,e)})))},add:function(e,i){return t(a(this.concat(t(e,i))))},is:function(e){return this.length>0&&S.matches(this[0],e)},not:function(e){var i=[];if(M(e)&&void 0!==e.call)this.each((function(t){e.call(this,t)||i.push(this)}));else{var n="string"==typeof e?this.filter(e):D(e)&&M(e.item)?o.call(e):t(e);this.forEach((function(e){n.indexOf(e)<0&&i.push(e)}))}return t(i)},has:function(e){return this.filter((function(){return E(e)?t.contains(this,e):t(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!E(e)?e:t(e)},last:function(){var e=this[this.length-1];return e&&!E(e)?e:t(e)},find:function(e){var i=this;return"object"==Object(wi["a"])(e)?t(e).filter((function(){var e=this;return r.some.call(i,(function(i){return t.contains(i,e)}))})):1==this.length?t(S.qsa(this[0],e)):this.map((function(){return S.qsa(this,e)}))},closest:function(e,i){var n=this[0],a=!1;for("object"==Object(wi["a"])(e)&&(a=t(e));n&&!(a?a.indexOf(n)>=0:S.matches(n,e));)n=n!==i&&!P(n)&&n.parentNode;return t(n)},parents:function(e){for(var i=[],n=this;n.length>0;)n=t.map(n,(function(e){if((e=e.parentNode)&&!P(e)&&i.indexOf(e)<0)return i.push(e),e}));return W(i,e)},parent:function(e){return W(a(this.pluck("parentNode")),e)},children:function(e){return W(this.map((function(){return B(this)})),e)},contents:function(){return this.map((function(){return o.call(this.childNodes)}))},siblings:function(e){return W(this.map((function(e,t){return s.call(B(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return t.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){var e,t,i;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,l[e]||(t=c.createElement(e),c.body.appendChild(t),i=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==i&&(i="block"),l[e]=i),l[e]))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var i=M(e);if(this[0]&&!i)var n=t(e).get(0),a=n.parentNode||this.length>1;return this.each((function(r){t(this).wrapAll(i?e.call(this,r):a?n.cloneNode(!0):n)}))},wrapAll:function(e){if(this[0]){var i;for(t(this[0]).before(e=t(e));(i=e.children()).length;)e=i.first();t(e).append(this)}return this},wrapInner:function(e){var i=M(e);return this.each((function(n){var a=t(this),r=a.contents(),o=i?e.call(this,n):e;r.length?r.wrapAll(o):a.append(o)}))},unwrap:function(){return this.parent().each((function(){t(this).replaceWith(t(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var i=t(this);(void 0===e?"none"==i.css("display"):e)?i.show():i.hide()}))},prev:function(e){return t(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return t(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each((function(i){var n=this.innerHTML;t(this).empty().append(z(this,e,i,n))}))},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each((function(){this.textContent=void 0===e?"":""+e}))},attr:function(t,i){var n;return"string"==typeof t&&void 0===i?0==this.length||1!==this[0].nodeType?void 0:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each((function(n){if(1===this.nodeType)if(E(t))for(e in t)H(this,e,t[e]);else H(this,t,z(this,i,n,this.getAttribute(t)))}))},removeAttr:function(e){return this.each((function(){1===this.nodeType&&H(this,e)}))},prop:function(e,t){return e=O[e]||e,void 0===t?this[0]&&this[0][e]:this.each((function(i){this[e]=z(this,t,i,this[e])}))},data:function(e,t){var i=this.attr("data-"+e.replace(_,"-$1").toLowerCase(),t);return null!==i?G(i):void 0},val:function(e){return 0===arguments.length?this[0]&&(this[0].multiple?t(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value):this.each((function(t){this.value=z(this,e,t,this.value)}))},offset:function(e){if(e)return this.each((function(i){var n=t(this),a=z(this,e,i,n.offset()),r=n.offsetParent().offset(),o={top:a.top-r.top,left:a.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)}));if(0==this.length)return null;var i=this[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}},css:function(i,a){if(arguments.length<2){var r=this[0],o=getComputedStyle(r,"");if(!r)return;if("string"==typeof i)return r.style[n(i)]||o.getPropertyValue(i);if(C(i)){var s={};return t.each(C(i)?i:[i],(function(e,t){s[t]=r.style[n(t)]||o.getPropertyValue(t)})),s}}var c="";if("string"==A(i))a||0===a?c=I(i)+":"+q(i,a):this.each((function(){this.style.removeProperty(I(i))}));else for(e in i)i[e]||0===i[e]?c+=I(e)+":"+q(e,i[e])+";":this.each((function(){this.style.removeProperty(I(e))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(e){return e?this.indexOf(t(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&r.some.call(this,(function(e){return this.test(U(e))}),N(e))},addClass:function(e){return e?this.each((function(n){i=[];var a=U(this);z(this,e,n,a).split(/\s+/g).forEach((function(e){t(this).hasClass(e)||i.push(e)}),this),i.length&&U(this,a+(a?" ":"")+i.join(" "))})):this},removeClass:function(e){return this.each((function(t){if(void 0===e)return U(this,"");i=U(this),z(this,e,t,i).split(/\s+/g).forEach((function(e){i=i.replace(N(e)," ")})),U(this,i.trim())}))},toggleClass:function(e,i){return e?this.each((function(n){var a=t(this);z(this,e,n,U(this)).split(/\s+/g).forEach((function(e){(void 0===i?!a.hasClass(e):i)?a.addClass(e):a.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],i=this.offsetParent(),n=this.offset(),a=m.test(i[0].nodeName)?{top:0,left:0}:i.offset();return n.top-=parseFloat(t(e).css("margin-top"))||0,n.left-=parseFloat(t(e).css("margin-left"))||0,a.top+=parseFloat(t(i[0]).css("border-top-width"))||0,a.left+=parseFloat(t(i[0]).css("border-left-width"))||0,{top:n.top-a.top,left:n.left-a.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||c.body;e&&!m.test(e.nodeName)&&"static"==t(e).css("position");)e=e.offsetParent;return e}))}},t.fn.detach=t.fn.remove,["width","height"].forEach((function(e){var i=e.replace(/./,(function(e){return e[0].toUpperCase()}));t.fn[e]=function(n){var a,r=this[0];return void 0===n?L(r)?r["inner"+i]:P(r)?r.documentElement["scroll"+i]:(a=this.offset())&&a[e]:this.each((function(i){(r=t(this)).css(e,z(this,n,i,r[e]()))}))}})),["after","prepend","before","append"].forEach((function(e,i){var n=i%2;t.fn[e]=function(){var e,a,r=t.map(arguments,(function(t){return"object"==(e=A(t))||"array"==e||null==t?t:S.fragment(t)})),o=this.length>1;return r.length<1?this:this.each((function(e,s){a=n?s:s.parentNode,s=0==i?s.nextSibling:1==i?s.firstChild:2==i?s:null,r.forEach((function(e){if(o)e=e.cloneNode(!0);else if(!a)return t(e).remove();V(a.insertBefore(e,s),(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)}))}))}))},t.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(i){return t(i)[e](this),this}})),S.Z.prototype=t.fn,S.uniq=a,S.deserializeValue=G,t.zepto=S,t}();window.Zepto=me,void 0===window.$&&(window.$=me),function(e){e.zepto.qsa;var t=1,i=Array.prototype.slice,n=e.isFunction,a=function(e){return"string"==typeof e},r={},o={},s="onfocusin"in window,c={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};function u(e){return e._zid||(e._zid=t++)}function h(e,t,i,n){if((t=d(t)).ns)var a=(o=t.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(r[u(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||a.test(e.ns))&&(!i||u(e.fn)===u(i))&&(!n||e.sel==n)}))}function d(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function f(e,t){return e.del&&!s&&e.e in c||!!t}function p(e){return l[e]||s&&c[e]||e}function m(t,i,n,a,o,s,c){var h=u(t),m=r[h]||(r[h]=[]);i.split(/\s/).forEach((function(i){if("ready"==i)return e(document).ready(n);var r=d(i);r.fn=n,r.sel=o,r.e in l&&(n=function(t){var i=t.relatedTarget;if(!i||i!==this&&!e.contains(this,i))return r.fn.apply(this,arguments)}),r.del=s;var u=s||n;r.proxy=function(e){if(!(e=k(e)).isImmediatePropagationStopped()){e.data=a;var i=u.apply(t,null==e._args?[e]:[e].concat(e._args));return!1===i&&(e.preventDefault(),e.stopPropagation()),i}},r.i=m.length,m.push(r),"addEventListener"in t&&t.addEventListener(p(r.e),r.proxy,f(r,c))}))}function _(e,t,i,n,a){var o=u(e);(t||"").split(/\s/).forEach((function(t){h(e,t,i,n).forEach((function(t){delete r[o][t.i],"removeEventListener"in e&&e.removeEventListener(p(t.e),t.proxy,f(t,a))}))}))}o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",e.event={add:m,remove:_},e.proxy=function(t,i){if(n(t)){var r=function(){return t.apply(i,arguments)};return r._zid=u(t),r}if(a(i))return e.proxy(t[i],t);throw new TypeError("expected function")},e.fn.bind=function(e,t,i){return this.on(e,t,i)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,i,n){return this.on(e,t,i,n,1)};var g=function(){return!0},v=function(){return!1},y=/^([A-Z]|returnValue$|layer[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function k(t,i){return!i&&t.isDefaultPrevented||(i||(i=t),e.each(b,(function(e,n){var a=i[e];t[e]=function(){return this[n]=g,a&&a.apply(i,arguments)},t[n]=v})),(void 0!==i.defaultPrevented?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(t.isDefaultPrevented=g)),t}function w(e){var t,i={originalEvent:e};for(t in e)y.test(t)||void 0===e[t]||(i[t]=e[t]);return k(i,e)}e.fn.delegate=function(e,t,i){return this.on(t,e,i)},e.fn.undelegate=function(e,t,i){return this.off(t,e,i)},e.fn.live=function(t,i){return e(document.body).delegate(this.selector,t,i),this},e.fn.die=function(t,i){return e(document.body).undelegate(this.selector,t,i),this},e.fn.on=function(t,r,o,s,c){var l,u,h=this;return t&&!a(t)?(e.each(t,(function(e,t){h.on(e,r,o,t,c)})),h):(a(r)||n(s)||!1===s||(s=o,o=r,r=void 0),(n(o)||!1===o)&&(s=o,o=void 0),!1===s&&(s=v),h.each((function(n,a){c&&(l=function(e){return _(a,e.type,s),s.apply(this,arguments)}),r&&(u=function(t){var n,o=e(t.target).closest(r,a).get(0);if(o&&o!==a)return n=e.extend(w(t),{currentTarget:o,liveFired:a}),(l||s).apply(o,[n].concat(i.call(arguments,1)))}),m(a,t,s,o,r,u||l)})))},e.fn.off=function(t,i,r){var o=this;return t&&!a(t)?(e.each(t,(function(e,t){o.off(e,i,t)})),o):(a(i)||n(r)||!1===r||(r=i,i=void 0),!1===r&&(r=v),o.each((function(){_(this,t,r,i)})))},e.fn.trigger=function(t,i){return(t=a(t)||e.isPlainObject(t)?e.Event(t):k(t))._args=i,this.each((function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,i)}))},e.fn.triggerHandler=function(t,i){var n,r;return this.each((function(o,s){(n=w(a(t)?e.Event(t):t))._args=i,n.target=s,e.each(h(s,t.type||t),(function(e,t){if(r=t.proxy(n),n.isImmediatePropagationStopped())return!1}))})),r},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}})),["focus","blur"].forEach((function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each((function(){try{this[t]()}catch(e){}})),this}})),e.Event=function(e,t){a(e)||(e=(t=e).type);var i=document.createEvent(o[e]||"Events"),n=!0;if(t)for(var r in t)"bubbles"==r?n=!!t[r]:i[r]=t[r];return i.initEvent(e,n,!0),k(i)}}(me),function(e){var t,i,n=0,a=window.document,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,o=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,c=/^\s*$/;function l(t,i,n,r){if(t.global)return function(t,i,n){var a=e.Event(i);return e(t).trigger(a,n),!a.isDefaultPrevented()}(i||a,n,r)}function u(e,t){var i=t.context;if(!1===t.beforeSend.call(i,e,t)||!1===l(t,i,"ajaxBeforeSend",[e,t]))return!1;l(t,i,"ajaxSend",[e,t])}function h(e,t,i,n){var a=i.context;i.success.call(a,e,"success",t),n&&n.resolveWith(a,[e,"success",t]),l(i,a,"ajaxSuccess",[t,i,e]),f("success",t,i)}function d(e,t,i,n,a){var r=n.context;n.error.call(r,i,t,e),a&&a.rejectWith(r,[i,t,e]),l(n,r,"ajaxError",[i,n,e||t]),f(t,i,n)}function f(t,i,n){var a=n.context;n.complete.call(a,i,t),l(n,a,"ajaxComplete",[i,n]),function(t){t.global&&!--e.active&&l(t,null,"ajaxStop")}(n)}function p(){}function m(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function _(t,i,n,a){var r=!e.isFunction(i);return{url:t,data:r?i:void 0,success:r?e.isFunction(n)?n:void 0:i,dataType:r&&a||n}}e.active=0,e.ajaxJSONP=function(t,i){if(!("type"in t))return e.ajax(t);var r,o,s=t.jsonpCallback,c=(e.isFunction(s)?s():s)||"jsonp"+ ++n,l=a.createElement("script"),f=window[c],p=function(t){e(l).triggerHandler("error",t||"abort")},m={abort:p};return i&&i.promise(m),e(l).on("load error",(function(n,a){clearTimeout(o),e(l).off().remove(),"error"!=n.type&&r?h(r[0],m,t,i):d(null,a||"error",m,t,i),window[c]=f,r&&e.isFunction(f)&&f(r[0]),f=r=void 0})),!1===u(m,t)?(p("abort"),m):(window[c]=function(){r=arguments},l.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),a.head.appendChild(l),t.timeout>0&&(o=setTimeout((function(){p("timeout")}),t.timeout)),m)},e.ajaxSettings={type:"GET",beforeSend:p,success:p,error:p,complete:p,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(n){var a=e.extend({},n||{}),r=e.Deferred&&e.Deferred();for(t in e.ajaxSettings)void 0===a[t]&&(a[t]=e.ajaxSettings[t]);!function(t){t.global&&0==e.active++&&l(t,null,"ajaxStart")}(a),a.crossDomain||(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!=window.location.host),a.url||(a.url=window.location.toString()),function(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=m(t.url,t.data),t.data=void 0)}(a),!1===a.cache&&(a.url=m(a.url,"_="+Date.now()));var f=a.dataType,_=/\?.+=\?/.test(a.url);if("jsonp"==f||_)return _||(a.url=m(a.url,a.jsonp?a.jsonp+"=?":!1===a.jsonp?"":"callback=?")),e.ajaxJSONP(a,r);var g,v=a.accepts[f],y={},b=function(e,t){y[e.toLowerCase()]=[e,t]},k=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,w=a.xhr(),x=w.setRequestHeader;if(r&&r.promise(w),a.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",v||"*/*"),(v=a.mimeType||v)&&(v.indexOf(",")>-1&&(v=v.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(v)),(a.contentType||!1!==a.contentType&&a.data&&"GET"!=a.type.toUpperCase())&&b("Content-Type",a.contentType||"application/x-www-form-urlencoded"),a.headers)for(i in a.headers)b(i,a.headers[i]);if(w.setRequestHeader=b,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=p,clearTimeout(g);var t,i=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==k){f=f||function(e){return e&&(e=e.split(";",2)[0]),e&&("text/html"==e?"html":"application/json"==e?"json":o.test(e)?"script":s.test(e)&&"xml")||"text"}(a.mimeType||w.getResponseHeader("content-type")),t=w.responseText;try{"script"==f?(0,eval)(t):"xml"==f?t=w.responseXML:"json"==f&&(t=c.test(t)?null:e.parseJSON(t))}catch(e){i=e}i?d(i,"parsererror",w,a,r):h(t,w,a,r)}else d(w.statusText||null,w.status?"error":"abort",w,a,r)}},!1===u(w,a))return w.abort(),d(null,"abort",w,a,r),w;if(a.xhrFields)for(i in a.xhrFields)w[i]=a.xhrFields[i];var j=!("async"in a)||a.async;for(i in w.open(a.type,a.url,j,a.username,a.password),y)x.apply(w,y[i]);return a.timeout>0&&(g=setTimeout((function(){w.onreadystatechange=p,w.abort(),d(null,"timeout",w,a,r)}),a.timeout)),w.send(a.data?a.data:null),w},e.get=function(t,i,n,a){return e.ajax(_.apply(null,arguments))},e.post=function(t,i,n,a){var r=_.apply(null,arguments);return r.type="POST",e.ajax(r)},e.getJSON=function(t,i,n){var a=_.apply(null,arguments);return a.dataType="json",e.ajax(a)},e.fetchJSON=function(e){var t=new XMLHttpRequest;return new Promise((function(i,n){t.onreadystatechange=function(){if(4===t.readyState)if(t.status>=200&&t.status<300){var e=JSON.parse(t.responseText);i(e)}else n({status:t.status,statusText:t.statusText})},t.open("GET",e,!0),t.send()}))},e.fn.load=function(t,i,n){if(!this.length)return this;var a,o=this,s=t.split(/\s/),c=_(t,i,n),l=c.success;return s.length>1&&(c.url=s[0],a=s[1]),c.success=function(t){o.html(a?e("<div>").html(t.replace(r,"")).find(a):t),l&&l.apply(o,arguments)},e.ajax(c),this};var g=encodeURIComponent;e.param=function(t,i){var n=[];return n.add=function(e,t){this.push(g(e)+"="+g(t))},function t(i,n,a,r){var o,s=e.isArray(n),c=e.isPlainObject(n);e.each(n,(function(n,l){o=e.type(l),r&&(n=a?r:r+"["+(c||"object"==o||"array"==o?n:"")+"]"),!r&&s?i.add(l.name,l.value):"array"==o||!a&&"object"==o?t(i,l,a,n):i.add(n,l)}))}(n,t,i),n.join("&").replace(/%20/g,"+")}}(me),(fe=me).fn.serializeArray=function(){var e,t=[];return fe([].slice.call(this.get(0).elements)).each((function(){var i=(e=fe(this)).attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&t.push({name:e.attr("name"),value:e.val()})})),t},fe.fn.serialize=function(){var e=[];return this.serializeArray().forEach((function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))})),e.join("&")},fe.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var t=fe.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,i){return t=t||[],e.extend(t,e.fn),t.selector=i||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e,i){try{return t(e,i)}catch(e){return null}}}}(me);var _e=me.getJSON,ge=me.ajax,ve=me.fetchJSON,ye=[["millisecond",1,function(e){}],["second",1e3,function(e){e.setMilliseconds(0)}],["minute",6e4,function(e){e.setSeconds(0)}],["hour",36e5,function(e){e.setMinutes(0)}],["day",864e5,function(e){e.setHours(0)}],["month",2592e6,function(e){e.setDate(1)}],["year",31536e6,function(e){e.setMonth(0)}],["decade",31536e7,function(e){var t=e.getFullYear();e.setFullYear(t-t%10)}],["century",31536e8,function(e){var t=e.getFullYear();e.setFullYear(t-t%100)}],["millennium",31536e9,function(e){var t=e.getFullYear();e.setFullYear(t-t%1e3)}]],be=["millisecond","second","minute","hour","day","month","year"],ke=/^([\+-]?\d+?)(-\d{2}?)?(-\d{2}?)?$/,we=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,xe={base:{millisecond:"time_short",second:"time",minute:"time_no_seconds_small_date",hour:"time_no_seconds_small_date",day:"full",month:"month",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"},short:{millisecond:"time_short",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"}},je=se.extend({initialize:function(e,t,i){"number"==typeof e?this.data={format:"yyyy mmmm",date_obj:new Date(e)}:Date==e.constructor?this.data={format:"yyyy mmmm",date_obj:e}:(this.data=JSON.parse(JSON.stringify(e)),this._createDateObj()),this._setFormat(t,i)},setDateFormat:function(e){this.data.format=e},getDisplayDate:function(e,t){if(this.data.display_date)return this.data.display_date;e||(e=Me.fallback),e.constructor!=Me&&(R("First argument to getDisplayDate must be type Language"),e=Me.fallback);var i=t||this.data.format;return e.formatDate(this.data.date_obj,i)},getMillisecond:function(){return this.getTime()},getTime:function(){return this.data.date_obj.getTime()},isBefore:function(e){if(!this.data.date_obj.constructor==e.data.date_obj.constructor)throw new C("date_compare_err");return"isBefore"in this.data.date_obj?this.data.date_obj.isBefore(e.data.date_obj):this.data.date_obj<e.data.date_obj},isAfter:function(e){if(!this.data.date_obj.constructor==e.data.date_obj.constructor)throw new C("date_compare_err");return"isAfter"in this.data.date_obj?this.data.date_obj.isAfter(e.data.date_obj):this.data.date_obj>e.data.date_obj},floor:function(e){for(var t=new Date(this.data.date_obj.getTime()),i=0;i<ye.length;i++)if(ye[i][2](t),ye[i][0]==e)return new je(t);throw new C("invalid_scale_err",e)},_getDateData:function(){var e={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0};for(var t in L(e,this.data),be){if(!B(e[be[t]]).match(/^-?\d*$/))throw new C("invalid_date_err",be[t]+" = '"+e[be[t]]+"'");var i=parseInt(e[be[t]]);isNaN(i)&&(i=4==t||5==t?1:0),e[be[t]]=i}return e.month>0&&e.month<=12&&(e.month=e.month-1),e},_createDateObj:function(){var e=this._getDateData();this.data.date_obj=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond),this.data.date_obj.getFullYear()!=e.year&&this.data.date_obj.setFullYear(e.year)},findBestFormat:function(e){for(var t=be,i=0;i<t.length;i++)if(this.data[t[i]])return e?e in xe||(e="short"):e="base",xe[e][t[i]];return""},_setFormat:function(e,t){e?this.data.format=e:this.data.format||(this.data.format=this.findBestFormat()),t?this.data.format_short=t:this.data.format_short||(this.data.format_short=this.findBestFormat(!0))}});function Se(e){if(e.match(ke)){var t=e.match(ke).slice(1),i={year:t[0].replace("+","")};return t[1]&&(i.month=t[1].replace("-","")),t[2]&&(i.day=t[2].replace("-","")),i}if(e.match(we))return cls.parseISODate(e);if(e.match(/^\-?\d+$/))return{year:e};var n={};if(e.match(/\d+\/\d+\/\d+/)){var a=e.match(/\d+\/\d+\/\d+/)[0];e=B(e.replace(a,""));var r=a.split("/");n.month=r[0],n.day=r[1],n.year=r[2]}if(e.match(/\d+\/\d+/)&&(a=e.match(/\d+\/\d+/)[0],e=B(e.replace(a,"")),r=a.split("/"),n.month=r[0],n.year=r[1]),e.match(":")){var o=e.split(":");if(n.hour=o[0],n.minute=o[1],o[2]){var s=o[2].split(".");n.second=s[0],n.millisecond=s[1]}}return n}var Te=se.extend({initialize:function(e){if(this.year=parseInt(e),isNaN(this.year))throw new C("invalid_year_err",e)},isBefore:function(e){return this.year<e.year},isAfter:function(e){return this.year>e.year},getTime:function(){return this.year}});function Oe(e){return function(t){var i=t.getTime();return new Te(Math.floor(i/e)*e)}}var Ce=[["year",1,new Oe(1)],["decade",10,new Oe(10)],["century",100,new Oe(100)],["millennium",1e3,new Oe(1e3)],["age",1e6,new Oe(1e6)],["epoch",1e7,new Oe(1e7)],["era",1e8,new Oe(1e8)],["eon",1e9,new Oe(1e9)]],Ae=je.extend({initialize:function(e,t,i){Te==e.constructor?this.data={date_obj:e}:(this.data=JSON.parse(JSON.stringify(e)),this._createDateObj()),this._setFormat(t,i)},_createDateObj:function(){var e=this._getDateData();this.data.date_obj=new Te(e.year)},floor:function(e){for(var t=0;t<Ce.length;t++)if(Ce[t][0]==e){var i=Ce[t][2](this.data.date_obj);return new Ae(i)}throw new C("invalid_scale_err",e)}}),Me=function(){function e(t,i){for(var n in Object(vi["a"])(this,e),Pe.en)this[n]=Pe.en[n];if(t&&"string"==typeof t&&"en"!=t){var a=t;if(!(a in Pe)){if(/\.json$/.test(a))var r=a;else{var o="/locale/"+a+".json";/\/$/.test(i=i)&&(o=o.substr(1)),r=i+o}var s=ge({url:r,async:!1});if(200!=s.status)throw"Could not load language ["+a+"]: "+s.statusText;Pe[a]=JSON.parse(s.responseText)}L(this,Pe[a])}}return Object(gi["a"])(e,[{key:"mergeData",value:function(e){for(k in Pe.en)e[k]&&("object"==Object(wi["a"])(this[k])?L(e[k],this[k]):this[k]=e[k])}},{key:"formatBigYear",value:function(e,t){var i=e.year,n=this.bigdateformats[t]||this.bigdateformats.fallback;if(n){for(var a=0;a<n.length;a++){var r=n[a];if(Math.abs(i/r[0])>1)return Le(Math.abs(i/r[0]),r[1])}return i.toString()}return R("Language file dateformats missing cosmological. Falling back."),Le(i,t)}},{key:"_",value:function(t){return this.messages[t]||e.fallback.messages[t]||t}},{key:"formatDate",value:function(e,t){return e.constructor==Date?this.formatJSDate(e,t):e.constructor==Te?this.formatBigYear(e,t):e.data&&e.data.date_obj?this.formatDate(e.data.date_obj,t):(R("Unfamiliar date presented for formatting"),e.toString())}},{key:"formatJSDate",value:function(t,i){var n=this,a=function(e,t){var i=n.period_labels[e];return i&&(e=t<12?i[0]:i[1]),"<span class='tl-timeaxis-timesuffix'>"+e+"</span>"};i||(i="full");var r=this.dateformats[i]||e.fallback.dateformats[i];r||(r=i);var o=t.getDate(),s=t.getDay(),c=t.getMonth(),l=t.getFullYear(),u=t.getHours(),h=t.getMinutes(),d=t.getSeconds(),f=t.getMilliseconds(),p=t.getTimezoneOffset(),m={d:o,dd:D(o),ddd:this.date.day_abbr[s],dddd:this.date.day[s],m:c+1,mm:D(c+1),mmm:this.date.month_abbr[c],mmmm:this.date.month[c],yy:String(l).slice(2),yyyy:l<0&&this.has_negative_year_modifier()?Math.abs(l):l,h:u%12||12,hh:D(u%12||12),H:u,HH:D(u),M:h,MM:D(h),s:d,ss:D(d),l:D(f,3),L:D(f>99?Math.round(f/10):f),t:a("t",u),tt:a("tt",u),T:a("T",u),TT:a("TT",u),Z:(String(t).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(p>0?"-":"+")+D(100*Math.floor(Math.abs(p)/60)+Math.abs(p)%60,4),S:["th","st","nd","rd"][o%10>3?0:(o%100-o%10!=10)*o%10]},_=r.replace(e.DATE_FORMAT_TOKENS,(function(e){return e in m?m[e]:e.slice(1,e.length-1)}));return this._applyEra(_,l)}},{key:"has_negative_year_modifier",value:function(){return Boolean(this.era_labels.negative_year.prefix||this.era_labels.negative_year.suffix)}},{key:"_applyEra",value:function(e,t){var i=t<0?this.era_labels.negative_year:this.era_labels.positive_year,n="";return i.prefix&&(n+="<span>"+i.prefix+"</span> "),n+=e,i.suffix&&(n+=" <span>"+i.suffix+"</span>"),n}}])}();function Le(e,t){if(t.match(/%(\.(\d+))?f/)){var i=t.match(/%(\.(\d+))?f/),n=i[0];return i[2]&&(e=e.toFixed(i[2])),t.replace(n,e)}return t}Me.fallback={messages:{}},Me.DATE_FORMAT_TOKENS=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;var Pe={en:{name:"English",lang:"en",api:{wikipedia:"en"},messages:{loading:"Loading",wikipedia:"From Wikipedia, the free encyclopedia",error:"Error",contract_timeline:"Contract Timeline",return_to_title:"Return to Title",loading_content:"Loading Content",expand_timeline:"Expand Timeline",loading_timeline:"Loading Timeline... ",swipe_to_navigate:"Swipe to Navigate<br><span class='tl-button'>OK</span>",unknown_read_err:"An unexpected error occurred trying to read your spreadsheet data",invalid_url_err:"Unable to read Timeline data. Make sure your URL is for a Google Spreadsheet or a Timeline JSON file.",invalid_url_share_required:"Because of unexpected changes to Google's data access API, the creator of this timeline must enable 'anyone with the url can read' access for this spreadsheet. See timeline.knightlab.com for more information.",network_err:"Unable to read your Google Spreadsheet. Make sure you have published it to the web.",empty_feed_err:"No data entries found",missing_start_date_err:"Missing start_date",invalid_data_format_err:"Header row has been modified.",invalid_start_time_without_date:"Invalid configuration: time cannot be used without date.",invalid_end_time_without_date:"Invalid configuration: end time cannot be used without end date.",date_compare_err:"Can't compare timeline date objects on different scales",invalid_scale_err:"Invalid scale",invalid_date_err:"Invalid date: month, day and year must be numbers.",invalid_separator_error:"Invalid time: misuse of : or . as separator.",invalid_hour_err:"Invalid time (hour)",invalid_minute_err:"Invalid time (minute)",invalid_second_err:"Invalid time (second)",invalid_fractional_err:"Invalid time (fractional seconds)",invalid_second_fractional_err:"Invalid time (seconds and fractional seconds)",invalid_year_err:"Invalid year",flickr_notfound_err:"Photo not found or private",flickr_invalidurl_err:"Invalid Flickr URL",imgur_invalidurl_err:"Invalid Imgur URL",twitter_invalidurl_err:"Invalid Twitter URL",twitter_load_err:"Unable to load Tweet",twitterembed_invalidurl_err:"Invalid Twitter Embed url",wikipedia_load_err:"Unable to load Wikipedia entry",youtube_invalidurl_err:"Invalid YouTube URL",spotify_invalid_url:"Invalid Spotify URL",template_value_err:"No value provided for variable",invalid_rgb_err:"Invalid RGB argument",time_scale_scale_err:"Don't know how to get date from time for scale",axis_helper_no_options_err:"Axis helper must be configured with options",axis_helper_scale_err:"No AxisHelper available for scale",invalid_integer_option:"Invalid option value—must be a whole number.",instagram_bad_request:"Invalid or private Instagram URL"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},era_labels:{positive_year:{prefix:"",suffix:""},negative_year:{prefix:"",suffix:"BCE"}},period_labels:{t:["a","p"],tt:["am","pm"],T:["A","P"],TT:["AM","PM"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time:"h:MM:ss TT' <small>'mmmm d',' yyyy'</small>'",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_minutes_short:"h TT",time_no_seconds_small_date:"h:MM TT' <small>'mmmm d',' yyyy'</small>'",time_milliseconds:"l",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT' <small>mmm d',' yyyy'</small>'"},bigdateformats:{fallback:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]],compact:[[1e9,"%.2f bya"],[1e6,"%.1f mya"],[1e3,"%.1f kya"],[1,"%f years ago"]],verbose:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]]}}},Ee=new Me;Me.fallback=Ee;var Re=function(){function e(){Object(vi["a"])(this,e)}return Object(gi["a"])(e,[{key:"setLanguage",value:function(e){this.language=e}},{key:"getLanguage",value:function(){if(this.language){if("object"==Object(wi["a"])(this.language))return this.language;R("I18NMixins.getLanguage: this.language should be object, but is ".concat(Object(wi["a"])(this.language)))}return Ee}},{key:"_",value:function(e){return this.getLanguage()._(e)}}])}(),De=function(){function e(t,i,n){Object(vi["a"])(this,e),n&&this.setLanguage(n),this._el={parent:{},container:{},message_container:{},loading_icon:{},message:{}},this.options={width:600,height:600,message_class:"tl-message",message_icon_class:"tl-loading-icon"},this.container=t,L(this.options,i),this._el.container=x("div",this.options.message_class),t&&(t.appendChild(this._el.container),this._el.parent=t),this.animator={},this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"updateMessage",value:function(e){this._el.message.innerHTML=e||this._("loading"),!this._el.parent.atributes&&this.container.attributes&&(this.container.appendChild(this._el.container),this._el.parent=this.container)}},{key:"updateDisplay",value:function(e,t){}},{key:"_onMouseClick",value:function(){this.fire("clicked",this.options)}},{key:"_onRemove",value:function(){this._el.parent={}}},{key:"_initLayout",value:function(){this._el.message_container=x("div","tl-message-container",this._el.container),this._el.loading_icon=x("div",this.options.message_icon_class,this._el.message_container),this._el.message=x("div","tl-message-content",this._el.message_container),this.updateMessage()}},{key:"_initEvents",value:function(){pe.addListener(this._el.container,"click",this._onMouseClick,this),pe.addListener(this,"removed",this._onRemove,this)}}])}();function Ie(e,t){t=t||"start_date",e.sort((function(e,i){return e[t].isBefore(i[t])?-1:e[t].isAfter(i[t])?1:0}))}function Ne(e){var t={hour:null,minute:null,second:null,millisecond:null},i=null,n=e.match(/(\s*[AaPp]\.?[Mm]\.?\s*)$/);n&&(i=B(n[0]),e=B(e.substring(0,e.lastIndexOf(i))));var a=[],r=e.match(/^\s*(\d{1,2})(\d{2})\s*$/);if(r?a=r.slice(1):1==(a=e.split(":")).length&&(a=e.split(".")),a.length>4)throw new C("invalid_separator_error");var o=a[0];if(t.hour=parseInt(o),i&&"p"==i.toLowerCase()[0]&&12!=t.hour?t.hour+=12:i&&"a"==i.toLowerCase()[0]&&12==t.hour&&(t.hour=0),isNaN(t.hour)||t.hour<0||t.hour>23)throw new C("invalid_hour_err",o);if(a.length>1){var s=a[1];if(t.minute=parseInt(s),isNaN(t.minute))throw new C("invalid_minute_err",s)}if(a.length>2){var c=a[2].split(/[\.,]/);if((a=c.concat(a.slice(3))).length>2)throw new C("invalid_second_fractional_err");if(t.second=parseInt(a[0]),isNaN(t.second))throw new C("invalid_second_err",a[0]);if(2==a.length){var l=parseInt(a[1]);if(isNaN(l))throw new C("invalid_fractional_err",a[1]);t.millisecond=100*l}}return t}F(De,Re,ce,he);var qe=new RegExp("(^-?\\d+$|^$)");function Be(e){try{return Object.keys(e).forEach((function(t){var i=e[t];if(i&&i.match&&!i.match(qe))throw"invalid value ".concat(i," for ").concat(t)})),!0}catch(e){return!1}}var Fe={human:je,cosmological:Ae},We=i(0),ze=i.n(We),He={text:["headline","text"],media:["caption","credit"]},Ue={start_date:["display_date"],end_date:["display_date"],slide:["display_date","group"],date:["display_date"]};function Ge(e,t,i){Object.keys(i).forEach((function(n){var a="slide"==n?e:e[n];a&&i[n].forEach((function(e){void 0!==a[e]&&(a[e]=t(a[e]))}))}))}function Ve(e){return ze.a.sanitize(e,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder"]})}var $e=function(){function e(t){var i=this;if(Object(vi["a"])(this,e),this.title="",this.scale="",this.events=[],this.eras=[],this.event_dict={},this.messages={errors:[],warnings:[]},"object"==Object(wi["a"])(t)&&t.events){if(this.scale=t.scale,this.events=[],this._ensureValidScale(t.events),t.title){var n=this._assignID(t.title);this._tidyFields(t.title),this.title=t.title,this.event_dict[n]=this.title}for(var a=0;a<t.events.length;a++)try{this.addEvent(t.events[a],!0)}catch(t){this.logError(t)}t.eras&&t.eras.forEach((function(e,t){try{i.addEra(e)}catch(e){i.logError("Era "+t+": "+e)}})),Ie(this.events),Ie(this.eras)}}return Object(gi["a"])(e,[{key:"logError",value:function(e){R("logError: ".concat(e)),this.messages.errors.push(e)}},{key:"getErrors",value:function(e){return e?this.messages.errors.join(e):this.messages.errors}},{key:"validate",value:function(){void 0!==this.events&&void 0!==this.events.length&&0!=this.events.length||this.logError("Timeline configuration has no events.");for(var e=0;e<this.eras.length;e++){var t;void 0!==this.eras[e].start_date&&void 0!==this.eras[e].end_date||(t=this.eras[e].headline?this.eras[e].headline:"era "+(e+1),this.logError("All eras must have start and end dates. ["+t+"]"))}}},{key:"isValid",value:function(){return 0==this.messages.errors.length}},{key:"addEvent",value:function(e,t){var i=this._assignID(e);return void 0===e.start_date?(R("Missing start date, skipping event"),console.log(e),null):(this._processDates(e),this._tidyFields(e),this.events.push(e),this.event_dict[i]=e,t||Ie(this.events),i)}},{key:"addEra",value:function(e){var t=this._assignID(e);if(void 0===e.start_date)throw new C("missing_start_date_err",t);this._processDates(e),this._tidyFields(e),this.eras.push({start_date:e.start_date,end_date:e.end_date,headline:e.text.headline})}},{key:"_assignID",value:function(e){var t=e.unique_id;return B(t)||(t=e.text?W(e.text.headline):null),e.unique_id=function(e,t){if(t||(t=z(6)),!(t in e))return t;var i=t.match(/^(.+)(-\d+)?$/)[1],n=[];for(var a in e)a.match(/^(.+?)(-\d+)?$/)[1]==i&&n.push(a);t=i+"-"+(n.length+1);for(var r=n.length;-1!=n.indexOf(t);r++)t=i+"-"+r;return t}(this.event_dict,t),e.unique_id}},{key:"_makeUniqueIdentifiers",value:function(e,t){for(var i=[e],n=0;n<t.length;n++)B(t[n].unique_id)&&(t[n].unique_id=W(t[n].unique_id),-1==i.indexOf(t[n].unique_id)?i.push(t[n].unique_id):t[n].unique_id="");if(i.length!=t.length+1)for(n=0;n<t.length;n++)if(!t[n].unique_id){var a=t[n].text?W(t[n].text.headline):null;a||(a=z(6)),-1!=i.indexOf(a)&&(a=a+"-"+n),i.push(a),t[n].unique_id=a}}},{key:"_ensureValidScale",value:function(e){if(!this.scale){this.scale="human";for(var t=0;t<e.length;t++){if("cosmological"==e[t].scale){this.scale="cosmological";break}if(e[t].start_date&&void 0!==e[t].start_date.year){var i=new Ae(e[t].start_date).data.date_obj.year;if(i<-271820||i>275759){this.scale="cosmological";break}}}R("Determining scale dynamically: ".concat(this.scale))}Fe[this.scale]||this.logError("Don't know how to process dates on scale "+this.scale)}},{key:"_processDates",value:function(e){var t=Fe[this.scale];if(!(e.start_date instanceof t)){var i=e.start_date;if(e.start_date=new t(i),void 0!==e.end_date&&!(e.end_date instanceof t)){var n=e.end_date,a=!0;for(var r in i)a=a&&i[r]==n[r];a?(R("End date same as start date is redundant; dropping end date"),delete e.end_date):e.end_date=new t(n)}}}},{key:"getEarliestDate",value:function(){var e=this.events[0].start_date;return this.eras&&this.eras.length>0&&this.eras[0].start_date.isBefore(e)?this.eras[0].start_date:e}},{key:"getLatestDate",value:function(){for(var e=[],t=0;t<this.events.length;t++)this.events[t].end_date?e.push({date:this.events[t].end_date}):e.push({date:this.events[t].start_date});for(t=0;t<this.eras.length;t++)this.eras[t].end_date?e.push({date:this.eras[t].end_date}):e.push({date:this.eras[t].start_date});return Ie(e,"date"),e.slice(-1)[0].date}},{key:"_tidyFields",value:function(e){function t(e,t,i){i||(i=""),e.hasOwnProperty(t)||(e[t]=i)}e.group&&(e.group=B(e.group)),e.text||(e.text={}),t(e.text,"text"),t(e.text,"headline"),Ge(e,Ve,He),Ge(e,te,Ue)}}])}();function Je(e){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(u["a"])(Object(l["a"])().mark((function e(t){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){if(t.data){var n=Ke(Ze(t.data,t),t);n.useMemoryStore=!0,e(n)}else t.url&&window.fetch(t.url,{mode:"cors"}).then((function(e){if(200==e.status)return e.text?e.text():e;"application/json"==e.headers.get("content-type")?e.text().then((function(e){i(JSON.parse(e))})):i({status_code:e.status,message:"Error fetching CSV: [".concat(e.status," ").concat(e.statusText,"]")})})).then((function(i){if(i){var n=function(e,t){var i=Ke(Ze(e,t)),n=[];return i.records.forEach((function(e){var t={};i.fields.forEach((function(i,n){return t[i]=e[n]})),n.push(t)})),n}(i,t);n.useMemoryStore=!0,e(n)}})).catch((function(e){i({status_code:500,message:"Error fetching CSV: ".concat(e)})}))})));case 1:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Ke(e,t){return!0!==(t=t||{}).noHeaderRow&&e.length>0?{fields:e[0].map((function(e,t){return e&&e.trim?e.trim():"untitled".concat(t)})),records:e.slice(1)}:{records:e}}function Ze(e,t){(!t||t&&!t.lineterminator)&&(e=function(e,t){return t&&!t.lineterminator?e.replace(/(\r\n|\n|\r)/gm,"\n"):e}(e,t));var i=function(e){var t={delimiter:",",doublequote:!0,lineterminator:"\n",quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var i in e)"trim"===i?t.skipinitialspace=e.trim:t[i.toLowerCase()]=e[i];return t}(t);e=function(e,t){return null==e?"":(t=t||"\n",e.charAt(e.length-t.length)!==t?e:e.substring(0,e.length-t.length))}(e,i.lineterminator);var n,a,r="",o=!1,s=!1,c="",l=[],u=[];for(a=function(e){return!0!==s&&(""===e?e=null:!0===i.skipinitialspace&&(e=e.trim())),e},n=0;n<e.length;n+=1)r=e.charAt(n),!1!==o||r!==i.delimiter&&r!==i.lineterminator?r!==i.quotechar?c+=r:o?e.charAt(n+1)===i.quotechar?(c+=i.quotechar,n+=1):o=!1:(o=!0,s=!0):(c=a(c),l.push(c),r===i.lineterminator&&(u.push(l),l=[]),c="",s=!1);return c=a(c),l.push(c),u.push(l),i.skipinitialrows&&(u=u.slice(i.skipinitialrows)),u}function Qe(e){if(e)return e.replace(/[\s,]+/g,"")}function Xe(e){var t={key:null,worksheet:0},i=/\bkey=([-_A-Za-z0-9]+)&?/i,n=/docs.google.com\/spreadsheets(.*?)\/d\//;if(e.match(i))t.key=e.match(i)[1];else if(e.match(n)){var a=e.search(n)+e.match(n)[0].length,r=e.substr(a);t.key=r.split("/")[0],e.match(/\?gid=(\d+)/)&&(t.worksheet=e.match(/\?gid=(\d+)/)[1])}else e.match(/^\b[-_A-Za-z0-9]+$/)&&(t.key=e);return t.key?t:null}function et(e,t){return tt.apply(this,arguments)}function tt(){return tt=Object(u["a"])(Object(l["a"])().mark((function e(t,i){var n,a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],t=function(e){if((e=e.trim()).match(/^[a-zA-Z0-9-_]+$/))return"https://docs.google.com/spreadsheets/d/".concat(e,"/pub?output=csv");if(e.startsWith("https://docs.google.com/spreadsheets/")){if(e.match(/\/pub\?output=csv$/))return e;var t=new URL(e),i=new URLSearchParams(t.search);i.set("output","csv"),i.get("gid")&&i.set("single","true"),t.search="?".concat(i.toString());var n=t.pathname.substr(0,t.pathname.lastIndexOf("/"));return t.pathname="".concat(n,"/pub"),t.toString()}throw new C("invalid_url_err",e)}(t),e.next=4,Je({url:"".concat(i).concat(t)}).then((function(e){n=e})).catch((function(e){if("response_not_csv"==e.proxy_err_code)throw new C('Timeline could not read the data for your timeline. Make sure you have published AND shared your timeline. See <a href="https://timeline.knightlab.com">timeline.knightlab.com</a> for more information.');throw new C(e.message)}));case 4:return a={events:[],errors:[],warnings:[],eras:[]},e.abrupt("return",(n.forEach((function(e,t){try{(function(e){var t=[];if(Object.keys)t=Object.keys(e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);for(var n=0;n<t.length;n++){var a=t[n];if(null!=e[a]&&"string"!=typeof e[a])return!1;if(0!=B(e[a]).length)return!1}return!0})(e)||ot(function(e){var t={};Object.keys(e).forEach((function(i){t[i]=B(e[i])}));var i,n={media:{caption:t["Media Caption"]||"",credit:t["Media Credit"]||"",url:t.Media||"",thumbnail:t["Media Thumbnail"]||""},text:{headline:t.Headline||"",text:t.Text||""},display_date:t["Display Date"]||"",group:t.Group||t.Tag||"",background:(i=t.Background,"string"!=typeof i?"":i.match(/^(https?:)?\/\/?/)?{url:i}:{color:i}),type:t.Type||""};if(Object.keys(t).includes("Start Date")||Object.keys(t).includes("End Date"))t["Start Date"]&&(n.start_date=Se(t["Start Date"])),t["End Date"]&&(n.end_date=Se(t["End Date"]));else{if(t.Year&&(n.start_date={year:Qe(t.Year),month:Qe(t.Month)||"",day:Qe(t.Day)||""}),t["End Year"]&&(n.end_date={year:Qe(t["End Year"])||"",month:Qe(t["End Month"])||"",day:Qe(t["End Day"])||""}),t.Time){if(!n.start_date)throw new C("invalid_start_time_without_date");L(n.start_date,Ne(t.Time))}if(t["End Time"]){if(!n.end_date)throw new C("invalid_end_time_without_date");L(n.end_date,Ne(t["End Time"]))}if(n.start_date&&!Be(n.start_date))throw new C("invalid_date_err");if(n.end_date&&!Be(n.end_date))throw new C("invalid_date_err")}return n}(e),a)}catch(n){if(n.constructor==C)a.errors.push(n);else{n.message&&(n=n.message);var i=e.Headline||t;a.errors.push(n+"[".concat(i,"]"))}}})),a));case 6:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}function it(e,t){return nt.apply(this,arguments)}function nt(){return nt=Object(u["a"])(Object(l["a"])().mark((function e(t,i){var n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.sheets_proxy){e.next=2;break}throw new C("Proxy option must be set to read data from Google");case 2:return e.next=4,et(t,i.sheets_proxy);case 4:return n=e.sent,e.abrupt("return",n||function(e){var t=function(e,t){return"v4"==t?"https://sheets.googleapis.com/v4/spreadsheets/"+e+"/values/A1:R1000?key=AIzaSyCInR0kjJJ2Co6aQAXjLBQ14CEHam3K0xg":"https://spreadsheets.google.com/feeds/list/"+e+"/1/public/values?alt=json"}(spreadsheet_key,"v4");R("trying v4 - "+e);var i=ge({url:t,async:!1});if(403==i.status)throw new C("invalid_url_share_required");if(200!=i.status)throw R(n="Error fetching data "+api_version+": "+i.status+" - "+i.statusText),new C("google_error",n);var n,a=JSON.parse(i.responseText);if(a.error)throw R(n="Error fetching data "+api_version+": "+i.status+" - "+i.statusText),R(a.error),new C("google_error",n);return rt(a)}(t));case 6:case"end":return e.stop()}}),e)}))),nt.apply(this,arguments)}function at(e,t){function i(e){if(e)return e.replace(/[\s,]+/g,"")}for(var n={},a=1;a<t.length;a++)e.length>=a&&(n[e[a].toLowerCase().replace(" ","")]=t[a]);var r={media:{caption:n.mediacaption||"",credit:n.mediacredit||"",url:n.media||"",thumbnail:n.mediathumbnail||""},text:{headline:n.headline||"",text:n.text||""},start_date:{year:i(t[0]),month:i(t[1])||"",day:i(t[2])||""},end_date:{year:i(n.endyear)||"",month:i(n.endmonth)||"",day:i(n.endday)||""},display_date:n.displaydate||"",type:n.type||""};if(n.time&&L(r.start_date,Ne(t[3])),n.endtime&&L(r.end_date,Ne(n.endtime)),n.group&&(r.group=n.group),""==r.end_date.year){var o=r.end_date;delete r.end_date,""==o.month&&""==o.day&&""==o.time||R("Invalid end date for spreadsheet row. Must have a year if any other date fields are specified.")}return n.background&&(n.background.match(/^(https?:)?\/\/?/)?r.background={url:n.background}:r.background={color:n.background}),r}var rt=function(e){for(var t={events:[],errors:[],warnings:[],eras:[]},i=1;i<e.values.length;i++){var n=at(e.values[0],e.values[i]);n&&ot(n,t)}return t};function ot(e,t){var i="event";void 0!==e.type&&(i=e.type,delete e.type),"title"==i?t.title?(t.warnings.push("Multiple title slides detected."),t.events.push(e)):t.title=e:"era"==i?t.eras.push(e):t.events.push(e)}var st=function(){function e(t){if(Object(vi["a"])(this,e),!t)throw new C("axis_helper_no_options_err");this.scale=t.scale,this.minor=t.minor,this.major=t.major}return Object(gi["a"])(e,[{key:"getPixelsPerTick",value:function(e){return e*this.minor.factor}},{key:"getMajorTicks",value:function(e){return this._getTicks(e,this.major)}},{key:"getMinorTicks",value:function(e){return this._getTicks(e,this.minor)}},{key:"_getTicks",value:function(e,t){for(var i=e._scaled_padding*t.factor,n=e._earliest-i,a=e._latest+i,r=[],o=n;o<a;o+=t.factor)r.push(e.getDateFromTime(o).floor(t.name));return{name:t.name,ticks:r}}}])}(),ct={},lt=function(e,t){ct[e]=[];for(var i=0;i<t.length-1;i++){var n=t[i],a=t[i+1];ct[e].push(new st({scale:n[3],minor:{name:n[0],factor:n[1]},major:{name:a[0],factor:a[1]}}))}};lt("human",ye),lt("cosmological",Ce);var ut=function(){function e(t,i){Object(vi["a"])(this,e);var n=t.events;this._scale=t.scale,i=L({display_width:500,screen_multiplier:3,max_rows:null},i),this._display_width=i.display_width,this._screen_multiplier=i.screen_multiplier,this._pixel_width=this._screen_multiplier*this._display_width,this._group_labels=void 0,this._positions=[],this._pixels_per_milli=0,this._earliest=t.getEarliestDate().getTime(),this._latest=t.getLatestDate().getTime(),this._span_in_millis=this._latest-this._earliest,this._span_in_millis<=0&&(this._span_in_millis=this._computeDefaultSpan(t)),this._average=this._span_in_millis/n.length,this._pixels_per_milli=this.getPixelWidth()/this._span_in_millis,this._axis_helper=function(e,t){"number"!=typeof t&&(t=100);var i=e.getScale(),n=ct[i];if(!n)throw new C("axis_helper_scale_err",i);for(var a=null,r=0;r<n.length;r++){var o=n[r],s=o.getPixelsPerTick(e._pixels_per_milli);if(s>t)return null==a||Math.abs(t-s)<Math.abs(t-s)?o:a;a=o}return n[n.length-1]}(this),this._scaled_padding=1/this.getPixelsPerTick()*(this._display_width/2),this._computePositionInfo(n,i.max_rows)}return Object(gi["a"])(e,[{key:"_computeDefaultSpan",value:function(e){if("human"==e.scale){for(var t={},i=0;i<e.events.length;i++){var n=e.events[i].start_date.findBestFormat();t[n]=t[n]?t[n]+1:1}for(i=ye.length-1;i>=0;i--)if(t.hasOwnProperty(ye[i][0])){var a=ye[ye.length-1];return ye[i+1]&&(a=ye[i+1]),a[1]}return 31536e6}return 2e5}},{key:"getGroupLabels",value:function(){return this._group_labels||[]}},{key:"getScale",value:function(){return this._scale}},{key:"getNumberOfRows",value:function(){return this._number_of_rows}},{key:"getPixelWidth",value:function(){return this._pixel_width}},{key:"getPosition",value:function(e){return(e-this._earliest)*this._pixels_per_milli}},{key:"getPositionInfo",value:function(e){return this._positions[e]}},{key:"getPixelsPerTick",value:function(){return this._axis_helper.getPixelsPerTick(this._pixels_per_milli)}},{key:"getTicks",value:function(){return{major:this._axis_helper.getMajorTicks(this),minor:this._axis_helper.getMinorTicks(this)}}},{key:"getDateFromTime",value:function(e){if("human"==this._scale)return new je(e);if("cosmological"==this._scale)return new Ae(new Te(e));throw new C("time_scale_scale_err",this._scale)}},{key:"getMajorScale",value:function(){return this._axis_helper.major.name}},{key:"getMinorScale",value:function(){return this._axis_helper.minor.name}},{key:"_assessGroups",value:function(e){for(var t=[],i=!1,n=0;n<e.length;n++)e[n].group&&(t.indexOf(e[n].group)<0?t.push(e[n].group):i=!0);return t.length&&i&&t.push(""),t}},{key:"_computeRowInfo",value:function(e,t){for(var i=[],n=0,a=0;a<e.length;a++){var r=e[a],o=[];delete r.row;for(var s=0;s<i.length;s++)if(o.push(i[s].end-r.start),o[s]<=0){r.row=s,i[s]=r;break}if(void 0===r.row)if(null===t)r.row=i.length,i.push(r);else if(t>0)r.row=i.length,i.push(r),t--;else{var c=Math.min.apply(null,o),l=o.indexOf(c);r.row=l,r.end>i[l].end&&(i[l]=r),n++}}return{n_rows:i.length,n_overlaps:n}}},{key:"_computePositionInfo",value:function(e,t,i){i=i||100;for(var n=[],a=!1,r=0;r<e.length;r++){var o={start:this.getPosition(e[r].start_date.getTime())};if(this._positions.push(o),void 0!==e[r].end_date){var s=this.getPosition(e[r].end_date.getTime());o.width=s-o.start,o.width>i?o.end=o.start+o.width:o.end=o.start+i}else o.width=i,o.end=o.start+i;e[r].group?n.indexOf(e[r].group)<0&&n.push(e[r].group):a=!0}if(n.length){a&&n.push("");var c=[];for(r=0;r<n.length;r++)c[r]={label:n[r],idx:r,positions:[],n_rows:1,n_overlaps:0};for(r=0;r<this._positions.length;r++){(o=this._positions[r]).group=n.indexOf(e[r].group||""),o.row=0;for(var l=(d=c[o.group]).positions.length-1;l>=0;l--)d.positions[l].end>o.start&&d.n_overlaps++;d.positions.push(o)}for(var u=n.length;;){var h=Math.max(0,t-u);if(!h)break;if(c.sort((function(e,t){return e.n_overlaps>t.n_overlaps?-1:e.n_overlaps<t.n_overlaps?1:e.idx-t.idx})),!c[0].n_overlaps)break;for(u=0,r=0;r<c.length;r++){var d;if((d=c[r]).n_overlaps&&h){var f=this._computeRowInfo(d.positions,d.n_rows+1);d.n_rows=f.n_rows,d.n_overlaps=f.n_overlaps,h--}u+=d.n_rows}}this._number_of_rows=u,this._group_labels=[],c.sort((function(e,t){return e.idx-t.idx})),r=0;for(var p=0;r<c.length;r++){for(this._group_labels.push({label:c[r].label,rows:c[r].n_rows}),l=0;l<c[r].positions.length;l++)(o=c[r].positions[l]).row+=p;p+=c[r].n_rows}}else{var m=this._computeRowInfo(this._positions,t);this._number_of_rows=m.n_rows}}}])}(),ht=function(){function e(t){Object(vi["a"])(this,e),this._el={parent:{},container:{},message:{}},this.options={width:600,height:600},this.data={label:"",rows:1},this._el.container=x("div","tl-timegroup"),L(this.data,t),this.animator={},this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"updateDisplay",value:function(e,t){}},{key:"setRowPosition",value:function(e,t){this.options.height=t*this.data.rows,this.setPosition({top:e}),this._el.container.style.height=this.options.height+"px"}},{key:"setAlternateRowColor",value:function(e,t){var i="tl-timegroup";e&&(i+=" tl-timegroup-alternate"),t&&(i+=" tl-timegroup-hidden"),this._el.container.className=i}},{key:"_onMouseClick",value:function(){this.fire("clicked",this.options)}},{key:"_initLayout",value:function(){this._el.message=x("div","tl-timegroup-message",this._el.container),this._el.message.innerHTML=this.data.label}},{key:"_initEvents",value:function(){pe.addListener(this._el.container,"click",this._onMouseClick,this)}},{key:"_updateDisplay",value:function(e,t,i){}}])}();F(ht,ce,he),i(2);var dt=function(){function e(t,i,n,a){Object(vi["a"])(this,e),this.start_date=t,this.end_date=i,this.headline=n,this._el={container:{},background:{},content_container:{},content:{},text:{}},this._text={},this._state={loaded:!1},this.options={duration:1e3,ease:ae,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,L(this.options,a),this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"setActive",value:function(e){}},{key:"addTo",value:function(e){e.appendChild(this._el.container)}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container)}},{key:"updateDisplay",value:function(e,t){this._updateDisplay(e,t)}},{key:"getLeft",value:function(){return this._el.container.style.left.slice(0,-2)}},{key:"getTime",value:function(){return this.start_date.getTime()}},{key:"getEndTime",value:function(){return!!this.end_date&&this.end_date.getTime()}},{key:"setHeight",value:function(e){var t=1;this._el.content_container.style.height=e+"px",this._el.content.className="tl-timeera-content",c?((t=Math.floor(e/14))<1&&(t=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=t):(t=e/12,this._text.className=t>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*t+"px")}},{key:"setWidth",value:function(e){this.end_date&&(this._el.container.style.width=e+"px",e>this.options.marker_width_min?(this._el.content_container.style.width=e+"px",this._el.content_container.className="tl-timeera-content-container tl-timeera-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timeera-content-container"))}},{key:"setClass",value:function(e){this._el.container.className=e}},{key:"setRowPosition",value:function(e,t){this.setPosition({top:e}),t<56&&O(this._el.content_container,"tl-timeera-content-container-small")}},{key:"setColor",value:function(e){this._el.container.className="tl-timeera tl-timeera-color"+e}},{key:"_initLayout",value:function(){this._el.container=x("div","tl-timeera"),this.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timeera tl-timeera-with-end"),this._el.content_container=x("div","tl-timeera-content-container",this._el.container),this._el.background=x("div","tl-timeera-background",this._el.content_container),this._el.content=x("div","tl-timeera-content",this._el.content_container),this._el.text=x("div","tl-timeera-text",this._el.content),this._text=x("h2","tl-headline",this._el.text),this.headline&&""!=this.headline&&(this._text.innerHTML=G(this.headline)),this.onLoaded()}},{key:"_initEvents",value:function(){}},{key:"_updateDisplay",value:function(e,t,i){e&&(this.options.width=e),t&&(this.options.height=t)}}])}();F(dt,ce,he);var ft=function(){function e(t,i,n){Object(vi["a"])(this,e),n&&this.setLanguage(n),this._el={container:{},content_container:{},major:{},minor:{}},this._text={},this._state={loaded:!1},this.data={},this.options={duration:1e3,ease:ae,width:600,height:600},this.active=!1,this.animator={},this.axis_helper={},this.minor_ticks=[],this.major_ticks=[],this.dateformat_lookup={millisecond:"time_milliseconds",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"compact",epoch:"compact",era:"compact",eon:"compact",eon2:"compact"},this._el.container="object"==Object(wi["a"])(t)?t:w(t),L(this.options,i),this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"addTo",value:function(e){e.appendChild(this._el.container)}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container)}},{key:"updateDisplay",value:function(e,t){this._updateDisplay(e,t)}},{key:"getLeft",value:function(){return this._el.container.style.left.slice(0,-2)}},{key:"drawTicks",value:function(e,t){var i=e.getTicks();this._el.minor,this.dateformat_lookup[i.minor.name],i.minor.ticks,this.minor_ticks,this._el.major,this.dateformat_lookup[i.major.name],i.major.ticks,this.major_ticks,this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor",this._el.major.style.opacity=0,this._el.minor.style.opacity=0,this.major_ticks=this._createTickElements(i.major.ticks,this._el.major,this.dateformat_lookup[i.major.name]),this.minor_ticks=this._createTickElements(i.minor.ticks,this._el.minor,this.dateformat_lookup[i.minor.name],i.major.ticks),this.positionTicks(e,t,!0),this._el.major.className="tl-timeaxis-major tl-animate-opacity tl-timeaxis-animate-opacity",this._el.minor.className="tl-timeaxis-minor tl-animate-opacity tl-timeaxis-animate-opacity",this._el.major.style.opacity=1,this._el.minor.style.opacity=1}},{key:"_createTickElements",value:function(e,t,i,n){t.innerHTML="";var a={};if(a[new Date(-1,13,-30).getTime()]=!0,n)for(var r=0;r<n.length;r++)a[n[r].getTime()]=!0;var o=[];for(r=0;r<e.length;r++){var s=e[r];if(!(s.getTime()in a)){var c=x("div","tl-timeaxis-tick",t),l=x("span","tl-timeaxis-tick-text tl-animate-opacity",c);l.innerHTML=s.getDisplayDate(this.getLanguage(),i),o.push({tick:c,tick_text:l,display_date:s.getDisplayDate(this.getLanguage(),i),date:s})}}return o}},{key:"positionTicks",value:function(e,t,i){i?(this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor"):(this._el.major.className="tl-timeaxis-major tl-timeaxis-animate",this._el.minor.className="tl-timeaxis-minor tl-timeaxis-animate"),this._positionTickArray(this.major_ticks,e,t),this._positionTickArray(this.minor_ticks,e,t)}},{key:"_positionTickArray",value:function(e,t,i){if(e[1]&&e[0]){var n=1;t.getPosition(e[1].date.getMillisecond())-t.getPosition(e[0].date.getMillisecond())<i&&(n=Math.round(i/t.getPixelsPerTick()));for(var a=1,r=0;r<e.length;r++){var o=e[r];o.tick.style.left=t.getPosition(o.date.getMillisecond())+"px",o.tick_text.innerHTML=o.display_date,n>1?a>=n?(a=1,o.tick_text.style.opacity=1,o.tick.className="tl-timeaxis-tick"):(a++,o.tick_text.style.opacity=0,o.tick.className="tl-timeaxis-tick tl-timeaxis-tick-hidden"):(o.tick_text.style.opacity=1,o.tick.className="tl-timeaxis-tick")}}}},{key:"_initLayout",value:function(){this._el.content_container=x("div","tl-timeaxis-content-container",this._el.container),this._el.major=x("div","tl-timeaxis-major",this._el.content_container),this._el.minor=x("div","tl-timeaxis-minor",this._el.content_container),this.onLoaded()}},{key:"_initEvents",value:function(){}},{key:"_updateDisplay",value:function(e,t,i){e&&(this.options.width=e),t&&(this.options.height=t)}}])}();F(ft,ce,he,Re);var pt=function(){function e(t,i,n){Object(vi["a"])(this,e),this._el={container:{},content_container:{},content:{},headline:{},date:{}},this.options={title:!1},this.data={unique_id:"",headline:"headline",text:"text"},function(e,t){e.data=P({},e.data,t),""===e.data.unique_id&&(e.data.unique_id=z(6))}(this,t),L(this.options,i),this._el.container=x("div","tl-text"),this._el.container.id=this.data.unique_id,this._initLayout(),n&&n.appendChild(this._el.container)}return Object(gi["a"])(e,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"addTo",value:function(e){e.appendChild(this._el.container)}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container)}},{key:"headlineHeight",value:function(){return this._el.headline.offsetHeight+40}},{key:"addDateText",value:function(e){this._el.date.innerHTML=e}},{key:"onLoaded",value:function(){this.fire("loaded",this.data)}},{key:"onAdd",value:function(){this.fire("added",this.data)}},{key:"onRemove",value:function(){this.fire("removed",this.data)}},{key:"_initLayout",value:function(){if(this._el.content_container=x("div","tl-text-content-container",this._el.container),this._el.date=x("h3","tl-headline-date",this._el.content_container),""!=this.data.headline){var e="tl-headline";this.options.title&&(e="tl-headline tl-headline-title"),this._el.headline=x("h2",e,this._el.content_container),this._el.headline.innerHTML=this.data.headline}if(""!=this.data.text){var t="";t+=(i=1==this.options.autolink?$(this.data.text):this.data.text).match(/<p>[\s\S]*?<\/p>/)?i:"<p>"+i+"</p>",this._el.content=x("div","tl-text-content",this._el.content_container),this._el.content.innerHTML=t}var i;this.onLoaded()}}])}();F(pt,ce);var mt=function(){function e(t,i,n){Object(vi["a"])(this,e),n&&this.setLanguage(n),this._el={container:{},content_container:{},content:{},content_item:{},content_link:{},caption:null,credit:null,parent:{},link:null},this.player=null,this.timer=null,this.load_timer=null,this.message=null,this.media_id=null,this._state={loaded:!1,show_meta:!1,media_loaded:!1},this.data={unique_id:null,url:null,credit:null,caption:null,credit_alternate:null,caption_alternate:null,link:null,link_target:null},this.options={api_key_flickr:"bd3a7c45ddd52f3101825d41563a6125",api_key_googlemaps:"AIzaSyB9dW8e_iRrATFa8g24qB6BDBGdkrLDZYI",api_key_embedly:"",credit_height:0,caption_height:0,background:0},this.animator={},L(this.options,i),L(this.data,t),this.options.background||(this._el.container=x("div","tl-media"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._initLayout())}return Object(gi["a"])(e,[{key:"loadMedia",value:function(){var e=this;if(!this._state.loaded)try{this.load_timer=setTimeout((function(){e.loadingMessage(),e._loadMedia(),e._updateDisplay()}),1200)}catch(e){trace("Error loading media for ",this._media),trace(e)}}},{key:"_updateMessage",value:function(e){this.message&&this.message.updateMessage(e)}},{key:"loadingMessage",value:function(){this._updateMessage(this._("loading")+" "+this.options.media_name)}},{key:"errorMessage",value:function(e){e=e?this._("error")+": "+e:this._("error"),this._updateMessage(e)}},{key:"updateMediaDisplay",value:function(e){this._state.loaded&&!this.options.background&&(this._el.content_item.style.maxHeight=d?this.options.height/2+"px":this.options.height-this.options.credit_height-this.options.caption_height-30+"px",this._el.container.style.maxWidth=this.options.width+"px",_&&(this._el.content_item.offsetWidth,this._el.content_item.offsetHeight),this._updateMediaDisplay(e),this._state.media_loaded&&(this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")))}},{key:"_loadMedia",value:function(){this.onLoaded()}},{key:"_updateMediaDisplay",value:function(e){_&&(this._el.content_item.style.maxWidth=this.options.width+"px",this._el.content_item.style.width="auto")}},{key:"_getMeta",value:function(){}},{key:"_getImageURL",value:function(e,t){return""}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"addTo",value:function(e){e.appendChild(this._el.container),this.onAdd()}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container),this.onRemove()}},{key:"getImageURL",value:function(e,t){return this._getImageURL(e,t)}},{key:"updateDisplay",value:function(e,t,i){this._updateDisplay(e,t,i)}},{key:"stopMedia",value:function(){this._stopMedia()}},{key:"loadErrorDisplay",value:function(e){try{this._el.content.removeChild(this._el.content_item)}catch(e){}this._el.content_item=x("div","tl-media-item tl-media-loaderror",this._el.content),this._el.content_item.innerHTML="<div class='tl-icon-"+this.options.media_type+"'></div><p>"+e+"</p>",this.onLoaded(!0)}},{key:"onLoaded",value:function(e){this._state.loaded=!0,this.fire("loaded",this.data),this.message&&this.message.hide(),e||this.options.background||this.showMeta(),this.updateDisplay()}},{key:"onMediaLoaded",value:function(e){this._state.media_loaded=!0,this.fire("media_loaded",this.data),this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")}},{key:"showMeta",value:function(e,t){this._state.show_meta=!0,this.data.credit&&""!=this.data.credit&&(this._el.credit=x("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=1==this.options.autolink?$(this.data.credit):this.data.credit,this.options.credit_height=this._el.credit.offsetHeight),this.data.caption&&""!=this.data.caption&&(this._el.caption=x("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=1==this.options.autolink?$(this.data.caption):this.data.caption,this.options.caption_height=this._el.caption.offsetHeight),this.data.caption&&this.data.credit||this.getMeta()}},{key:"getMeta",value:function(){this._getMeta()}},{key:"updateMeta",value:function(){!this.data.credit&&this.data.credit_alternate&&(this._el.credit=x("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.data.credit_alternate,this.options.credit_height=this._el.credit.offsetHeight),!this.data.caption&&this.data.caption_alternate&&(this._el.caption=x("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.data.caption_alternate,this.options.caption_height=this._el.caption.offsetHeight),this.updateDisplay()}},{key:"onAdd",value:function(){this.fire("added",this.data)}},{key:"onRemove",value:function(){this.fire("removed",this.data)}},{key:"_initLayout",value:function(){this.message=new De(this._el.container,this.options,this.getLanguage()),this._el.content_container=x("div","tl-media-content-container",this._el.container),this.data.link&&""!=this.data.link?(this._el.link=x("a","tl-media-link",this._el.content_container),this._el.link.href=this.data.link,this.data.link_target&&""!=this.data.link_target?this._el.link.target=this.data.link_target:this._el.link.target="_blank",this._el.content=x("div","tl-media-content",this._el.link)):this._el.content=x("div","tl-media-content",this._el.content_container)}},{key:"_updateDisplay",value:function(e,t,i){e&&(this.options.width=e),t&&(this.options.height=t),i&&(this.options.layout=i),this._el.credit&&(this.options.credit_height=this._el.credit.offsetHeight),this._el.caption&&(this.options.caption_height=this._el.caption.offsetHeight+5),this.updateMediaDisplay(this.options.layout)}},{key:"domCreate",value:function(){return x.apply(void 0,arguments)}},{key:"_stopMedia",value:function(){}}])}();F(mt,ce,Re);var _t=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}},{key:"createMedia",value:function(){var e=this,t="tl-media-item tl-media-image tl-media-shadow";(this.data.url.match(/.png(\?.*)?$/)||this.data.url.match(/.svg(\?.*)?$/))&&(t="tl-media-item tl-media-image"),this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("img",t,this._el.content_link)):this._el.content_item=this.domCreate("img",t,this._el.content),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=V(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=V(this.data.caption)),this._el.content_item.addEventListener("load",(function(t){e.onMediaLoaded()})),this._el.content_item.src=this.getImageURL()}},{key:"getImageURL",value:function(e,t){return J(this.data.url)}},{key:"_updateMediaDisplay",value:function(e){_&&(this._el.content_item.style.width="auto")}}])}(mt);function gt(e,t,i,n){yt.js(e,t,i,n)}function vt(e,t,i,n){yt.css(e,t,i,n)}var yt=new(function(){function e(t){Object(vi["a"])(this,e),this.doc=t,this.pending={},this.queue={css:[],js:[]},this.styleSheets=t.styleSheets,this.env=this.getEnv(),this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.pollCount=0}return Object(gi["a"])(e,[{key:"createNode",value:function(e,t){var i,n=this.doc.createElement(e);for(i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}},{key:"finish",value:function(e){var t,i,n=this.pending[e];n&&(t=n.callback,(i=n.urls).shift(),this.pollCount=0,i.length||(t&&t.call(n.context,n.obj),this.pending[e]=null,this.queue[e].length&&this.load(e)))}},{key:"getEnv",value:function(){var e=navigator.userAgent,t={async:!0===this.doc.createElement("script").async};return(t.webkit=/AppleWebKit\//.test(e))||(t.ie=/MSIE/.test(e))||(t.opera=/Opera/.test(e))||(t.gecko=/Gecko\//.test(e))||(t.unknown=!0),t}},{key:"load",value:function(e,t,i,n,a){var r,o,s,c,l,u,h=function(){this.finish(e)}.bind(this),d="css"===e,f=[];if(t)if(t="string"==typeof t?[t]:t.concat(),d||this.env.async||this.env.gecko||this.env.opera)this.queue[e].push({urls:t,callback:i,obj:n,context:a});else for(r=0,o=t.length;r<o;++r)this.queue[e].push({urls:[t[r]],callback:r===o-1?i:null,obj:n,context:a});if(!this.pending[e]&&(c=this.pending[e]=this.queue[e].shift())){for(r=0,o=(l=c.urls).length;r<o;++r)u=l[r],d?s=this.env.gecko?this.createNode("style"):this.createNode("link",{href:u,rel:"stylesheet"}):(s=this.createNode("script",{src:u})).async=!1,s.className="lazyload",s.setAttribute("charset","utf-8"),this.env.ie&&!d?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&(s.onreadystatechange=null,h())}:d&&(this.env.gecko||this.env.webkit)?this.env.webkit?(c.urls[r]=s.href,this.pollWebKit()):(s.innerHTML='@import "'+u+'";',this.pollGecko(s)):s.onload=s.onerror=h,f.push(s);for(r=0,o=f.length;r<o;++r)this.head.appendChild(f[r])}}},{key:"pollGecko",value:function(e){var t;try{t=!!e.sheet.cssRules}catch(n){if(this.pollCount+=1,this.pollCount<200){var i=this;setTimeout((function(){i.pollGecko(e)}),50)}else t&&this.finish("css");return}this.finish("css")}},{key:"pollWebKit",value:function(){var e,t=this.pending.css;if(t){for(e=this.styleSheets.length;--e>=0;)if(this.styleSheets[e].href===t.urls[0]){this.finish("css");break}this.pollCount+=1,t&&(this.pollCount<200?setTimeout(this.pollWebKit.bind(this),50):this.finish("css"))}}},{key:"css",value:function(e,t,i,n){this.load("css",e,t,i,n)}},{key:"js",value:function(e,t,i,n){this.load("js",e,t,i,n)}}])}())(document),bt=function(t){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,t),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){var e,t=this;this.youtube_loaded=!1,this._el.content_item=this.domCreate("div","tl-media-item tl-media-youtube tl-media-shadow",this._el.content),this._el.content_item.id=z(7),e=function(e){var t,i,n,a=[];(t=e.toString()).match("&#038;")?t=t.replace("&#038;","&"):t.match("&#38;")?t=t.replace("&#38;","&"):t.match("&amp;")&&(t=t.replace("&amp;","&")),n=t.slice(t.indexOf("?")+1).split("&");for(var r=0;r<n.length;r++)i=n[r].split("="),a.push(i[0]),a[i[0]]=i[1];return a}(this.data.url),this.media_id={},this.data.url.match("v=")?this.media_id.id=e.v:this.data.url.match("/embed/")?this.media_id.id=this.data.url.split("embed/")[1].split(/[?&]/)[0]:this.data.url.match(/v\/|v=|youtu\.be\//)?this.media_id.id=this.data.url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:R("YOUTUBE IN URL BUT NOT A VALID VIDEO"),this.data.url.match("start=")?this.media_id.start=ee(this.data.url.split("start=")[1]):this.data.url.match("t=")&&(this.media_id.start=ee(this.data.url.split("t=")[1])),this.data.url.match("end=")&&(this.media_id.end=ee(this.data.url.split("end=")[1])),this.media_id.hd=Boolean(void 0!==e.hd),gt("https://www.youtube.com/iframe_api",(function(){t.createMedia()}))}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=Q({w:this.options.width})+"px",this._el.content_item.style.width=this.options.width+"px"}},{key:"_stopMedia",value:function(){if(this.youtube_loaded)try{this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo()}catch(e){R(e)}}},{key:"createMedia",value:function(){var e=this;clearTimeout(this.timer),"undefined"!=typeof YT&&void 0!==YT.Player?this.player=new YT.Player(this._el.content_item.id,{playerVars:{enablejsapi:1,color:"white",controls:1,start:this.media_id.start,end:this.media_id.end,fs:1},videoId:this.media_id.id,events:{onReady:function(){e.onPlayerReady(),e.onLoaded()},onStateChange:e.onStateChange}}):this.timer=setTimeout((function(){e.createMedia()}),1e3)}},{key:"onPlayerReady",value:function(e){this.youtube_loaded=!0,this._el.content_item=document.getElementById(this._el.content_item.id),this.onMediaLoaded()}},{key:"onStateChange",value:function(e){e.data==YT.PlayerState.ENDED&&(e.target.seekTo(0),e.target.pauseVideo())}}])}(mt),kt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-map tl-media-shadow",this._el.content),this.media_id=this.data.url,this.mapframe=this.domCreate("iframe","",this._el.content_item),this.mapframe.width="100%",this.mapframe.height="100%",this.mapframe.frameBorder="0",this.mapframe.src=this.makeGoogleMapsEmbedURL(this.media_id,this.options.api_key_googlemaps),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){if(this._state.loaded){var e=Z({w:this._el.content_item.offsetWidth});this._el.content_item.style.height=e.h+"px"}}},{key:"makeGoogleMapsEmbedURL",value:function(e,t){var i=!1,n={view:["center"],place:["q","center"],directions:["origin","destination","center"],search:["q","center"],streetview:["fov","heading","pitch"]},a=/(https:\/\/.+google.+?\/maps)/,r=/@([-\d.]+),([-\d.]+)/,o=/([\w\W]+)/,s=/,((?:[-\d.]+[zmayht],?)*)/,c={view:new RegExp(a.source+"/"+r.source+s.source),place:new RegExp(a.source+"/place/"+o.source+"/"+r.source+s.source),directions:new RegExp(a.source+"/dir/"+o.source+"/"+o.source+"/"+r.source+s.source),search:new RegExp(a.source+"/search/"+o.source+"/"+r.source+s.source)};return function(e){function a(t,a){if("z"==t.slice(-1))a.zoom=t;else if("m"==t.slice(-1))a.zoom=14,a.maptype="satellite";else if("t"==t.slice(-1)){if(i=!0,"place"==r)var o=e.match(c.place)[3]+","+e.match(c.place)[4];else o=a.center,delete a.center;for(var s in(a={}).location=o,streetview_params=t.split(","),n.streetview){var l=parseInt(s)+1;"pitch"==n.streetview[s]&&"90t"==streetview_params[l]?a[n.streetview[s]]=0:a[n.streetview[s]]=streetview_params[l].slice(0,-1)}}return a}var r="view";return e.match(c.place)?r="place":e.match(c.directions)?r="directions":e.match(c.search)&&(r="search"),function(e,r){var o={},s=r[1],c=r[r.length-1];for(var l in n[e]){var u=parseInt(l)+2;"center"==n[e][l]?o[n[e][l]]=r[u]+","+r[++u]:o[n[e][l]]=r[u]}return(o=a(c,o)).key=t,1==i&&(e="streetview"),s+"/embed/v1/"+e+function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+e[i]);return"?"+t.join("&")}(o)}(r,e.match(c[r]))}(e)}}])}(mt),wt=function(e){function t(e,i,n){var a;return Object(vi["a"])(this,t),a=Object(yi["a"])(this,t,[e,i,n]),a.blockquote=ze.a.sanitize(a.data.url),a}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-blockquote",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this._el.content_item.innerHTML=this.blockquote,this.onLoaded()}},{key:"updateMediaDisplay",value:function(){}}])}(mt),xt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e,t=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-wikipedia",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url.split("wiki/")[1].split("#")[0].replace("_"," "),this.media_id=this.media_id.replace(" ","%20"),e="https://"+this.data.url.split("//")[1].split(".wikipedia")[0]+".wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&redirects=&titles="+this.media_id+"&exintro=1&format=json&callback=?",ge({type:"GET",url:e,dataType:"json",success:function(e){t.createMedia(e)},error:function(e,i){var n="";n+=t._("wikipedia_load_err")+"<br/>"+t.media_id+"<br/>"+i,t.loadErrorDisplay(n)}})}},{key:"createMedia",value:function(e){var t="";if(e.query){var i="";(t={entry:{},title:"",text:"",extract:"",paragraphs:1,page_image:"",text_array:[]}).entry=function(e,t){if(void 0!==e){var i=0;for(var n in e){if(t===i)return e[n];i++}return""}return""}(e.query.pages,0),t.extract=t.entry.extract,t.title=t.entry.title,t.page_image=t.entry.thumbnail,t.extract.match("<p>")?t.text_array=t.extract.split("<p>"):t.text_array.push(t.extract);for(var n=0;n<t.text_array.length;n++)n+1<=t.paragraphs&&n+1<t.text_array.length&&(t.text+="<p>"+t.text_array[n+1]);i+="<span class='tl-icon-wikipedia'></span>",i+="<div class='tl-wikipedia-title'><h4><a href='"+this.data.url+"' target='_blank'>"+t.title+"</a></h4>",i+="<span class='tl-wikipedia-source'>"+this._("wikipedia")+"</span></div>",t.page_image,i+=t.text,t.extract.match("REDIRECT")||(this._el.content_item.innerHTML=i,this.onLoaded())}}},{key:"updateMediaDisplay",value:function(){}}])}(mt),jt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e,t=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-soundcloud tl-media-shadow",this._el.content),this.media_id=this.data.url,e="https://soundcloud.com/oembed?url="+this.media_id+"&format=js&callback=?",_e(e,(function(e){gt("https://w.soundcloud.com/player/api.js",(function(){t.createMedia(e)}))}))}},{key:"createMedia",value:function(e){this._el.content_item.innerHTML=e.html,self.widget=SC.Widget(this._el.content_item.querySelector("iframe")),this.soundCloudCreated=!0,this.onLoaded()}},{key:"_stopMedia",value:function(){this.soundCloudCreated&&self.widget.pause()}}])}(mt),St=function(t){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,t),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){var e,t=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vimeo tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0];var i=null;this.data.url.match(/#t=([^&]+).*/)&&(i=this.data.url.match(/#t=([^&]+).*/)[1]),e="https://player.vimeo.com/video/"+this.media_id+"?api=1&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff",i&&(e=e+="&amp;#t="+i),this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",(function(e){t.onMediaLoaded()})),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=e,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=Q({w:this._el.content_item.offsetWidth})+"px"}},{key:"_stopMedia",value:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(e){R(e)}}}])}(mt),Tt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-dailymotion",this._el.content),this.data.url.match("video")?this.media_id=this.data.url.split("video/")[1].split(/[?&]/)[0]:this.media_id=this.data.url.split("embed/")[1].split(/[?&]/)[0],e="https://www.dailymotion.com/embed/video/"+this.media_id+"?api=postMessage",this._el.content_item.innerHTML="<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._state.loaded&&(this._el.content_item.style.height=Q({w:this._el.content_item.offsetWidth})+"px")}},{key:"_stopMedia",value:function(){this._state.loaded&&this._el.content_item.querySelector("iframe").contentWindow.postMessage('{"command":"pause","parameters":[]}',"*")}}])}(mt),Ot=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vine tl-media-shadow",this._el.content),this.media_id=this.data.url.split("vine.co/v/")[1],e="https://vine.co/v/"+this.media_id+"/embed/simple",this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+e+"'></iframe><script async src='https://platform.vine.co/static/scripts/embed.js' charset='utf-8'><\/script>",this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){var e=Z({w:this._el.content_item.offsetWidth,h:this.options.height});this._el.content_item.style.height=e.h+"px"}},{key:"_stopMedia",value:function(){this._el.content_item.querySelector("iframe").contentWindow.postMessage("pause","*")}}])}(mt),Ct=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e,t=this;if(this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.data.url.match("^(https?:)?/*(www.)?twitter.com"))this.data.url.match("status/")?this.media_id=this.data.url.split("status/")[1]:this.data.url.match("statuses/")?this.media_id=this.data.url.split("statuses/")[1]:this.media_id="";else if(this.data.url.match("<blockquote class=['\"]twitter-tweet['\"]")){var i=this.data.url.match(/(status|statuses)\/(\d+)/);if(!(i&&i.length>2))return void t.loadErrorDisplay(t._("twitterembed_invalidurl_err"));this.media_id=i[2]}e="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",ge({type:"GET",url:e,dataType:"json",success:function(e){t.createMedia(e)},error:function(e,i){var n="";n+=t._("twitter_load_err")+"<br/>"+t.media_id+"<br/>"+i,t.loadErrorDisplay(n)}})}},{key:"createMedia",value:function(e){var t,i,n,a="",r="",o="",s=this;r=e.html.split("</p>&mdash;")[0]+"</p></blockquote>",t=e.author_url.split("twitter.com/")[1],i=(o=e.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=o.split('">')[1].split("</a>")[0],(r=r.replace(/<a href/gi,'<a target="_blank" href')).includes("pic.twitter.com")?(gt("https://platform.twitter.com/widgets.js",(function(){twttr.widgets.createTweet(s.media_id,s._el.content_item,{conversation:"none",linkColor:"#cc0000",theme:"light"})})),this.onLoaded()):(a+=r,a+="<div class='vcard'>",a+="<a href='"+i+"' class='twitter-date' target='_blank'>"+n+"</a>",a+="<img src='' class='tl-media-item tl-media-image' target='_blank'></a>",a+="<div class='author'>",a+="<a class='screen-name url' href='"+e.author_url+"' target='_blank'>",a+="<span class='avatar'></span>",a+="<span class='fn'>"+e.author_name+" <span class='tl-icon-twitter'></span></span>",a+="<span class='nickname'>@"+t+"<span class='thumbnail-inline'></span></span>",a+="</a>",a+="</div>",a+="</div>",this._el.content_item.innerHTML=a,this.onLoaded())}},{key:"updateMediaDisplay",value:function(){}},{key:"_updateMediaDisplay",value:function(){}}])}(mt),At=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e,t=this;this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text";var i,n,a,r,o,s,c=this.data.url.match(/(status|statuses)\/(\d+)/);c&&c.length>2?(this.media_id=c[2],e="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",window.twttr=(i=document,n="script",a="twitter-wjs",o=i.getElementsByTagName(n)[0],s=window.twttr||{},i.getElementById(a)||((r=i.createElement(n)).id=a,r.src="https://platform.twitter.com/widgets.js",o.parentNode.insertBefore(r,o),s._e=[],s.ready=function(e){s._e.push(e)}),s),ge({type:"GET",url:e,dataType:"json",success:function(e){t.createMedia(e)},error:function(e,i){var n="";n+=t._("twitter_load_err")+"<br/>"+t.media_id+"<br/>"+i,t.loadErrorDisplay(n)}})):t.loadErrorDisplay(t._("twitterembed_invalidurl_err"))}},{key:"createMedia",value:function(e){var t,i,n,a="",r="",o="";r=e.html.split("</p>&mdash;")[0]+"</p></blockquote>",t=e.author_url.split("twitter.com/")[1],i=(o=e.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=o.split('">')[1].split("</a>")[0],r=r.replace(/<a href/gi,'<a target="_blank" href');var s=this.media_id;r.includes("pic.twitter.com")?(twttr.ready((function(e){a=document.getElementsByClassName("tl-media-twitter")[0];var t=String(s);twttr.widgets.createTweet(t,a,{conversation:"none",linkColor:"#cc0000",theme:"light"}).then((function(e){this.onLoaded()}))})),this._el.content_item.innerHTML=a,this.onLoaded()):(a+=r,a+="<div class='vcard'>",a+="<a href='"+i+"' class='twitter-date' target='_blank'>"+n+"</a>",a+="<div class='author'>",a+="<a class='screen-name url' href='"+e.author_url+"' target='_blank'>",a+="<span class='avatar'></span>",a+="<span class='fn'>"+e.author_name+" <span class='tl-icon-twitter'></span></span>",a+="<span class='nickname'>@"+t+"<span class='thumbnail-inline'></span></span>",a+="</a>",a+="</div>",a+="</div>",this._el.content_item.innerHTML=a,this.onLoaded())}},{key:"updateMediaDisplay",value:function(){}},{key:"_updateMediaDisplay",value:function(){}}])}(mt),Mt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e,t=this;try{this.establishMediaID(),e="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",_e(e,(function(e){"ok"==e.stat?(t.sizes=e.sizes.size,t.options.background||t.createMedia(),t.onLoaded()):t.loadErrorDisplay(t._("flickr_notfound_err"))}))}catch(e){t.loadErrorDisplay(t._(e.message_key))}}},{key:"establishMediaID",value:function(){if(this.data.url.match(/flic.kr\/.+/i)){var e=this.data.url.split("/").slice(-1)[0];this.media_id=X.decode(e)}else{var t=this.data.url.indexOf("flickr.com/photos/");if(-1==t)throw new C("flickr_invalidurl_err");var i=t+"flickr.com/photos/".length;this.media_id=this.data.url.substr(i).split("/")[1]}}},{key:"createMedia",value:function(){var e=this;this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-flickr tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=V(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=V(this.data.caption)),this._el.content_item.addEventListener("load",(function(t){e.onMediaLoaded()})),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)}},{key:"getImageURL",value:function(e,t){for(var i=this.size_label(t),n=this.sizes[this.sizes.length-2].source,a=0;a<this.sizes.length;a++)this.sizes[a].label==i&&(n=this.sizes[a].source);return n}},{key:"_getMeta",value:function(){var e,t=this;e="https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",_e(e,(function(e){t.data.credit_alternate="<a href='"+t.data.url+"' target='_blank'>"+e.photo.owner.realname+"</a>",t.data.caption_alternate=e.photo.title._content+" "+e.photo.description._content,t.updateMeta()}))}},{key:"size_label",value:function(e){return e<=75?e<=0?"Large":"Thumbnail":e<=180?"Small":e<=240?"Small 320":e<=375?"Medium":e<=480?"Medium 640":"Large"}}])}(mt),Lt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-documentcloud tl-media-shadow",this._el.content),this._el.content_item.id=z(7),this.data.url.match(/\.html$/)?this.data.url=this._transformURL(this.data.url):this.data.url.match(/.(json|js)$/)||R("DOCUMENT CLOUD IN URL BUT INVALID SUFFIX"),gt(["https://assets.documentcloud.org/viewer/loader.js","https://assets.documentcloud.org/viewer/viewer.js"],(function(){e.createMedia()}))}},{key:"_transformURL",value:function(e){return e.replace(/(.*)\.html$/,"$1.js")}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}},{key:"createMedia",value:function(){DV.load(this.data.url,{container:"#"+this._el.content_item.id,showSidebar:!1}),this.onLoaded()}}])}(mt),Pt="https://graph.facebook.com/v8.0/instagram_oembed?access_token=704270473831239|830b21071290df4f81a35c56abbea096&fields=html,thumbnail_url,author_name&url=";function Et(e){this.oembed_response=e,this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-instagram tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=V(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=V(this.data.caption)),this._el.content_item.addEventListener("load",function(e){this.onMediaLoaded()}.bind(this)),this._el.content_item.src=e.thumbnail_url,this.onLoaded()}function Rt(e){var t="".concat(e.statusText," [").concat(e.status,"]");400==e.status&&(t=this._("instagram_bad_request")),this.loadErrorDisplay(t)}var Dt=function(e){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,e),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){this.media_id=this.data.url.split("/p/")[1].split("/")[0],this.options.background||this.createMedia()}},{key:"createMedia",value:function(){this.oembed_response=null;var e="".concat(Pt).concat(this.data.url);try{ge({url:e,dataType:"json",success:Et,error:Rt,context:this})}catch(t){console.log("Instagram: error fetching ".concat(e)),console.log(t)}}},{key:"getImageURL",value:function(){if(this.oembed_response&&this.oembed_response.thumbnail_url)return this.oembed_response.thumbnail_url;ve("".concat(Pt).concat(this.data.url)).then((function(e){return e.thumbnail_url})).catch((function(e){R("Instagram getImageURL Error: ".concat(e.status," ").concat(e.statusText))}))}},{key:"_getMeta",value:function(){this.oembed_response&&this.oembed_response.author_name&&(this.data.credit_alternate='Instagram: <a href="https://instagram.com/'.concat(this.oembed_response.author_name,'" target="_blank">@').concat(this.oembed_response.author_name,"</a>")),this.updateMeta()}},{key:"sizes",value:function(e){return e<=150?"t":e<=306?"m":"l"}}])}(mt),It=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-profile tl-media-shadow",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()}},{key:"_updateMediaDisplay",value:function(e){_&&(this._el.content_item.style.maxWidth=this.options.width/2-40+"px")}}])}(mt),Nt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),e=this.data.url.match(/open\?id=([^&]+)/)?"https://drive.google.com/file/d/"+this.data.url.match(/open\?id=([^&]+)/)[1]+"/preview":this.data.url.match(/file\/d\/([^/]*)\/?/)?"https://drive.google.com/file/d/"+this.data.url.match(/file\/d\/([^/]*)\/?/)[1]+"/preview":this.data.url,this._el.content_item.innerHTML="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}}])}(mt),qt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e;if(this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-spotify",this._el.content),(this.data.url.match(/^spotify:track/)||this.data.url.match(/^spotify:album/)||this.data.url.match(/^spotify:user:.+:playlist:/))&&(this.media_id=this.data.url),this.data.url.match(/spotify\.com\/track\/(.+)/))this.media_id="spotify:track:"+this.data.url.match(/spotify\.com\/track\/(.+)/)[1];else if(this.data.url.match(/spotify\.com\/album\/(.+)/))this.media_id="spotify:album:"+this.data.url.match(/spotify\.com\/album\/(.+)/)[1];else if(this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)){var t=this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)[1],i=this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)[2];this.media_id="spotify:user:"+t+":playlist:"+i}else if(this.data.url.match(/spotify\.com\/artist\/(.+)/)){var n=this.data.url.match(/spotify\.com\/artist\/(.+)/)[1];this.media_id="spotify:artist:"+n}this.media_id?(e="https://embed.spotify.com/?uri="+this.media_id+"&theme=white&view=coverart",this.player=this.domCreate("iframe","tl-media-shadow",this._el.content_item),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=e,this.onLoaded()):this.loadErrorDisplay(this._("spotify_invalid_url"))}},{key:"_updateMediaDisplay",value:function(e){var t=this.options.height,i=0,n=0;t=d?this.options.height/2:this.options.height-this.options.credit_height-this.options.caption_height-30,this._el.content_item.style.maxHeight="none",R(t),R(this.options.width),t>this.options.width?(R("height is greater"),i=this.options.width+80+"px",n=this.options.width+"px"):(R("width is greater"),R(this.options.width),i=t+"px",n=t-80+"px"),this.player.style.width=n,this.player.style.height=i,this._el.credit&&(this._el.credit.style.width=n),this._el.caption&&(this._el.caption.style.width=n)}},{key:"_stopMedia",value:function(){}}])}(mt),Bt=function(e){function t(e,i,n){var a;return Object(vi["a"])(this,t),a=Object(yi["a"])(this,t,[e,i,n]),a.iframe=ze.a.sanitize(a.data.url,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder"]}),a}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),this._el.content_item.innerHTML=this.iframe,this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}}])}(mt),Ft=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){try{var e=this;if(this.data.url.match("<blockquote class=['\"]imgur-embed-pub['\"]")){var t=this.data.url.match(/(imgur\.com)\/(\w+)/);this.media_id=t[2],this.data.url="http://imgur.com/gallery/"+this.media_id}else this.data.url&&(this.media_id=this.data.url.split("/").slice(-1)[0]);gt(["https://s.imgur.com/min/embed.js"],(function(){e.createMedia()}))}catch(e){this.loadErrorDisplay(this._("imgur_invalidurl_err"))}}},{key:"createMedia",value:function(){var e=this,t="https://api.imgur.com/oembed.json?url="+this.data.url;this._el.content_item=this.domCreate("div","tl-media-item tl-media-image tl-media-imgur",this._el.content),ge({type:"GET",url:t,dataType:"json",success:function(t){try{e._el.content_item.innerHTML=t.html,setInterval((function(){null==document.querySelector("blockquote.imgur-embed-pub")?clearInterval():(imgurEmbed.createIframe(),document.getElementById("imageElement").removeAttribute("style"),document.getElementById("image").removeAttribute("style"))}),2e3)}catch(e){R("Error processing imgur ajax response")}},error:function(t,i,n){"parsererror"==i?e.loadErrorDisplay(e._("imgur_invalidurl_err")):e.loadErrorDisplay(e._("unknown_read_err",i))}}),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.width=this.options.width+"px",this._el.content_item.style.height=Q({w:this.options.width})+"px"}}])}(mt),Wt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){var e=J(this.data.url);this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content);var t="";t=s||g||e.match(/dl.dropboxusercontent.com/)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+e+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+e+"'></iframe>",this._el.content_item.innerHTML=t,this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}}])}(mt),zt=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}},{key:"createMedia",value:function(){var e=this,t="tl-media-item tl-media-audio tl-media-shadow";this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("audio",t,this._el.content_link)):this._el.content_item=this.domCreate("audio",t,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",(function(t){e.onMediaLoaded()})),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 audio with "+this._el.source_item.type}},{key:"_updateMediaDisplay",value:function(e){_&&(this._el.content_item.style.width="auto")}},{key:"_getType",value:function(e,t){var i="audio/";switch(e.match(t)[1]){case"mp3":i+="mpeg";break;case"wav":i+="wav";break;case"m4a":i+="mp4";break;default:i="audio"}return i}}])}(mt),Ht=function(e){function t(){return Object(vi["a"])(this,t),Object(yi["a"])(this,t,arguments)}return Object(bi["a"])(t,e),Object(gi["a"])(t,[{key:"_loadMedia",value:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}},{key:"createMedia",value:function(){var e=this,t="tl-media-item tl-media-video tl-media-shadow";this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("video",t,this._el.content_link)):this._el.content_item=this.domCreate("video",t,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",(function(t){e.onMediaLoaded()})),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 video with "+this._el.source_item.type}},{key:"_updateMediaDisplay",value:function(e){_&&(this._el.content_item.style.width="auto")}},{key:"_getType",value:function(e,t){var i="video/";switch(e.match(t)[1]){case"mp4":i+="mp4";break;default:i="video"}return i}}])}(mt),Ut=function(t){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,t),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){var e,t=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-wistia tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/medias\/(.*)/)[3],R("Wistia: media_id: ".concat(this.media_id)),e="https://fast.wistia.com/embed/iframe/"+this.media_id+"?version=v1&controlsVisibleOnLoad=true&playerColor=aae3d8",this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",(function(e){t.onMediaLoaded()})),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=e,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=Q({w:this._el.content_item.offsetWidth})+"px"}},{key:"_stopMedia",value:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(e){R(e)}}}])}(mt);function Gt(e,t){var i=[{type:"youtube",name:"YouTube",match_str:"^(https?:)?/*(www.)?youtube|youtu.be",cls:bt},{type:"vimeo",name:"Vimeo",match_str:"^(https?:)?/*(player.)?vimeo.com",cls:St},{type:"dailymotion",name:"DailyMotion",match_str:"^(https?:)?/*(www.)?dailymotion.com",cls:Tt},{type:"vine",name:"Vine",match_str:"^(https?:)?/*(www.)?vine.co",cls:Ot},{type:"soundcloud",name:"SoundCloud",match_str:"^(https?:)?/*(player.)?soundcloud.com",cls:jt},{type:"twitter",name:"Twitter",match_str:"^(https?:)?/*(www.)?twitter.com",cls:Ct},{type:"twitterembed",name:"TwitterEmbed",match_str:"<blockquote class=['\"]twitter-tweet['\"]",cls:At},{type:"googlemaps",name:"Google Map",match_str:/google.+?\/maps\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/search\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/place\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/dir\/([\w\W]+)\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)/,cls:kt},{type:"flickr",name:"Flickr",match_str:"^(https?:)?/*(www.)?flickr.com/photos",cls:Mt},{type:"flickr",name:"Flickr",match_str:"^(https?://)?flic.kr/.*",cls:Mt},{type:"instagram",name:"Instagram",match_str:/^(https?:)?\/*(www.)?(instagr.am|^(https?:)?\/*(www.)?instagram.com)\/p\//,cls:Dt},{type:"profile",name:"Profile",match_str:/^(https?:)?\/*(www.)?instagr.am\/[a-zA-Z0-9]{2,}|^(https?:)?\/*(www.)?instagram.com\/[a-zA-Z0-9]{2,}/,cls:It},{type:"documentcloud",name:"Document Cloud",match_str:/documentcloud.org\//,cls:Lt},{type:"image",name:"Image",match_str:/(jpg|jpeg|png|gif|svg)(\?.*)?$/i,cls:_t},{type:"imgur",name:"Imgur",match_str:/^.*imgur.com\/.+$|<blockquote class=['\"]imgur-embed-pub['\"]/i,cls:Ft},{type:"googledocs",name:"Google Doc",match_str:"^(https?:)?/*[^.]*.google.com/[^/]*/d/[^/]*/[^/]*?usp=sharing|^(https?:)?/*drive.google.com/open?id=[^&]*&authuser=0|^(https?:)?//*drive.google.com/open\\?id=[^&]*|^(https?:)?/*[^.]*.googledrive.com/host/[^/]*/",cls:Nt},{type:"pdf",name:"PDF",match_str:/^.*\.pdf(\?.*)?(\#.*)?/,cls:Wt},{type:"wikipedia",name:"Wikipedia",match_str:"^(https?:)?/*(www.)?wikipedia.org|^(https?:)?/*([a-z][a-z].)?wikipedia.org",cls:xt},{type:"spotify",name:"spotify",match_str:"spotify",cls:qt},{type:"iframe",name:"iFrame",match_str:"iframe",cls:Bt},{type:"blockquote",name:"Quote",match_str:"blockquote",cls:wt},{type:"video",name:"Video",match_str:/(mp4)(\?.*)?$/i,cls:Ht},{type:"wistia",name:"Wistia",match_str:/https?:\/\/(.+)?(wistia\.com|wi\.st)\/.*/i,cls:Ut},{type:"audio",name:"Audio",match_str:/(mp3|wav|m4a)(\?.*)?$/i,cls:zt},{type:"imageblank",name:"Imageblank",match_str:"",cls:_t}];if(t){if(e instanceof Array)return!1;for(var n=0;n<i.length;n++)switch(i[n].type){case"flickr":case"image":case"instagram":if(e.url.match(i[n].match_str))return i[n]}}else for(n=0;n<i.length;n++)if(e.url.match(i[n].match_str))return i[n];return!1}var Vt=function(){function e(t,i){Object(vi["a"])(this,e),this._el={container:{},content_container:{},media_container:{},timespan:{},line_left:{},line_right:{},content:{},text:{},media:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",background:null,date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""},media:null},this.options={duration:1e3,ease:ae,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,L(this.options,i),L(this.data,t),this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"setActive",value:function(e){this.active=e,this.active&&this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end tl-timemarker-active":this.active?this._el.container.className="tl-timemarker tl-timemarker-active":this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end":this._el.container.className="tl-timemarker"}},{key:"addTo",value:function(e){e.appendChild(this._el.container)}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container)}},{key:"updateDisplay",value:function(e,t){this._updateDisplay(e,t)}},{key:"loadMedia",value:function(){this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0)}},{key:"stopMedia",value:function(){this._media&&this._state.loaded&&this._media.stopMedia()}},{key:"getLeft",value:function(){return this._el.container.style.left.slice(0,-2)}},{key:"getTime",value:function(){return this.data.start_date.getTime()}},{key:"getEndTime",value:function(){return!!this.data.end_date&&this.data.end_date.getTime()}},{key:"setHeight",value:function(e){var t=1;this._el.content_container.style.height=e+"px",this._el.timespan_content.style.height=e+"px",this._el.content.className=e<=30?"tl-timemarker-content tl-timemarker-content-small":"tl-timemarker-content",e<=56?T(this._el.content_container,"tl-timemarker-content-container-small"):O(this._el.content_container,"tl-timemarker-content-container-small"),c?((t=Math.floor(e/14))<1&&(t=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=t):(t=e/12,this._text.className=t>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*t+"px")}},{key:"setWidth",value:function(e){this.data.end_date&&(this._el.container.style.width=e+"px",e>this.options.marker_width_min?(this._el.content_container.style.width=e+"px",this._el.content_container.className="tl-timemarker-content-container tl-timemarker-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timemarker-content-container"))}},{key:"setClass",value:function(e){this._el.container.className=e}},{key:"setRowPosition",value:function(e,t){this.setPosition({top:e}),this._el.timespan.style.height=t+"px"}},{key:"_onMarkerClick",value:function(e){this.fire("markerclick",{unique_id:this.data.unique_id})}},{key:"_initLayout",value:function(){if(this._el.container=x("div","tl-timemarker"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-marker"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timemarker tl-timemarker-with-end"),this._el.timespan=x("div","tl-timemarker-timespan",this._el.container),this._el.timespan_content=x("div","tl-timemarker-timespan-content",this._el.timespan),this._el.content_container=x("div","tl-timemarker-content-container",this._el.container),this._el.content=x("div","tl-timemarker-content",this._el.content_container),this._el.line_left=x("div","tl-timemarker-line-left",this._el.timespan),this._el.line_right=x("div","tl-timemarker-line-right",this._el.timespan),this.data.media){this._el.media_container=x("div","tl-timemarker-media-container",this._el.content);var e={url:this.data.media.thumbnail},t=this.data.media.thumbnail?Gt(e,!0):null;if(t){var i=new t.cls(e);i.on("loaded",function(){this._el.media=x("img","tl-timemarker-media",this._el.media_container),this._el.media.src=i.getImageURL()}.bind(this)),i.loadMedia()}else{var n=Gt(this.data.media).type;this._el.media=x("span","tl-icon-"+n,this._el.media_container)}}this._el.text=x("div","tl-timemarker-text",this._el.content),this._text=x("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline?this._text.innerHTML=G(this.data.text.headline):this.data.text.text&&""!=this.data.text.text?this._text.innerHTML=G(this.data.text.text):this.data.media&&this.data.media.caption&&""!=this.data.media.caption&&(this._text.innerHTML=G(this.data.media.caption)),this.onLoaded()}},{key:"_initEvents",value:function(){pe.addListener(this._el.container,"click",this._onMarkerClick,this)}},{key:"_updateDisplay",value:function(e,t,i){e&&(this.options.width=e),t&&(this.options.height=t)}}])}();F(Vt,ce,he);var $t=function(){function e(t,i,n){Object(vi["a"])(this,e),this._el={drag:t,move:t},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},i&&(this._el.move=i),this.options={snap:!1,enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:0,right:!1},momentum_multiplier:2e3,duration:1e3,ease:oe},this.animator=null,this.dragevent=this.mousedrag,b&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},L(this.options,n)}return Object(gi["a"])(e,[{key:"enable",value:function(e){pe.addListener(this._el.drag,this.dragevent.down,this._onDragStart,this),pe.addListener(this._el.drag,this.dragevent.up,this._onDragEnd,this),this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}},{key:"disable",value:function(){pe.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),pe.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}},{key:"stopMomentum",value:function(){this.animator&&this.animator.stop()}},{key:"updateConstraint",value:function(e){this.options.constraint=e}},{key:"_onDragStart",value:function(e){this.animator&&this.animator.stop(),b?e.originalEvent?(this.data.pagex.start=e.originalEvent.touches[0].screenX,this.data.pagey.start=e.originalEvent.touches[0].screenY):(this.data.pagex.start=e.targetTouches[0].screenX,this.data.pagey.start=e.targetTouches[0].screenY):(this.data.pagex.start=e.pageX,this.data.pagey.start=e.pageY),this.options.enable.x,this.options.enable.y,this.data.pos.start={x:this._el.move.offsetLeft,y:this._el.move.offsetTop},this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),pe.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pe.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}},{key:"_onDragEnd",value:function(e){this.data.sliding=!1,pe.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pe.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}},{key:"_onDragMove",value:function(e){var t={x:0,y:0};this.data.sliding=!0,b?e.originalEvent?(this.data.pagex.end=e.originalEvent.touches[0].screenX,this.data.pagey.end=e.originalEvent.touches[0].screenY):(this.data.pagex.end=e.targetTouches[0].screenX,this.data.pagey.end=e.targetTouches[0].screenY):(this.data.pagex.end=e.pageX,this.data.pagey.end=e.pageY),t.x=this.data.pagex.start-this.data.pagex.end,t.y=this.data.pagey.start-this.data.pagey.end,this.data.pos.end={x:this._el.drag.offsetLeft,y:this._el.drag.offsetTop},this.data.new_pos.x=-(t.x-this.data.pos.start.x),this.data.new_pos.y=-(t.y-this.data.pos.start.y),this.options.enable.x&&Math.abs(t.x)>Math.abs(t.y)&&(e.preventDefault(),this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&Math.abs(t.y)>Math.abs(t.y)&&(e.preventDefault(),this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}},{key:"_momentum",value:function(){var e={x:0,y:0,time:0},t={x:0,y:0,time:0},i={x:!1,y:!1},n=!1;this.data.direction=null,e.time=10*((new Date).getTime()-this.data.time.start),t.time=10*((new Date).getTime()-this.data.time.start),t.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),t.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),e.x=Math.round(t.x/t.time),e.y=Math.round(t.y/t.time),this.data.new_pos.x=Math.min(this.data.new_pos.x+e.x),this.data.new_pos.y=Math.min(this.data.new_pos.y+e.y),this.options.enable.x?this.options.constraint.left&&this.data.new_pos.x>this.options.constraint.left&&(this.data.new_pos.x=this.options.constraint.left):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,t.time<2e3&&(n=!0),this.options.enable.x&&this.options.enable.y?Math.abs(t.x)>Math.abs(t.y)?i.x=!0:i.y=!0:this.options.enable.x?Math.abs(t.x)>Math.abs(t.y)&&(i.x=!0):Math.abs(t.y)>Math.abs(t.x)&&(i.y=!0),i.x&&(Math.abs(t.x)>this._el.drag.offsetWidth/2&&(n=!0),Math.abs(t.x)>1e4&&(this.data.direction="left",t.x>0&&(this.data.direction="right"))),i.y&&(Math.abs(t.y)>this._el.drag.offsetHeight/2&&(n=!0),Math.abs(t.y)>1e4&&(this.data.direction="up",t.y>0&&(this.data.direction="down"))),t.time<1e3||this._animateMomentum(),n&&this.data.direction?this.fire("swipe_"+this.data.direction,this.data):this.data.direction?this.fire("swipe_nodirection",this.data):this.options.snap&&(this.animator.stop(),this.animator=le(this._el.move,{top:this.data.pos.start.y,left:this.data.pos.start.x,duration:this.options.duration,easing:re}))}},{key:"_animateMomentum",value:function(){var e={x:this.data.new_pos.x,y:this.data.new_pos.y},t={duration:this.options.duration,easing:re};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(e.y>this.options.constraint.bottom?e.y=this.options.constraint.bottom:e.y<this.options.constraint.top&&(e.y=this.options.constraint.top)),t.top=Math.floor(e.y)+"px"),this.options.enable.x&&(this.options.constraint.left&&e.x>=this.options.constraint.left&&(e.x=this.options.constraint.left),this.options.constraint.right&&e.x<this.options.constraint.right&&(e.x=this.options.constraint.right),t.left=Math.floor(e.x)+"px"),this.animator=le(this._el.move,t),this.fire("momentum",this.data)}}])}();F($t,ce);var Jt=function(){function e(t,i,n,a){Object(vi["a"])(this,e),this.language=a,this._el={parent:{},container:{},slider:{},slider_background:{},line:{},marker_container_mask:{},marker_container:{},marker_item_container:{},timeaxis:{},timeaxis_background:{},attribution:{}},this.collapsed=!1,this._el.container="object"==Object(wi["a"])(t)?t:w(t),this.config=i,this.options={width:600,height:600,duration:1e3,ease:oe,has_groups:!1,optimal_tick_width:50,scale_factor:2,marker_padding:5,timenav_height_min:150,marker_height_min:30,marker_width_min:100,zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89]},this.animator=null,this.ready=!1,this._markers=[],this._eras=[],this.has_eras=!1,this._groups=[],this._calculated_row_height=100,this.current_id="",this.timescale={},this.timeaxis={},this.max_rows=6,this.animate_css=!1,this._swipable,L(this.options,n)}return Object(gi["a"])(e,[{key:"init",value:function(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this._onLoaded()}},{key:"positionMarkers",value:function(e){for(var t=0;t<this._markers.length;t++){var i=this.timescale.getPositionInfo(t);e?this._markers[t].setClass("tl-timemarker tl-timemarker-fast"):this._markers[t].setClass("tl-timemarker"),this._markers[t].setPosition({left:i.start}),this._markers[t].setWidth(i.width)}}},{key:"updateDisplay",value:function(e,t,i){var n=!1;e&&(0==this.options.width&&e>0&&(n=!0),this.options.width=e),t&&t!=this.options.height&&(this.options.height=t,this.timescale=this._getTimeScale()),this._assignRowsToMarkers(),this._el.slider_background.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._el.slider_background.style.left=-this.options.width/2+"px",this._el.slider.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._swipable.updateConstraint({top:!1,bottom:!1,left:this.options.width/2,right:-(this.timescale.getPixelWidth()-this.options.width/2)}),n&&this._drawTimeline(),this.goToId(this.current_id,!0)}},{key:"_getTimeScale",value:function(){var e=0;try{e=parseInt(this.options.marker_height_min)}catch(t){R("Invalid value for marker_height_min option."),e=30}return 0==e&&(R("marker_height_min option must not be zero."),e=30),this.max_rows=Math.round((this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding)/e),this.max_rows<1&&(this.max_rows=1),new ut(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows})}},{key:"_updateTimeScale",value:function(e){this.options.scale_factor=e,this._updateDrawTimeline()}},{key:"zoomIn",value:function(){var e=function(e,t,i){for(var n=0;n<e.length;n++)if(t<e[n])return e[n];return i||t}(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(e)}},{key:"zoomOut",value:function(){var e=function(e,t,i){for(var n=e.length-1;n>=0;n--)if(t>e[n])return e[n];return i||t}(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(e)}},{key:"setZoom",value:function(e){var t=this.options.zoom_sequence[e];"number"==typeof t?this.setZoomFactor(t):console.warn("Invalid zoom level. Please use an index number between 0 and "+(this.options.zoom_sequence.length-1))}},{key:"setZoomFactor",value:function(e){e<=this.options.zoom_sequence[0]?this.fire("zoomtoggle",{zoom:"out",show:!1}):this.fire("zoomtoggle",{zoom:"out",show:!0}),e>=this.options.zoom_sequence[this.options.zoom_sequence.length-1]?this.fire("zoomtoggle",{zoom:"in",show:!1}):this.fire("zoomtoggle",{zoom:"in",show:!0}),0==e&&(console.warn("Zoom factor must be greater than zero. Using 0.1"),e=.1),this.options.scale_factor=e,this.goToId(this.current_id,!this._updateDrawTimeline(!0),!0)}},{key:"_createGroups",value:function(){this._groups=[];var e=this.timescale.getGroupLabels();if(e){this.options.has_groups=!0;for(var t=0;t<e.length;t++)this._createGroup(e[t])}}},{key:"_createGroup",value:function(e){var t=new ht(e);this._addGroup(t),this._groups.push(t)}},{key:"_addGroup",value:function(e){e.addTo(this._el.container)}},{key:"_positionGroups",value:function(){if(this.options.has_groups)for(var e=this.options.height-this._el.timeaxis_background.offsetHeight,t=Math.floor(e/this.timescale.getNumberOfRows()-this.options.marker_padding),i=(this.timescale.getGroupLabels(),0),n=0;i<this._groups.length;i++){var a=Math.floor(n*(t+this.options.marker_padding)),r=!1;a>e-this.options.marker_padding&&(r=!0),this._groups[i].setRowPosition(a,this._calculated_row_height+this.options.marker_padding/2),this._groups[i].setAlternateRowColor(H(i),r),n+=this._groups[i].data.rows}}},{key:"_addMarker",value:function(e){e.addTo(this._el.marker_item_container),e.on("markerclick",this._onMarkerClick,this),e.on("added",this._onMarkerAdded,this)}},{key:"_createMarker",value:function(e,t){var i=new Vt(e,this.options);this._addMarker(i),t<0?this._markers.push(i):this._markers.splice(t,0,i)}},{key:"_createMarkers",value:function(e){for(var t=0;t<e.length;t++)this._createMarker(e[t],-1)}},{key:"_removeMarker",value:function(e){e.removeFrom(this._el.marker_item_container)}},{key:"_destroyMarker",value:function(e){this._removeMarker(this._markers[e]),this._markers.splice(e,1)}},{key:"_calculateMarkerHeight",value:function(e){return e/this.timescale.getNumberOfRows()-this.options.marker_padding}},{key:"_calculateRowHeight",value:function(e){return e/this.timescale.getNumberOfRows()}},{key:"_calculateAvailableHeight",value:function(){return this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding}},{key:"_calculateMinimumTimeNavHeight",value:function(){return this.timescale.getNumberOfRows()*this.options.marker_height_min+this._el.timeaxis_background.offsetHeight+this.options.marker_padding}},{key:"getMinimumHeight",value:function(){return this._calculateMinimumTimeNavHeight()}},{key:"_assignRowsToMarkers",value:function(){var e=this._calculateAvailableHeight(),t=this._calculateMarkerHeight(e);this._positionGroups(),this._calculated_row_height=this._calculateRowHeight(e);for(var i=0;i<this._markers.length;i++){this._markers[i].setHeight(t);var n=this.timescale.getPositionInfo(i).row,a=Math.floor(n*(t+this.options.marker_padding))+this.options.marker_padding,r=e-a+this.options.marker_padding;this._markers[i].setRowPosition(a,r)}}},{key:"_resetMarkersActive",value:function(){for(var e=0;e<this._markers.length;e++)this._markers[e].setActive(!1)}},{key:"_findMarkerIndex",value:function(e){var t=-1;return("string"==typeof e||e instanceof String)&&(t=U(e,this._markers,"unique_id",t)),t}},{key:"_createEras",value:function(e){for(var t=0;t<e.length;t++){var i=e[t],n=new dt(i.start_date,i.end_date,i.headline,this.options);this._eras.push(n),n.addTo(this._el.marker_item_container),n.on("added",this._onEraAdded,this)}}},{key:"_positionEras",value:function(e){for(var t=0,i=0;i<this._eras.length;i++){var n={start:0,end:0,width:0};n.start=this.timescale.getPosition(this._eras[i].start_date.getTime()),n.end=this.timescale.getPosition(this._eras[i].end_date.getTime()),n.width=n.end-n.start,e?this._eras[i].setClass("tl-timeera tl-timeera-fast"):this._eras[i].setClass("tl-timeera"),this._eras[i].setPosition({left:n.start}),this._eras[i].setWidth(n.width),++t>5&&(t=0),this._eras[i].setColor(t)}}},{key:"createMarker",value:function(e,t){this._createMarker(e,t)}},{key:"createMarkers",value:function(e){this._createMarkers(e)}},{key:"destroyMarker",value:function(e){this._destroyMarker(e)}},{key:"destroyMarkerId",value:function(e){this.destroyMarker(this._findMarkerIndex(e))}},{key:"goTo",value:function(e,t,i){var n=this.options.ease,a=this.options.duration,r=e<0?0:e;this._resetMarkersActive(),e>=0&&e<this._markers.length&&this._markers[e].setActive(!0),this.animator&&this.animator.stop(),t?(this._el.slider.className="tl-timenav-slider",this._el.slider.style.left=-this._markers[r].getLeft()+this.options.width/2+"px"):i?(this._el.slider.className="tl-timenav-slider tl-timenav-slider-animate",this.animate_css=!0,this._el.slider.style.left=-this._markers[r].getLeft()+this.options.width/2+"px"):(this._el.slider.className="tl-timenav-slider",this.animator=le(this._el.slider,{left:-this._markers[r].getLeft()+this.options.width/2+"px",duration:a,easing:n})),e>=0&&e<this._markers.length?this.current_id=this._markers[e].data.unique_id:this.current_id=""}},{key:"goToId",value:function(e,t,i){this.goTo(this._findMarkerIndex(e),t,i)}},{key:"_onLoaded",value:function(){this.ready=!0,this.fire("loaded",this.config)}},{key:"_onMarkerAdded",value:function(e){this.fire("dateAdded",this.config)}},{key:"_onEraAdded",value:function(e){this.fire("eraAdded",this.config)}},{key:"_onMarkerRemoved",value:function(e){this.fire("dateRemoved",this.config)}},{key:"_onMarkerClick",value:function(e){this.goToId(e.unique_id),this.fire("change",{unique_id:e.unique_id})}},{key:"_onMouseScroll",value:function(e){var t=0,i=0,n={right:-(this.timescale.getPixelWidth()-this.options.width/2),left:this.options.width/2};e||(e=window.event),e.originalEvent&&(e=e.originalEvent),void 0!==e.wheelDeltaX&&(t=e.wheelDeltaY/6,t=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?e.wheelDeltaX/6:0),t&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1),(i=parseInt(this._el.slider.style.left.replace("px",""))+t)>n.left?i=n.left:i<n.right&&(i=n.right),this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1),this._el.slider.style.left=i+"px"}},{key:"_onDragMove",value:function(e){this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1)}},{key:"_drawTimeline",value:function(e){this.timescale=this._getTimeScale(),this.timeaxis.drawTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(e),this._assignRowsToMarkers(),this._createGroups(),this._positionGroups(),this.has_eras&&this._positionEras(e)}},{key:"_updateDrawTimeline",value:function(e){var t=!1;if(e){var i=new ut(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows});this.timescale.getMajorScale()==i.getMajorScale()&&this.timescale.getMinorScale()==i.getMinorScale()&&(t=!0)}else t=!0;return t?(this.timescale=this._getTimeScale(),this.timeaxis.positionTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(),this._assignRowsToMarkers(),this._positionGroups(),this.has_eras&&this._positionEras(),this.updateDisplay()):this._drawTimeline(!0),t}},{key:"_initLayout",value:function(){this._el.attribution=x("div","tl-attribution",this._el.container),this._el.line=x("div","tl-timenav-line",this._el.container),this._el.slider=x("div","tl-timenav-slider",this._el.container),this._el.slider_background=x("div","tl-timenav-slider-background",this._el.slider),this._el.marker_container_mask=x("div","tl-timenav-container-mask",this._el.slider),this._el.marker_container=x("div","tl-timenav-container",this._el.marker_container_mask),this._el.marker_item_container=x("div","tl-timenav-item-container",this._el.marker_container),this._el.timeaxis=x("div","tl-timeaxis",this._el.slider),this._el.timeaxis_background=x("div","tl-timeaxis-background",this._el.container),this._el.attribution.innerHTML="<a href='http://timeline.knightlab.com' target='_blank'><span class='tl-knightlab-logo'></span>TimelineJS</a>",this.timeaxis=new ft(this._el.timeaxis,this.options,this.language),this._swipable=new $t(this._el.slider_background,this._el.slider,{enable:{x:!0,y:!1},constraint:{top:!1,bottom:!1,left:this.options.width/2,right:!1},snap:!1}),this._swipable.enable()}},{key:"_initEvents",value:function(){this._swipable.on("dragmove",this._onDragMove,this),pe.addListener(this._el.container,"mousewheel",this._onMouseScroll,this),pe.addListener(this._el.container,"DOMMouseScroll",this._onMouseScroll,this)}},{key:"_initData",value:function(){this._createMarkers(this.config.events),this.config.eras&&this.config.eras.length>0&&(this.has_eras=!0,this._createEras(this.config.eras)),this._drawTimeline()}}])}();F(Jt,ce,he);var Yt=function(){function e(t,i,n,a){Object(vi["a"])(this,e),a&&this.setLanguage(a),this._el={container:{},scroll_container:{},background:{},content_container:{},content:{}},this._media=null,this._mediaclass={},this._text={},this._background_media=null,this._state={loaded:!1},this.has={headline:!1,text:!1,media:!1,title:!1,background:{image:!1,color:!1,color_value:""}},this.has.title=n,this.data={unique_id:null,background:null,start_date:null,end_date:null,location:null,text:null,media:null,autolink:!0},this.options={duration:1e3,slide_padding_lr:40,ease:ae,width:600,height:600,skinny_size:650,media_name:""},this.active=!1,this.animator={},L(this.options,i),L(this.data,t),this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"show",value:function(){this.animator=le(this._el.slider_container,{left:-this._el.container.offsetWidth*n+"px",duration:this.options.duration,easing:this.options.ease})}},{key:"hide",value:function(){}},{key:"setActive",value:function(e){this.active=e,this.active?(this.data.background&&this.fire("background_change",this.has.background),this.loadMedia()):this.stopMedia()}},{key:"addTo",value:function(e){e.appendChild(this._el.container)}},{key:"removeFrom",value:function(e){e.removeChild(this._el.container)}},{key:"updateDisplay",value:function(e,t,i){var n,a=this.options.slide_padding_lr,r=this.options.slide_padding_lr;this.options.width=e||this._el.container.offsetWidth,n=this.options.width-2*this.options.slide_padding_lr,d&&this.options.width<=this.options.skinny_size?(a=0,r=0,n=this.options.width):"landscape"==i||this.options.width<=this.options.skinny_size&&(a=50,r=50,n=this.options.width-a-r),this._el.content.style.paddingLeft=a+"px",this._el.content.style.paddingRight=r+"px",this._el.content.style.width=n+"px",this.options.height=t||this._el.container.offsetHeight,this._media&&(!this.has.text&&this.has.headline?this._media.updateDisplay(n,this.options.height-this._text.headlineHeight(),i):this.has.text||this.has.headline?this.options.width<=this.options.skinny_size?this._media.updateDisplay(n,this.options.height,i):this._media.updateDisplay(n/2,this.options.height,i):this._media.updateDisplay(n,this.options.height,i)),this._updateBackgroundDisplay()}},{key:"loadMedia",value:function(){var e=this;this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0),this._background_media&&!this._background_media._state.loaded&&(this._background_media.on("loaded",(function(){e._updateBackgroundDisplay()})),this._background_media.loadMedia())}},{key:"stopMedia",value:function(){this._media&&this._state.loaded&&this._media.stopMedia()}},{key:"getBackground",value:function(){return this.has.background}},{key:"scrollToTop",value:function(){this._el.container.scrollTop=0}},{key:"getFormattedDate",value:function(){if(B(this.data.display_date).length>0)return this.data.display_date;var e="";return this.has.title||(this.data.end_date&&(e=" &mdash; "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(e=this.data.start_date.getDisplayDate(this.getLanguage())+e)),e}},{key:"_initLayout",value:function(){if(this._el.container=x("div","tl-slide"),this.has.title&&(this._el.container.className="tl-slide tl-slide-titleslide"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._el.scroll_container=x("div","tl-slide-scrollable-container",this._el.container),this._el.content_container=x("div","tl-slide-content-container",this._el.scroll_container),this._el.content=x("div","tl-slide-content",this._el.content_container),this._el.background=x("div","tl-slide-background",this._el.container),this.data.background){if(this.data.background.url){var e=Gt(this.data.background,!0);e&&(this._background_media=new e.cls(this.data.background,{background:1}),this.has.background.image=!0,this._el.container.className+=" tl-full-image-background",this.has.background.color_value="#000",this._el.background.style.display="block")}this.data.background.color&&(this.has.background.color=!0,this._el.container.className+=" tl-full-color-background",this.has.background.color_value=this.data.background.color),this.data.background.text_background&&(this._el.container.className+=" tl-text-background")}this.data.media&&this.data.media.url&&""!=this.data.media.url&&(this.has.media=!0),this.data.text&&this.data.text.text&&(this.has.text=!0),this.data.text&&this.data.text.headline&&(this.has.headline=!0),this.has.media&&(this.data.media.mediatype=Gt(this.data.media),this.options.media_name=this.data.media.mediatype.name,this.options.media_type=this.data.media.mediatype.type,this.options.autolink=this.data.autolink,this._media=new this.data.media.mediatype.cls(this.data.media,this.options,this.getLanguage())),(this.has.text||this.has.headline)&&(this._text=new pt(this.data.text,{title:this.has.title,language:this.options.language,autolink:this.data.autolink}),this._text.addDateText(this.getFormattedDate())),this.has.text||this.has.headline||!this.has.media?this.has.headline&&this.has.media&&!this.has.text?(T(this._el.container,"tl-slide-media-only"),this._text.addTo(this._el.content),this._media.addTo(this._el.content)):this.has.text&&this.has.media?(this._media.addTo(this._el.content),this._text.addTo(this._el.content)):(this.has.text||this.has.headline)&&(T(this._el.container,"tl-slide-text-only"),this._text.addTo(this._el.content)):(T(this._el.container,"tl-slide-media-only"),this._media.addTo(this._el.content)),this.onLoaded()}},{key:"_initEvents",value:function(){}},{key:"_updateBackgroundDisplay",value:function(){this._background_media&&this._background_media._state.loaded&&(this._el.background.style.backgroundImage="url('"+this._background_media.getImageURL(this.options.width,this.options.height)+"')")}}])}();F(Yt,Re,ce,he);var Kt=function(){function e(t,i,n){Object(vi["a"])(this,e),this._el={container:{},content_container:{},icon:{},title:{},description:{}},this.mediatype={},this.data={title:"Navigation",description:"Description",date:"Date"},this.options={direction:"previous"},this.animator=null,L(this.options,i),L(this.data,t),this._el.container=x("div","tl-slidenav-"+this.options.direction),d&&this._el.container.setAttribute("ontouchstart"," "),this._initLayout(),this._initEvents(),n&&n.appendChild(this._el.container)}return Object(gi["a"])(e,[{key:"update",value:function(e){var t={title:"",description:"",date:e.getFormattedDate()};e.data.text&&e.data.text.headline&&(t.title=e.data.text.headline),this._update(t)}},{key:"setColor",value:function(e){this._el.content_container.className=e?"tl-slidenav-content-container tl-slidenav-inverted":"tl-slidenav-content-container"}},{key:"_onMouseClick",value:function(){this.fire("clicked",this.options)}},{key:"_update",value:function(e){this.data=L(this.data,e),this._el.title.innerHTML=G(this.data.title),this._el.description.innerHTML=G(this.data.date)}},{key:"_initLayout",value:function(){this._el.content_container=x("div","tl-slidenav-content-container",this._el.container),this._el.icon=x("div","tl-slidenav-icon",this._el.content_container),this._el.title=x("div","tl-slidenav-title",this._el.content_container),this._el.description=x("div","tl-slidenav-description",this._el.content_container),this._el.icon.innerHTML="&nbsp;",this._update()}},{key:"_initEvents",value:function(){pe.addListener(this._el.container,"click",this._onMouseClick,this)}}])}();F(Kt,he,ce);var Zt=function(){function e(t,i,n,a){Object(vi["a"])(this,e),a&&this.setLanguage(a),this._el={container:{},background:{},slider_container_mask:{},slider_container:{},slider_item_container:{}},this._nav={},this._nav.previous={},this._nav.next={},this.slide_spacing=0,this._slides=[],this._swipable,this.preloadTimer,this._message,this.current_id="",this.data={},this.options={id:"",layout:"portrait",width:600,height:600,default_bg_color:{r:255,g:255,b:255},slide_padding_lr:40,start_at_slide:1,slide_default_fade:"0%",duration:1e3,ease:oe,dragging:!0,trackResize:!0},"object"==Object(wi["a"])(t)?(this._el.container=t,this.options.id=z(6,"tl")):(this.options.id=t,this._el.container=w(t)),this._el.container.id||(this._el.container.id=this.options.id),this.animator=null,L(this.options,n),L(this.data,i)}return Object(gi["a"])(e,[{key:"init",value:function(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this.goTo(this.options.start_at_slide),this._onLoaded()}},{key:"_addSlide",value:function(e){e.addTo(this._el.slider_item_container),e.on("added",this._onSlideAdded,this),e.on("background_change",this._onBackgroundChange,this)}},{key:"_createSlide",value:function(e,t,i){var n=new Yt(e,this.options,t,this.getLanguage());this._addSlide(n),i<0?this._slides.push(n):this._slides.splice(i,0,n)}},{key:"_createSlides",value:function(e){for(var t=0;t<e.length;t++)""==e[t].unique_id&&(e[t].unique_id=z(6,"tl-slide")),this._createSlide(e[t],!1,-1)}},{key:"_removeSlide",value:function(e){e.removeFrom(this._el.slider_item_container),e.off("added",this._onSlideRemoved,this),e.off("background_change",this._onBackgroundChange)}},{key:"_destroySlide",value:function(e){this._removeSlide(this._slides[e]),this._slides.splice(e,1)}},{key:"_findSlideIndex",value:function(e){var t=e;return("string"==typeof e||e instanceof String)&&(t=U(e,this._slides,"unique_id")),t}},{key:"updateDisplay",value:function(e,t,i,n){var a,r;r=void 0===n?this.options.layout:n,this.options.layout=r,this.options.width=e||this._el.container.offsetWidth,this.options.height=t||this._el.container.offsetHeight,this.slide_spacing=2*this.options.width,a=this.options.height/2,this._nav.next.setPosition({top:a}),this._nav.previous.setPosition({top:a});for(var o=0;o<this._slides.length;o++)this._slides[o].updateDisplay(this.options.width,this.options.height,r),this._slides[o].setPosition({left:this.slide_spacing*o,top:0});this.goToId(this.current_id,!0,!0)}},{key:"createSlide",value:function(e,t){this._createSlide(e,!1,t)}},{key:"createSlides",value:function(e){this._createSlides(e)}},{key:"destroySlide",value:function(e){this._destroySlide(e)}},{key:"destroySlideId",value:function(e){this.destroySlide(this._findSlideIndex(e))}},{key:"goTo",value:function(e,t,i){e=parseInt(e),isNaN(e)&&(e=0);var n=this;this.changeBackground({color_value:"",image:!1}),this.preloadTimer&&clearTimeout(this.preloadTimer);for(var a=0;a<this._slides.length;a++)this._slides[a].setActive(!1);e<this._slides.length&&e>=0&&(this.current_id=this._slides[e].data.unique_id,this.animator&&this.animator.stop(),this._swipable&&this._swipable.stopMomentum(),t?(this._el.slider_container.style.left=-this.slide_spacing*e+"px",this._onSlideChange(i)):this.animator=le(this._el.slider_container,{left:-this.slide_spacing*e+"px",duration:this.options.duration,easing:this.options.ease,complete:this._onSlideChange(i)}),this._slides[e].setActive(!0),this._slides[e+1]?(this.showNav(this._nav.next,!0),this._nav.next.update(this._slides[e+1])):this.showNav(this._nav.next,!1),this._slides[e-1]?(this.showNav(this._nav.previous,!0),this._nav.previous.update(this._slides[e-1])):this.showNav(this._nav.previous,!1),this.preloadTimer=setTimeout((function(){n.preloadSlides(e)}),this.options.duration))}},{key:"goToId",value:function(e,t,i){this.goTo(this._findSlideIndex(e),t,i)}},{key:"preloadSlides",value:function(e){this._slides[e+1]&&(this._slides[e+1].loadMedia(),this._slides[e+1].scrollToTop()),this._slides[e+2]&&(this._slides[e+2].loadMedia(),this._slides[e+2].scrollToTop()),this._slides[e-1]&&(this._slides[e-1].loadMedia(),this._slides[e-1].scrollToTop()),this._slides[e-2]&&(this._slides[e-2].loadMedia(),this._slides[e-2].scrollToTop())}},{key:"next",value:function(){var e=this._findSlideIndex(this.current_id);e+1<this._slides.length?this.goTo(e+1):this.goTo(e)}},{key:"previous",value:function(){var e=this._findSlideIndex(this.current_id);e-1>=0?this.goTo(e-1):this.goTo(e)}},{key:"showNav",value:function(e,t){this.options.width<=500&&d||(t?e.show():e.hide())}},{key:"changeBackground",value:function(e){var t={r:256,g:256,b:256};e.color_value&&""!=e.color_value?(t=M(e.color_value))||(R("Invalid color value "+e.color_value),t=this.options.default_bg_color):(t=this.options.default_bg_color,e.color_value="rgb("+t.r+" , "+t.g+", "+t.b+")"),t.r,t.g,t.b,this._el.background.style.backgroundImage="none",e.color_value?this._el.background.style.backgroundColor=e.color_value:this._el.background.style.backgroundColor="transparent",t.r<255||t.g<255||t.b<255||e.image?(this._nav.next.setColor(!0),this._nav.previous.setColor(!0)):(this._nav.next.setColor(!1),this._nav.previous.setColor(!1))}},{key:"_updateDrawSlides",value:function(){for(var e=this.options.layout,t=0;t<this._slides.length;t++)this._slides[t].updateDisplay(this.options.width,this.options.height,e),this._slides[t].setPosition({left:this.slide_spacing*t,top:0});this.goToId(this.current_id,!0,!1)}},{key:"_initLayout",value:function(){T(this._el.container,"tl-storyslider"),this._el.slider_container_mask=x("div","tl-slider-container-mask",this._el.container),this._el.background=x("div","tl-slider-background tl-animate",this._el.container),this._el.slider_container=x("div","tl-slider-container tlanimate",this._el.slider_container_mask),this._el.slider_item_container=x("div","tl-slider-item-container",this._el.slider_container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._nav.previous=new Kt({title:"Previous",description:"description"},{direction:"previous"}),this._nav.next=new Kt({title:"Next",description:"description"},{direction:"next"}),this._nav.next.addTo(this._el.container),this._nav.previous.addTo(this._el.container),this._el.slider_container.style.left="0px",b&&(this._swipable=new $t(this._el.slider_container_mask,this._el.slider_container,{enable:{x:!0,y:!1},snap:!0}),this._swipable.enable(),this._message=new De(this._el.container,{message_class:"tl-message-full",message_icon_class:"tl-icon-swipe-left"},this.getLanguage()),this._message.updateMessage(this._("swipe_to_navigate")),this._message.addTo(this._el.container))}},{key:"_initEvents",value:function(){this._nav.next.on("clicked",this._onNavigation,this),this._nav.previous.on("clicked",this._onNavigation,this),this._message&&this._message.on("clicked",this._onMessageClick,this),this._swipable&&(this._swipable.on("swipe_left",this._onNavigation,this),this._swipable.on("swipe_right",this._onNavigation,this),this._swipable.on("swipe_nodirection",this._onSwipeNoDirection,this))}},{key:"_initData",value:function(){this.data.title&&this._createSlide(this.data.title,!0,-1),this._createSlides(this.data.events)}},{key:"_onBackgroundChange",value:function(e){var t=this._findSlideIndex(this.current_id),i=this._slides[t].getBackground();this.changeBackground(e),this.fire("colorchange",i)}},{key:"_onMessageClick",value:function(e){this._message.hide()}},{key:"_onSwipeNoDirection",value:function(e){this.goToId(this.current_id)}},{key:"_onNavigation",value:function(e){"next"==e.direction||"left"==e.direction?this.next():"previous"!=e.direction&&"right"!=e.direction||this.previous(),this.fire("nav_"+e.direction,this.data)}},{key:"_onSlideAdded",value:function(e){R("slideadded"),this.fire("slideAdded",this.data)}},{key:"_onSlideRemoved",value:function(e){this.fire("slideRemoved",this.data)}},{key:"_onSlideChange",value:function(e){e||this.fire("change",{unique_id:this.current_id})}},{key:"_onMouseClick",value:function(e){}},{key:"_fireMouseEvent",value:function(e){if(this._loaded){var t=e.type;t="mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,this.hasEventListeners(t)&&("contextmenu"===t&&pe.preventDefault(e),this.fire(t,{latlng:"something",layerPoint:"something else"}))}}},{key:"_onLoaded",value:function(){this.fire("loaded",this.data)}}])}();F(Zt,Re,ce);var Qt=function(){function e(t,i,n){Object(vi["a"])(this,e),this._el={parent:{},container:{},button_backtostart:{},button_zoomin:{},button_zoomout:{},arrow:{},line:{},coverbar:{},grip:{}},this.collapsed=!1,this._el.container="object"==Object(wi["a"])(t)?t:w(t),i&&(this._el.parent=i),this.options={width:600,height:600,duration:1e3,ease:oe,menubar_default_y:0},this.animator={},L(this.options,n),this._initLayout(),this._initEvents()}return Object(gi["a"])(e,[{key:"show",value:function(e){this.options.duration}},{key:"hide",value:function(e){}},{key:"toogleZoomIn",value:function(e){e?O(this._el.button_zoomin,"tl-menubar-button-inactive"):T(this._el.button_zoomin,"tl-menubar-button-inactive")}},{key:"toogleZoomOut",value:function(e){e?O(this._el.button_zoomout,"tl-menubar-button-inactive"):T(this._el.button_zoomout,"tl-menubar-button-inactive")}},{key:"setSticky",value:function(e){this.options.menubar_default_y=e}},{key:"setColor",value:function(e){this._el.container.className=e?"tl-menubar tl-menubar-inverted":"tl-menubar"}},{key:"updateDisplay",value:function(e,t,i,n){this._updateDisplay(e,t,i,n)}},{key:"_onButtonZoomIn",value:function(e){this.fire("zoom_in",e)}},{key:"_onButtonZoomOut",value:function(e){this.fire("zoom_out",e)}},{key:"_onButtonBackToStart",value:function(e){this.fire("back_to_start",e)}},{key:"_initLayout",value:function(){this._el.button_zoomin=x("span","tl-menubar-button",this._el.container),this._el.button_zoomout=x("span","tl-menubar-button",this._el.container),this._el.button_backtostart=x("span","tl-menubar-button",this._el.container),d&&this._el.container.setAttribute("ontouchstart"," "),this._el.button_backtostart.innerHTML="<span class='tl-icon-goback'></span>",this._el.button_zoomin.innerHTML="<span class='tl-icon-zoom-in'></span>",this._el.button_zoomout.innerHTML="<span class='tl-icon-zoom-out'></span>"}},{key:"_initEvents",value:function(){pe.addListener(this._el.button_backtostart,"click",this._onButtonBackToStart,this),pe.addListener(this._el.button_zoomin,"click",this._onButtonZoomIn,this),pe.addListener(this._el.button_zoomout,"click",this._onButtonZoomOut,this)}},{key:"_updateDisplay",value:function(e,t,i){e&&(this.options.width=e),t&&(this.options.height=t)}}])}();F(Qt,he,ce);var Xt=null;if(document){var ei=document.getElementsByTagName("script");ei&&ei.length>0&&(Xt=ei[ei.length-1].src)}var ti=function(){function e(t,i,n){if(Object(vi["a"])(this,e),n||(n={}),this.ready=!1,this._el={container:w(t),storyslider:{},timenav:{},menubar:{}},n.lang&&!n.language&&(n.language=n.lang),this.language=Ee,this._storyslider={},this._timenav={},this._menubar={},this._loaded={storyslider:!1,timenav:!1},this.config=null,this.options={script_path:"https://cdn.knightlab.com/libs/timeline3/latest/js/",height:this._el.container.offsetHeight,width:this._el.container.offsetWidth,debug:!1,font:"default",is_embed:!1,is_full_embed:!1,hash_bookmark:!1,default_bg_color:{r:255,g:255,b:255},scale_factor:2,layout:"landscape",timenav_position:"bottom",optimal_tick_width:60,base_class:"tl-timeline",timenav_height:null,timenav_height_percentage:25,timenav_mobile_height_percentage:40,timenav_height_min:175,marker_height_min:30,marker_width_min:100,marker_padding:5,start_at_slide:0,start_at_end:!1,menubar_height:0,skinny_size:650,medium_size:800,use_bc:!1,duration:1e3,ease:oe,dragging:!0,trackResize:!0,map_type:"stamen:toner-lite",slide_padding_lr:100,slide_default_fade:"0%",zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89],language:"en",ga_property_id:null,track_events:["back_to_start","nav_next","nav_previous","zoom_in","zoom_out"],theme:null,sheets_proxy:"https://sheets-proxy.knightlab.com/proxy/",soundcite:!1},this.animator_timenav=null,this.animator_storyslider=null,this.animator_menubar=null,this.message=new De(this._el.container,{message_class:"tl-message-full"}),"string"==typeof n.default_bg_color){var a=M(n.default_bg_color);a?n.default_bg_color=a:(delete n.default_bg_color,R("Invalid default background color. Ignoring."))}var r,o;L(this.options,n),this.options.script_path||(this.options.script_path=this.determineScriptPath()),n.soundcite&&this.on("ready",(function(){R("Loading Soundcite resources "),vt("https://cdn.knightlab.com/libs/soundcite/latest/css/player.css"),gt("https://cdn.knightlab.com/libs/soundcite/latest/js/soundcite.min.js")})),this._loadStyles(),document.addEventListener("keydown",(r=this,function(e){if(r.config){var t=e.key,i=r._getSlideIndex(self.current_id),n=r.config.events.length-1,a=r.config.title?n+1:n;"ArrowLeft"==t?0!=i&&r.goToPrev():"ArrowRight"==t&&i!=a&&r.goToNext()}})),window.addEventListener("resize",function(e){this.updateDisplay()}.bind(this)),this.options.debug&&(o=console.log,E.push(o)),T(this._el.container,"tl-timeline"),this.options.is_embed&&T(this._el.container,"tl-timeline-embed"),this.options.is_full_embed&&T(this._el.container,"tl-timeline-full-embed"),this._loadLanguage(i)}return Object(gi["a"])(e,[{key:"_loadStyles",value:function(){var e=null,t=null;if(this.options.font&&(0==this.options.font.indexOf("http")||this.options.font.match(/\.css$/)))e=this.options.font;else if(this.options.font){var i="../css/fonts/font."+this.options.font.toLowerCase()+".css";e=new URL(i,this.options.script_path).toString()}if(e&&vt(e),this.options.theme&&(0==this.options.theme.indexOf("http")||this.options.theme.match(/\.css$/)))t=this.options.theme;else if(this.options.theme){var n="../css/themes/timeline.theme."+this.options.theme.toLowerCase()+".css";t=new URL(n,this.options.script_path).toString()}t&&vt(t)}},{key:"_loadLanguage",value:function(e){try{var t=this.options.language,i=this.options.script_path;this.language=new Me(t,i),this.message.setLanguage(this.language),this.options.language=this.language,this.showMessage(this._("loading_timeline")),this._initData(e)}catch(e){this.showMessage(this._translateError(e))}}},{key:"_initData",value:function(e){"string"==typeof e?function(){var e=Object(u["a"])(Object(l["a"])().mark((function e(t,i){var n,a,r,o,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,a={},"function"==typeof i?n=i:"object"==Object(wi["a"])(i)&&(a=i,n=i.callback,"function"==typeof a.callback&&(n=a.callback)),n){e.next=3;break}throw new C("Second argument to makeConfig must be either a function or an object which includes a 'callback' property with a 'function' type value");case 3:if(!Xe(t)){e.next=17;break}return e.prev=4,e.next=7,it(t,a);case 7:o=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](4),e.abrupt("return",(r=new $e,"NetworkError"==e.t0.name?r.logError(new C("network_err")):"TLError"==e.t0.name?r.logError(e.t0):r.logError(new C("unknown_read_err",e.t0.name)),void n(r)));case 13:if(r=new $e(o),o.errors)for(s=0;s<o.errors.length;s++)r.logError(o.errors[s]);n(r),e.next=18;break;case 17:ge({url:t,dataType:"json",success:function(e){try{r=new $e(e)}catch(e){(r=new $e).logError(e)}n(r)},error:function(e,t,i){r=new $e,i="parsererror"==t?new C("invalid_url_err"):new C("unknown_read_err",t),r.logError(i),n(r)}});case 18:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,i){return e.apply(this,arguments)}}()(e,{callback:function(e){this.setConfig(e)}.bind(this),sheets_proxy:this.options.sheets_proxy}):$e==e.constructor?this.setConfig(e):this.setConfig(new $e(e))}},{key:"_translateError",value:function(e){return e.hasOwnProperty("stack")&&R(e.stack),e.message_key?this._(e.message_key)+(e.detail?" ["+e.detail+"]":""):e}},{key:"showMessage",value:function(e){this.message?this.message.updateMessage(e):(R("No message display available."),R(e))}},{key:"determineScriptPath",value:function(){var e=null;if(Xt)e=Xt;else{var t=document.getElementById("timeline-script-tag");t&&(e=t.src)}if(!e)for(var i=document.getElementsByTagName("script"),n=i.length-1;n>=0;n--)if(i[n].src){e=i[n].src;break}return e?e.substr(0,e.lastIndexOf("/")+1):""}},{key:"setConfig",value:function(e){if(this.config=e,this.config.isValid()&&(this.config.validate(),this._validateOptions()),this.config.isValid())try{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this._onDataLoaded.bind(this)):this._onDataLoaded()}catch(e){this.showMessage("<strong>"+this._("error")+":</strong> "+this._translateError(e))}else{for(var t=[],i=0,n=this.config.getErrors();i<n.length;i++)t.push(this._translateError(n[i]));this.showMessage("<strong>"+this._("error")+":</strong> "+t.join("<br>"))}}},{key:"_onDataLoaded",value:function(){var e=this;this.fire("dataloaded"),this._initLayout(),this._initEvents(),this._initAnalytics(),this.message&&this.message.hide(),new IntersectionObserver(function(t,i){t.reduce((function(e,t){return e||t.isIntersecting}),!1)&&e.updateDisplay()}.bind(this)).observe(this._el.container),this.ready=!0,this.fire("ready")}},{key:"_initLayout",value:function(){this.message.removeFrom(this._el.container),this._el.container.innerHTML="","top"==this.options.timenav_position?(this._el.timenav=x("div","tl-timenav",this._el.container),this._el.storyslider=x("div","tl-storyslider",this._el.container)):(this._el.storyslider=x("div","tl-storyslider",this._el.container),this._el.timenav=x("div","tl-timenav",this._el.container)),this._el.menubar=x("div","tl-menubar",this._el.container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.timenav_height=this._calculateTimeNavHeight(this.options.timenav_height),this._timenav=new Jt(this._el.timenav,this.config,this.options,this.language),this._timenav.on("loaded",this._onTimeNavLoaded,this),this._timenav.options.height=this.options.timenav_height,this._timenav.init(),this.options.initial_zoom&&this.setZoom(this.options.initial_zoom),this._storyslider=new Zt(this._el.storyslider,this.config,this.options,this.language),this._storyslider.on("loaded",this._onStorySliderLoaded,this),this._storyslider.init(),this._menubar=new Qt(this._el.menubar,this._el.container,this.options),"portrait"==this.options.layout?this.options.storyslider_height=this.options.height-this.options.timenav_height-1:this.options.storyslider_height=this.options.height-1,this._updateDisplay(this._timenav.options.height,!0,2e3)}},{key:"_initEvents",value:function(){this._timenav.on("change",this._onTimeNavChange,this),this._timenav.on("zoomtoggle",this._onZoomToggle,this),this._storyslider.on("change",this._onSlideChange,this),this._storyslider.on("colorchange",this._onColorChange,this),this._storyslider.on("nav_next",this._onStorySliderNext,this),this._storyslider.on("nav_previous",this._onStorySliderPrevious,this),this._menubar.on("zoom_in",this._onZoomIn,this),this._menubar.on("zoom_out",this._onZoomOut,this),this._menubar.on("back_to_start",this._onBackToStart,this)}},{key:"_onColorChange",value:function(e){this.fire("color_change",{unique_id:this.current_id},this)}},{key:"_onSlideChange",value:function(e){this.current_id!=e.unique_id&&(this.current_id=e.unique_id,this._timenav.goToId(this.current_id),this._onChange(e))}},{key:"_onTimeNavChange",value:function(e){this.current_id!=e.unique_id&&(this.current_id=e.unique_id,this._storyslider.goToId(this.current_id),this._onChange(e))}},{key:"_onZoomToggle",value:function(e){"in"==e.zoom?this._menubar.toogleZoomIn(e.show):"out"==e.zoom&&this._menubar.toogleZoomOut(e.show)}},{key:"_onChange",value:function(e){this.fire("change",{unique_id:this.current_id},this),this.options.hash_bookmark&&this.current_id&&this._updateHashBookmark(this.current_id)}},{key:"_onBackToStart",value:function(e){this._storyslider.goTo(0),this.fire("back_to_start",{unique_id:this.current_id},this)}},{key:"_onZoomIn",value:function(e){this._timenav.zoomIn(),this.fire("zoom_in",{zoom_level:this._timenav.options.scale_factor},this)}},{key:"_onZoomOut",value:function(e){this._timenav.zoomOut(),this.fire("zoom_out",{zoom_level:this._timenav.options.scale_factor},this)}},{key:"_onTimeNavLoaded",value:function(){this._loaded.timenav=!0,this._onLoaded()}},{key:"_onStorySliderLoaded",value:function(){this._loaded.storyslider=!0,this._onLoaded()}},{key:"_onStorySliderNext",value:function(e){this.fire("nav_next",e)}},{key:"_onStorySliderPrevious",value:function(e){this.fire("nav_previous",e)}},{key:"_updateDisplay",value:function(e,t,i){var n,a=this.options.duration,r=this.options.base_class,o=0;i&&(a=i),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.width<=this.options.skinny_size?(r+=" tl-skinny",this.options.layout="portrait"):this.options.width<=this.options.medium_size?(r+=" tl-medium",this.options.layout="landscape"):this.options.layout="landscape",b&&(this.options.layout=(n="portrait",window.innerWidth>window.innerHeight&&(n="landscape"),Math.abs(window.orientation),n)),d?(r+=" tl-mobile",this.options.timenav_height=this._calculateTimeNavHeight(e,this.options.timenav_mobile_height_percentage)):this.options.timenav_height=this._calculateTimeNavHeight(e),"portrait"==this.options.layout?r+=" tl-layout-portrait":r+=" tl-layout-landscape",this.options.storyslider_height=this.options.height-this.options.timenav_height,o="top"==this.options.timenav_position?Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-19.5:Math.round(this.options.storyslider_height+1+Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-17.5),t?(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this.animator_storyslider&&this.animator_storyslider.stop(),this.animator_storyslider=le(this._el.storyslider,{height:this.options.storyslider_height+"px",duration:a/2,easing:re}),this.animator_menubar&&this.animator_menubar.stop(),this.animator_menubar=le(this._el.menubar,{top:o+"px",duration:a/2,easing:re})):(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this._el.storyslider.style.height=this.options.storyslider_height+"px",this._el.menubar.style.top=o+"px"),this.message&&this.message.updateDisplay(this.options.width,this.options.height),this._timenav.updateDisplay(this.options.width,this.options.timenav_height,t),this._storyslider.updateDisplay(this.options.width,this.options.storyslider_height,t,this.options.layout),"rtl"==this.options.language.direction&&(r+=" tl-rtl"),this._el.container.className=r}},{key:"_calculateTimeNavHeight",value:function(e,t){var i=0;return e?i=e:(this.options.timenav_height_percentage||t)&&(i=t?Math.round(this.options.height/100*t):Math.round(this.options.height/100*this.options.timenav_height_percentage)),this._timenav.ready&&this.options.timenav_height_min<this._timenav.getMinimumHeight()&&(this.options.timenav_height_min=this._timenav.getMinimumHeight()),i<this.options.timenav_height_min&&(i=this.options.timenav_height_min),i-2*this.options.marker_padding}},{key:"_validateOptions",value:function(){for(var e=["timenav_height","timenav_height_min","marker_height_min","marker_width_min","marker_padding","start_at_slide","slide_padding_lr"],t=0;t<e.length;t++){var i=e[t],n=this.options[i],a=!0;"number"==typeof n?a=n==parseInt(n):"string"==typeof n&&(a=n.match(/^\s*(\-?\d+)?\s*$/)),a||this.config.logError({message_key:"invalid_integer_option",detail:i})}}},{key:"_getSlideIndex",value:function(e){if(this.config){if(this.config.title&&this.config.title.unique_id==e)return 0;for(var t=0;t<this.config.events.length;t++)if(e==this.config.events[t].unique_id)return this.config.title?t+1:t}return-1}},{key:"_getEventIndex",value:function(e){for(var t=0;t<this.config.events.length;t++)if(e==this.config.events[t].unique_id)return t;return-1}},{key:"_onLoaded",value:function(){var e;this._loaded.storyslider&&this._loaded.timenav&&(this.fire("loaded",this.config),this.options.hash_bookmark&&""!=window.location.hash?this.goToId(window.location.hash.replace("#event-","")):(null!=(e=this.options.start_at_end)&&(1==e||"true"==String(e).toLowerCase()||1==Number(e))||this.options.start_at_slide>this.config.events.length?this.goToEnd():this.goTo(this.options.start_at_slide),this.options.hash_bookmark&&this._updateHashBookmark(this.current_id)))}},{key:"_updateHashBookmark",value:function(e){var t="#event-"+e.toString();window.history.replaceState(null,"Browsing TimelineJS",t),this.fire("hash_updated",{unique_id:this.current_id,hashbookmark:"#event-"+e.toString()},this)}},{key:"zoomIn",value:function(){this._timenav.zoomIn()}},{key:"zoomOut",value:function(){this._timenav.zoomOut()}},{key:"setZoom",value:function(e){this._timenav.setZoom(e)}},{key:"goToId",value:function(e){this.current_id!=e&&(this.current_id=e,this._timenav.goToId(this.current_id),this._storyslider.goToId(this.current_id,!1,!0),this.fire("change",{unique_id:this.current_id},this))}},{key:"goTo",value:function(e){this.config.title?0==e?this.goToId(this.config.title.unique_id):this.goToId(this.config.events[e-1].unique_id):this.goToId(this.config.events[e].unique_id)}},{key:"goToStart",value:function(){this.goTo(0)}},{key:"goToEnd",value:function(){var e=this.config.events.length-1;this.goTo(this.config.title?e+1:e)}},{key:"goToPrev",value:function(){this.goTo(this._getSlideIndex(this.current_id)-1)}},{key:"goToNext",value:function(){this.goTo(this._getSlideIndex(this.current_id)+1)}},{key:"add",value:function(e){var t=this.config.addEvent(e),i=this._getEventIndex(t),n=this.config.events[i];this._storyslider.createSlide(n,this.config.title?i+1:i),this._storyslider._updateDrawSlides(),this._timenav.createMarker(n,i),this._timenav._updateDrawTimeline(!1),this.fire("added",{unique_id:t})}},{key:"remove",value:function(e){if(e>=0&&e<this.config.events.length){this.config.events[e].unique_id==this.current_id&&(e<this.config.events.length-1?this.goTo(e+1):this.goTo(e-1));var t=this.config.events.splice(e,1);delete this.config.event_dict[t[0].unique_id],this._storyslider.destroySlide(this.config.title?e+1:e),this._storyslider._updateDrawSlides(),this._timenav.destroyMarker(e),this._timenav._updateDrawTimeline(!1),this.fire("removed",{unique_id:t[0].unique_id})}}},{key:"removeId",value:function(e){this.remove(this._getEventIndex(e))}},{key:"getData",value:function(e){if(this.config.title){if(0==e)return this.config.title;if(e>0&&e<=this.config.events.length)return this.config.events[e-1]}else if(e>=0&&e<this.config.events.length)return this.config.events[e];return null}},{key:"getDataById",value:function(e){return this.getData(this._getSlideIndex(e))}},{key:"getSlide",value:function(e){return e>=0&&e<this._storyslider._slides.length?this._storyslider._slides[e]:null}},{key:"getSlideById",value:function(e){return this.getSlide(this._getSlideIndex(e))}},{key:"getCurrentSlide",value:function(){return this.getSlideById(this.current_id)}},{key:"updateDisplay",value:function(){this.ready?this._updateDisplay():R("updateDisplay called but timeline is not in ready state")}},{key:"_initGoogleAnalytics",value:function(){var e,t,i,n,a,r;e=window,t=document,i="script",n="ga",e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(i),r=t.getElementsByTagName(i)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(a,r),ga("create",this.options.ga_property_id,"auto"),ga("set","anonymizeIp",!0)}},{key:"_initAnalytics",value:function(){if(null!==this.options.ga_property_id){this._initGoogleAnalytics(),ga("send","pageview");for(var e=this.options.track_events,t=0;t<e.length;t++){var i=e[t];this.addEventListener(i,(function(e){ga("send","event",e.type,"clicked")}))}}}}])}();F(ti,Re,ce),i(1)}])),ji={name:"Timeline",data:function(){return{options:{hash_bookmark:!0,zoom_sequence:[.1,1,2,3,5,8,13,21,34,55,89],initial_zoom:0,scale_factor:1,marker_height_min:50,marker_width_min:150,timenav_height_min:300,dragging:!0,optimal_tick_width:150}}},computed:Object(d["c"])(["timelineData"]),methods:Object(h["a"])(Object(h["a"])({},Object(d["b"])(["fetchTimelineData"])),{},{loadTimeline:function(){var e=Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTimelineData();case 2:new xi.Timeline("timeline-embed",this.timelineData,this.options);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),mounted:function(){this.$nextTick((function(){this.loadTimeline()}))}},Si=ji,Ti=(i("9d08"),Object(m["a"])(Si,pi,mi,!1,null,null,null)),Oi=Ti.exports,Ci={name:"TimelinePage",components:{TheBreadcrumbs:ee,Timeline:Oi},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Ai=Ci,Mi=Object(m["a"])(Ai,di,fi,!1,null,null,null),Li=Mi.exports,Pi=function(){var e=this,t=e._self._c;return t("main",{staticClass:"secondary"},[t("div",{staticClass:"container"},[t("the-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),t("h1",{staticClass:"page-title"},[e._v("Privacy & Cookie Policy")]),t("p"),t("p",[e._v("King’s College London (KCL) through its department King's Digital Lab (KDL) is committed to protecting your\n      privacy.")]),t("p",[e._v("This statement is made in the light of the requirements of the Data Protection Act 1998 and the General Data\n      Protection Regulation, in order to alert you to the data processing practices which will govern the processing\n      of your data.")]),t("p"),e._m(0),t("p"),t("p",[e._v("If you have any queries about this statement please contact:")]),t("p"),e._m(1),t("p"),t("h2",[e._v("1 How do we collect information?")]),t("p"),t("p",[e._v("We will obtain personal information from you when you enquire about our activities or report a problem with a\n      service that we maintain through through direct contact via an e-mail or conventional mail or otherwise provide\n      us with personal information. We\n      may also receive information about you from third parties, for example from a friend who wants to tell you about\n      our website.")]),t("p"),t("h2",[e._v("2 What information do we collect?")]),t("p"),t("p",[e._v("The types of information collected might include names, e-mail address, institutional postal address, telephone\n      number and your research interests. Via third-parties, for instance Google, we will have limited access to see\n      IP addresses from which our website has been accessed (see Cookies, below).")]),t("p"),t("h2",[e._v("3 How do we use this information?")]),t("p"),e._m(2),t("p",[e._v("KDL may use your personal data to resolve technical issues you encounter, to respond to your requests for\n      assistance, and to repair and improve our service.")]),t("p"),t("h2",[e._v("4 How long do we retain this information for?")]),e._m(3),t("h2",[e._v("5 Do we use 'Cookies'?")]),t("p"),t("p",[e._v("Cookies are text files, which identify a user's computer to our server. Cookies in themselves do not identify\n      the individual user, just the computer used. The KDL website uses cookies for collecting user information.")]),t("p"),t("p",[e._v("The KDL website uses persistent cookies - these are used to track returning visitors. They expire after 12\n      months and enable us to compare website traffic from month to month.")]),t("h2",[e._v("Cookies used at sharc.kcl.ac.uk")]),t("h3",[e._v("Session cookies")]),e._m(4),t("p"),e._m(5),t("p"),e._m(6),e._m(7),t("h3",[e._v("Persistent cookies")]),t("p"),e._m(8),t("p"),t("p",[e._v("These cookies allow Google Analytics to track the usage of the site. ")]),t("p"),e._m(9),t("p",[e._v("These shorter lived cookies persist for 2 years, 24 hours and 1 minute respectively.")]),t("p"),t("p",[e._v("We use Google Analytics to better understand how our customers navigate to and through our website and how\n      often they return. Google Analytics help us to track the effectiveness of digital marketing (advertising)\n      campaigns.  Find out more about the Google Cookies from Google support.")]),t("h3",[e._v("Blocking cookies")]),e._m(10),t("p"),e._m(11),t("h2",[e._v("6 How do we protect personal information?")]),t("p"),t("p",[e._v("We also take appropriate measures to ensure that the information disclosed to us is kept secure, accurate and\n      up to date and kept only for so long as is necessary for the purposes for which it is used. These measures\n      include, but are not limited to, password protected server access, limited firewall access to servers, and a\n      regular server and software update and patch cycle to mitigate against evolving security risks.")]),t("p"),t("h2",[e._v("7 Will we disclose the information we collect to outside parties?")]),t("p"),t("p",[e._v("We may store some of your information with external service providers.")]),t("p"),e._m(12),e._m(13),t("p"),t("p"),t("p"),t("p",[e._v("We may also need to disclose your information if required to do so by law.")]),t("p"),t("h2",[e._v("8 Your consent")]),t("p"),t("p",[e._v("By providing us with your personal data, including sensitive personal data such as on your health, you consent\n      to the collection and use of any information you provide in accordance with the above purposes and this privacy\n      statement.")]),t("p"),t("p"),t("p"),t("p"),t("p"),e._m(14),t("p"),t("h2",[e._v("9 Right of access")]),t("p"),e._m(15),t("p"),t("p"),t("h2",[e._v("10 Changes")]),t("p",[e._v("If your personal details change, please help us to keep your information up to date by notifying us at the\n      above address.")]),t("p"),t("p",[e._v("We reserve the right to amend this privacy statement. If we do so, we will post notice of the change on our\n      website and you will be deemed to have accepted such changes.")]),t("p"),t("p"),t("h2",[e._v("11 Marketing")]),t("p"),t("p",[e._v("If you register an interest with KDL you will be given the opportunity to opt in to receive future marketing\n      communications. This is done at the point where your personal information is first collected.")]),t("p"),t("p",[e._v("If you register to attend an event or you apply to King’s College London, your personal information might be\n      passed to us by third parties to fulfil your request. As part of this process you can opt-in to receive\n      marketing communications.")]),t("p"),t("p",[e._v("Within any marketing communications you will be provided with a simple and transparent way to unsubscribe. Any\n      changes you request to how your personal information is processed for the purposes of marketing and/or the\n      provision of service updates will be acted on promptly.")]),e._m(16),e._m(17)],1)])},Ei=[function(){var e=this,t=e._self._c;return t("p",[e._v("This privacy statement should be considered subordinate to the organisational KCL privacy statement available\n      "),t("a",{attrs:{href:"https://www.kcl.ac.uk/terms/privacy.aspx"}},[e._v("here")]),e._v(", though KDL’s direct interaction with personal data\n      is less broad.")])},function(){var e=this,t=e._self._c;return t("p",[e._v("Information Compliance team"),t("br"),t("span",[e._v("King's College London - Waterloo Campus"),t("br")]),t("span",[e._v("Room 5.20 James Clerk Maxwell Building"),t("br")]),t("span",[e._v("57 Waterloo Road"),t("br")]),t("span",[e._v("London"),t("br")]),t("span",[e._v("SE1 8WA"),t("br"),t("br")]),t("span",[e._v("email: "),t("a",{attrs:{href:"mailto:kdl-info@kcl.ac.uk"}},[e._v("kdl-info@kcl.ac.uk")])])])},function(){var e=this,t=e._self._c;return t("p",[e._v("We will use your personal information to provide you with the services, products or information you have\n      requested and for administration purposes "),t("span",[e._v("(e.g. College reporting activities)")]),t("span",[e._v(". We may need to share your information with our service providers, associated organisations and agents for these purposes.")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("In the case of research projects we will retain correspondence indefinitely, as it constitutes a record of\n      works undertaken and may be important for legitimate business purposes of demonstrating meeting contractual\n      obligations. For further information on KCL's data retention, please see this "),t("a",{attrs:{href:"https://www.kcl.ac.uk/aboutkings/orgstructure/ps/audit/records/retention/rdrs-v7.pdf"}},[e._v("document")]),t("span",{staticClass:"sendToPdfFillerEmpty"})])},function(){var e=this,t=e._self._c;return t("p",[t("span",[e._v("These cookies are deleted when you close your browser.  Nothing is retained on your computer.")]),t("br")])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("b",[e._v("csrftoken, sessionid")]),t("br")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Any cookie identified as "),t("b",[e._v("csrftoken ")]),e._v("is used for the purposes of validating forms submitted on the website\n      and no data will be retained. The cookie "),t("b",[e._v("sessionid ")]),e._v(" is necessary for the correct functioning of\n      the website. ")])},function(){var e=this,t=e._self._c;return t("p",[t("span",[e._v("These are session cookies that identifies a unique visit to the site. ")]),t("br")])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("strong",[e._v("_utma, _utmb, _utmc, _utmz")]),t("br")])])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("b",[e._v("_ga, _gid, _gat")])])])},function(){var e=this,t=e._self._c;return t("p",[t("span",[e._v("You can block cookies by activating the setting on your browser that allows you to refuse the setting of all or some cookies. We have set out below links to the 'Help' pages of some major browsers which explain how you can do this. However, if you use your browser settings to block all cookies (including essential cookies) you may not be able to access all or parts of our site.")]),t("br")])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("a",{attrs:{href:"https://support.microsoft.com/en-gb/help/17442/windows-internet-explorer-delete-manage-cookies"}},[e._v("Internet\n        Explorer")])]),t("li",[t("a",{attrs:{href:"https://support.google.com/accounts/answer/61416?co=GENIE.Platform%3DDesktop&hl=en"}},[e._v("Google\n        Chrome")])]),t("li",[t("a",{attrs:{href:"https://support.mozilla.org/en-US/kb/enable-and-disable-cookies-website-preferences"}},[e._v("Firefox")])]),t("li",[t("a",{attrs:{href:"https://support.apple.com/kb/ph21411?locale=en_US"}},[e._v("Safari")])])])},function(){var e=this,t=e._self._c;return t("p",[e._v("To ensure we provide the best user experience we may use the services of external providers for project\n      management tools and workflow. We use ActiveCollab to track project progress and record tasks and issues.\n      ActiveCollab’s security measures can be found here: "),t("a",{attrs:{href:"https://activecollab.com/security"}},[e._v("https://activecollab.com/security")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Some personal information may also be stored securely using Google's Google Drive service. Their Privacy Policy\n      can be viewed here: "),t("a",{attrs:{href:"https://policies.google.com/privacy"}},[e._v("https://policies.google.com/privacy")])])},function(){var e=this,t=e._self._c;return t("p",[t("span",[e._v("If you wish to withdraw consent for your data to be stored as described above, please contact us at the e-mail address: kdl-info@kcl.ac.uk, and we will take action to remove your details from our storage and from third-party storage if applicable. Please note that once requested, this may take up to 28 days to action fully and we cannot change cached search results that appear in search engines such as Google, Bing or Yahoo etc.")]),t("br")])},function(){var e=this,t=e._self._c;return t("p",[e._v("You have the right to ask for a copy of the information we hold about you (for which we may charge a small fee)\n      and to have any inaccuracies in your information corrected."),t("br"),t("br")])},function(){var e=this,t=e._self._c;return t("h2",[t("br")])},function(){var e=this,t=e._self._c;return t("p",[t("br")])}],Ri={name:"Secondary",components:{TheBreadcrumbs:ee},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Di=Ri,Ii=Object(m["a"])(Di,Pi,Ei,!1,null,null,null),Ni=Ii.exports;a["a"].use(P["a"]);var qi=new P["a"]({mode:"history",routes:[{path:"/",name:"home",component:V},{path:"/search",name:"search-results",component:$t},{path:"/objects",name:"objects",component:de},{path:"/objects/:id",name:"object",meta:{breadcrumb:"Objects"},component:De},{path:"/objects/rct/:reference+",name:"rct-object",meta:{breadcrumb:"Objects"},component:De},{path:"/story/:subpage",name:"story",component:rt},{path:"/connection/:subpage",name:"theme",meta:{breadcrumb:"Connections"},component:ht,props:{pageType:"editor.ThemeObjectCollection"}},{path:"/stories",name:"object-stories",component:hi},{path:"/connections",name:"connections",component:hi,props:{pageType:"editor.ThemeObjectCollection"}},{path:"/timeline",name:"timeline",component:Li},{path:"/resources",name:"resources",component:xt},{path:"/about",name:"about",component:Dt},{path:"/about/acknowledgements",name:"acknowledgements",meta:{breadcrumb:"About"},component:Xt},{path:"/resources/bibliography",name:"bibliography",meta:{breadcrumb:"Resources"},component:Xt},{path:"/resources/glossary",name:"glossary",meta:{breadcrumb:"Resources"},component:Xt},{path:"/accessibility",name:"accessibility",component:Xt},{path:"/events",name:"events",component:Xt},{path:"/privacy-policy",name:"privacy",component:Ni},{path:"/information/:id",name:"information",component:Xt},{path:"*",name:"not-found",component:ri}],scrollBehavior:function(e,t,i){return i||(e.hash?{selector:e.hash}:t.path===e.path?{}:{x:0,y:0})}}),Bi=i("fc02"),Fi=i.n(Bi),Wi=i("cee4"),zi=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL?Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL:"/api",Hi=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_TOKEN;function Ui(e){return e.indexOf("api")>-1?"/"+e.substring(e.indexOf("api")):e}var Gi={count:1490,next:"http://sharc-autharch-stg.kdl.kcl.ac.uk/api/documents/?format=json&page=2",previous:null,facets:{_filter_text:{doc_count:1490,text:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"Adaptation",doc_count:15},{key:"Book",doc_count:328},{key:"Character",doc_count:2},{key:"Character - Identification",doc_count:129},{key:"Character - Portrait",doc_count:40},{key:"Character Portrait",doc_count:21},{key:"Quotation",doc_count:23},{key:"Reading",doc_count:82},{key:"Scene depiction",doc_count:82},{key:"Text",doc_count:18},{key:"Translation",doc_count:53}]}},_filter_category:{doc_count:1490,category:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"Album",doc_count:4},{key:"Banknote",doc_count:1},{key:"Book",doc_count:486},{key:"Book of prints",doc_count:1},{key:"CD",doc_count:1},{key:"Coin",doc_count:4},{key:"Decorative Arts",doc_count:4},{key:"Decorative arts",doc_count:27},{key:"Drawing",doc_count:44},{key:"Medals",doc_count:4},{key:"Miniature",doc_count:5},{key:"None",doc_count:50},{key:"Painting",doc_count:58},{key:"Photograph",doc_count:148},{key:"Photograph Album",doc_count:1},{key:"Photograph ",doc_count:1},{key:"Print",doc_count:642},{key:"Print group",doc_count:1},{key:"Print series",doc_count:1},{key:"Print ",doc_count:2},{key:"Tapestry",doc_count:1},{key:"Works of art",doc_count:4}]}},_filter_source:{doc_count:1490,source:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"Book",doc_count:7},{key:"Scene Depiction",doc_count:1},{key:"Scene depiction",doc_count:4}]}},_filter_work:{doc_count:1490,work:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"",doc_count:9},{key:"1 & 2 Henry IV",doc_count:1},{key:"1 Henry IV",doc_count:15},{key:"1 Henry VI",doc_count:8},{key:"2 Henry IV",doc_count:17},{key:"2 Henry VI",doc_count:9},{key:"3 Henry VI",doc_count:5},{key:"A Midsummer Night's Dream",doc_count:38},{key:"All's Well That Ends Well",doc_count:5},{key:"All's Well that Ends Well",doc_count:7},{key:"All's Well the Ends Well",doc_count:1},{key:"Antony and Cleopatra",doc_count:11},{key:"Apocrypha",doc_count:3},{key:"As You Like It",doc_count:37},{key:"Character",doc_count:19},{key:"Comedy of Errors",doc_count:5},{key:"Coriolanus",doc_count:16},{key:"Cymbeline",doc_count:9},{key:"Forgeries",doc_count:16},{key:"Hamlet",doc_count:101},{key:"Henry IV part 1",doc_count:9},{key:"Henry IV part 2",doc_count:7},{key:"Henry V",doc_count:26},{key:"Henry VI part 1",doc_count:6},{key:"Henry VI part 2",doc_count:8},{key:"Henry VI part 3",doc_count:4},{key:"Henry VIII",doc_count:47},{key:"Individual",doc_count:1},{key:"Julius Caesar",doc_count:23},{key:"King John",doc_count:46},{key:"King Lear",doc_count:34},{key:"Love's Labour's Lost",doc_count:4},{key:"Love's Labours Lost",doc_count:6},{key:"Macbeth",doc_count:66},{key:"Measure for Measure",doc_count:13},{key:"Merchant of Venice",doc_count:2},{key:"Much Ado About Nothing",doc_count:33},{key:"Othello",doc_count:26},{key:"Pericles",doc_count:5},{key:"Plays",doc_count:4},{key:"Richard II",doc_count:77},{key:"Richard III",doc_count:86},{key:"Romeo and Juliet",doc_count:77},{key:"Sonnets",doc_count:10},{key:"The Comedy of Errors",doc_count:15},{key:"The Merchant of Venice",doc_count:36},{key:"The Merry Wives of Windsor",doc_count:68},{key:"The Rape of Lucrece",doc_count:1},{key:"The Taming of the Shrew",doc_count:16},{key:"The Tempest",doc_count:41},{key:"The Two Gentlemen of Verona",doc_count:6},{key:"The Winter's Tale",doc_count:65},{key:"Timon of Athens",doc_count:14},{key:"Titus Andronicus",doc_count:11},{key:"Troilus and Cressida",doc_count:8},{key:"Twelfth Night",doc_count:21},{key:"Two Gentlemen of Verona",doc_count:5},{key:"Venus and Adonis",doc_count:6}]}},_filter_acquirer:{doc_count:1490,acquirer:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"Albert, Prince Consort (1819-61)",doc_count:2},{key:"Alfred, Duke of Edinburgh (1844-1900)",doc_count:9},{key:"Antonio Ghiringhelli (1906-79) Queen Elizabeth II (b 1926), Queen of Great Britain and Northern Ireland",doc_count:1},{key:"Charles II (1630-85)",doc_count:1},{key:"David Garrick (1717-79)",doc_count:2},{key:"Edward, Prince of Wales (1841-1910)",doc_count:1},{key:"Ellen Terry (1847-1928) Queen Mary (1867-1953), consort of George V",doc_count:39},{key:"Ernest, Duke of Cumberland (1771-1851)",doc_count:1},{key:"Fred Whitehead (1853-1938) Queen Mary (1867-1953), consort of George V",doc_count:1},{key:"Frederica Charlotte, Duchess of York (1767-1820)",doc_count:1},{key:"George III (1738-1820)",doc_count:11},{key:"George IV (1762-1830)",doc_count:12},{key:"George V (1865-1936)",doc_count:1},{key:"George VI (1895-1952)",doc_count:2},{key:"George, Prince Regent (1762-1830)",doc_count:7},{key:"George, Prince of Wales (1762-1820)",doc_count:3},{key:"George, Prince of Wales (1762-1830)",doc_count:17},{key:"Harry Lloyd Verney (1872-1950)",doc_count:1},{key:"James Orchard Halliwell-Phillipps (1820-89) Queen Victoria (1819-1901), Queen of Great Britain and Ireland",doc_count:1},{key:"Joseph Leeson, 1st Earl of Milltown (1711-1783)",doc_count:1},{key:"King Charles I (1600-49), King of England, Scotland and Ireland",doc_count:1},{key:"King Edward VII (1841-1910), King of Great Britain and Ireland",doc_count:7},{key:"King George III (1738-1820), King of Great Britain and Ireland",doc_count:22},{key:"King George IV (1762-1830), King of Great Britain and Ireland",doc_count:3},{key:"King George V (1865-1936), King of Great Britain and Ireland",doc_count:12},{key:"King George VI (1895-1952), King of Great Britain and Ireland",doc_count:1},{key:"King WIlliam IV (1765-1837), King of Great Britain and Ireland",doc_count:1},{key:"King William IV (1765-1837), King of Great Britain and Ireland",doc_count:3},{key:"Louise, Duchess of Connaught (1860-1917)",doc_count:1},{key:"Prince Albert (1819-1862)",doc_count:1},{key:"Prince Albert (1819-61)",doc_count:4},{key:"Prince Albert (1819-61), Prince Consort",doc_count:1},{key:"Prince Albert (1819-61), Prince Consort to Victoria",doc_count:23},{key:"Prince Albert Edward (1841-1910), Prince of Wales",doc_count:5},{key:"Prince Arthur (1850-1942)",doc_count:1},{key:"Prince George (1762-1830), Prince Regent",doc_count:26},{key:"Prince George (1762-1830), Prince of Wales",doc_count:72},{key:"Prince George of Wales (1865-1936)",doc_count:1},{key:"Prince Philip (b 1921), Duke of Edinburgh, consort of Elizabeth II",doc_count:1},{key:"Princess Alexandra of Wales (1844-1925)",doc_count:1},{key:"Princess Elizabeth (b 1926), Duchess of Edinburgh",doc_count:10},{key:"Princess Helena (1846-1923)",doc_count:1},{key:"Princess Marie Louise of Schleswig-Holstein (1872-1956)",doc_count:2},{key:"Princess Mary (1867-1953), Princess of Wales",doc_count:1},{key:"Princess May of Teck (1867-1953)",doc_count:8},{key:"Queen Adelaide (1792-1849)",doc_count:1},{key:"Queen Caroline (1683-1747)",doc_count:1},{key:"Queen Charlotte (1744-1718)",doc_count:4},{key:"Queen Charlotte (1744-1814)",doc_count:2},{key:"Queen Charlotte (1744-1818)",doc_count:92},{key:"Queen Charlotte (1844-1818)",doc_count:1},{key:"Queen Elizabeth (1900-2002), the Queen Mother",doc_count:1},{key:"Queen Elizabeth II (b 1926), Queen of Great Britain and Northern Ireland",doc_count:54},{key:"Queen Elizabeth II (b.1926)",doc_count:10},{key:"Queen Elizabeth the Queen Mother (1900-2002)",doc_count:4},{key:"Queen Mary (1867-1953)",doc_count:5},{key:"Queen Mary (1867-1953), consort of George V",doc_count:5},{key:"Queen Victoria (1819-1901)",doc_count:53},{key:"Queen Victoria (1819-1901), Queen of Great Britain and Ireland",doc_count:51},{key:"Sir Fleetwood Edwards (1842-1910)",doc_count:1},{key:"Sir Thomas Dennehy (1829-1915) Queen Victoria (1819-1901), Queen of Great Britain and Ireland",doc_count:2},{key:"William IV (1765-1837)",doc_count:1}]}},_filter_performance:{doc_count:1490,performance:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"Actor Portrait",doc_count:34},{key:"Adaptation",doc_count:1},{key:"Character - Actor Portrait",doc_count:1},{key:"Character - Identification",doc_count:30},{key:"Character - Portrait",doc_count:396},{key:"Character Portrait",doc_count:1},{key:"Performance",doc_count:9},{key:"Performance record",doc_count:72},{key:"Scene depiction",doc_count:314}]}},_filter_individual_connections:{doc_count:1490,individual_connections:{doc_count_error_upper_bound:0,sum_other_doc_count:0,buckets:[{key:"Biographical",doc_count:13},{key:"Biographies",doc_count:23},{key:"Biography",doc_count:2},{key:"Context",doc_count:5},{key:"Individual",doc_count:8},{key:"Institutions",doc_count:4},{key:"Locations",doc_count:12},{key:"Locations - London",doc_count:5},{key:"Locations - Stratford",doc_count:14},{key:"Portraits",doc_count:1},{key:"Portraits and bust",doc_count:1},{key:"Portraits and busts",doc_count:88},{key:"Potraits and busts",doc_count:2},{key:"Relics",doc_count:9},{key:"Works",doc_count:4},{key:"Works - Plays",doc_count:3}]}}},results:[{pk:1094,reference:"1059094",unittitle:"A Book of homage to Shakespeare",category:"Book",size:"1 item; 30.0 x 6.0 cm",medium:"book, half leather bound in vellum",label:"[inside cover] Bookplate of King George V.",creators:[{key:"persnames-459",name:"Sir Israel Gollancz (1863-1930)"}],date_of_creation:[1916],place_of_origin:[],date_of_acquisition:[1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936],related_material:"",related_sources:{individuals:["Institutions"],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:["King George V (1865-1936), King of Great Britain and Ireland"],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Book of homage to Shakespeare 1059094 Book ['Works', 'Text', 'Reading'] [inside cover] Bookplate of King George V.",doc_type:"object"},{pk:1026,reference:"1059011",unittitle:"A Catalogue of pictures etc. in the Shakspeare Gallery, Pall Mall.",category:"Book",size:"1 item; 20.5 x 1.5 cm",medium:"book; half leather bound in red morocco",label:"[inside cover] Bookplate of Royal Library, 1863-1901",creators:[{key:"persnames-423",name:"John Boydell (1720-1804)"},{key:"persnames-424",name:"Josiah Boydell (1752-1817)"}],date_of_creation:[1810],place_of_origin:[],date_of_acquisition:[1810],related_material:"",related_sources:{individuals:[],works:["Plays"],texts:["Scene depiction"],sources:[],performances:["Scene depiction"]},related_people:{acquirers:[],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Catalogue of pictures etc. in the Shakspeare Gallery, Pall Mall. 1059011 Book ['Works', 'Performance', 'Scene depiction'] [inside cover] Bookplate of Royal Library, 1863-1901",doc_type:"object"},{pk:2210,reference:"981237",unittitle:"A Character from Richard II",category:"Drawing",size:"1 item; 26.8 x 16.7 cm (sheet of paper)",medium:"Pencil, watercolour, touches of body colour",label:"Inscribed lower right: 'V. June 6. 1857'",creators:[{key:"persnames-1162",name:"Princess Victoria (1840-1901)"}],date_of_creation:[1857],place_of_origin:[],date_of_acquisition:[1857],related_material:"",related_sources:{individuals:[],works:["Richard II"],texts:[],sources:[],performances:["Performance record"]},related_people:{acquirers:[],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Character from Richard II 981237 Drawing ['Works', 'Performance', 'Performance record'] Inscribed lower right: 'V. June 6. 1857'",doc_type:"object"},{pk:1084,reference:"1059081",unittitle:"A Chronicle history of the life and work of William Shakespeare, player, poet and playmaker",category:"Book",size:"1 item; 23.5 x 4.0 cm",medium:"book, quarter leather bound in black morocco",label:"None",creators:[{key:"persnames-454",name:"Frederick Gard Fleay (1831-1909)"}],date_of_creation:[1886],place_of_origin:[],date_of_acquisition:[1886],related_material:"",related_sources:{individuals:[],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:[],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Chronicle history of the life and work of William Shakespeare, player, poet and playmaker 1059081 Book ['Works', 'Text', 'Reading'] None",doc_type:"object"},{pk:2116,reference:"817106",unittitle:"A Collection of Prints from pictures painted for the purpose of illustrating the Dramatic Works of Shakspeare",category:"Book of prints",size:"1 item; None",medium:"Two volumes bound together, in a beige cloth cover with a brown leather spine and corners.",label:"None",creators:[{key:"persnames-1092",name:"Anne Seymour Damer (1748-1828)"},{key:"persnames-788",name:"William Satchwell Leney (1769-1831)"},{key:"persnames-959",name:"Thomas Banks (1735-1805)"},{key:"persnames-960",name:" Benjamin Smith (fl. 1786-1833)"},{key:"persnames-781",name:"George Romney (1734-1802)"},{key:"persnames-1077",name:"Henry Fuseli (1741-1825)"},{key:"persnames-1093",name:"Jean Pierre Simon (c.1764-1813)"},{key:"persnames-1094",name:"Robert Thew (1758-1802)"},{key:"persnames-1095",name:"Joseph Wright (1734-1797)"},{key:"persnames-1096",name:"Caroline Watson (c.1761-1814)"},{key:"persnames-882",name:"Francis Wheatley (1747-1801)"},{key:"persnames-621",name:"Luigi Schiavonetti (1765-1810)"},{key:"persnames-1097",name:"Angelica Kauffman (1741-1807)"},{key:"persnames-1098",name:"Robert Smirke (1753-1845)"},{key:"persnames-1099",name:"William Peters (1742-1814)"},{key:"persnames-1100",name:"Matthew Peters (1741"},{key:"persnames-1101",name:"Thomas Ryder (1745-1810)"},{key:"persnames-1102",name:"James Durno (c.1745-1795)"},{key:"persnames-765",name:"Isaac Taylor (1759-1829)"},{key:"persnames-1103",name:"Thomas Kirk (1765-1797)"},{key:"persnames-1104",name:"Charles Gauthier Playter (fl. 1786-1809)"},{key:"persnames-1105",name:"John Francis Rigaud (1742-1810)"},{key:"persnames-860",name:"William Hamilton (1751-1801)"},{key:"persnames-746",name:"John Ogborne (1755-1837)"},{key:"persnames-1106",name:"John Browne (1742-1801)"},{key:"persnames-1107",name:"William Hodges (1744-1797)"},{key:"persnames-1108",name:"John Downman (1750-1824)"},{key:"persnames-1109",name:"Samuel Middiman (1750-1831)"},{key:"persnames-1110",name:"William Wilson (fl. 1750-94)"},{key:"persnames-1111",name:"Raphael Lamar West (1766-1850)"},{key:"persnames-1112",name:"Georg Siegmund Facius (c.1750-c.1813)"},{key:"persnames-1113",name:"Johann Gottlieb Facius (b.c.1750)"},{key:"persnames-1114",name:"James Fittler (1758-1835)"},{key:"persnames-634",name:"Johann Heinrich Ramberg (1763-1840)"},{key:"persnames-630",name:"Francesco Bartolozzi (1727-1815)"},{key:"persnames-574",name:"John Opie (1761-1807)"},{key:"persnames-882",name:"Francis Wheatley (1747-1801)"},{key:"persnames-1109",name:"Samuel Middiman (1750-1831)"},{key:"persnames-763",name:"James Caldwell (1739-1822)"},{key:"persnames-1115",name:"James Parker (1750 - 1805)"},{key:"persnames-622",name:"Sir Joshua Reynolds (1723-92)"},{key:"persnames-1116",name:"Petro William Tomkins (1759-1840)"},{key:"persnames-746",name:"John Ogborne (1755-1837)"},{key:"persnames-1117",name:"Thomas Hellyer (b.c.1771)"},{key:"persnames-1092",name:"Anne Seymour Damer (1748-1828)"},{key:"persnames-1118",name:"William Beechey (1753-1839)"},{key:"persnames-664",name:"James Northcote (1746-1831)"},{key:"persnames-1119",name:"Mather Browne (1761-1831)"},{key:"persnames-323",name:"Joseph Farington (1747-1821)"},{key:"persnames-1026",name:"Richard Westall (1765-1836)"},{key:"persnames-1120",name:"James Durno (c.1745-95)"},{key:"persnames-424",name:"Josiah Boydell (1752-1817)"},{key:"persnames-746",name:"John Ogborne (1755-1837)"},{key:"persnames-1121",name:"Jean Baptiste Michel (c.1780-1804)"},{key:"persnames-1122",name:"William Miller (c.1740-1810)"},{key:"persnames-1123",name:"Francis Legat (1755-1809)"},{key:"persnames-707",name:"William Skelton (1763-1848)"},{key:"persnames-1124",name:"Joseph Collyer (1748-1827)"},{key:"persnames-1125",name:"Gavin Hamilton (1723-1798)"},{key:"persnames-659",name:"Edward Scriven (1775-1841)"},{key:"persnames-1126",name:"Henry Tresham (c.1751-1814)"},{key:"persnames-1127",name:"Thomas Kirk (c.1767-97)"},{key:"persnames-538",name:"Thomas Burke (1749-1815)"},{key:"persnames-1128",name:"John Hoppner (1758-1810)"},{key:"persnames-615",name:"William Sharp (1749-1824)"},{key:"persnames-1129",name:"Benjamin West (1838-1820)"},{key:"persnames-1130",name:"James Barry (1741-1806)"},{key:"persnames-787",name:"John Graham (1754-1817)"},{key:"persnames-1131",name:"Thomas Gaugain (1756-1812)"}],date_of_creation:[1805],place_of_origin:[],date_of_acquisition:[1805],related_material:"",related_sources:{individuals:[],works:[],texts:["Scene depiction"],sources:[],performances:[]},related_people:{acquirers:["George, Prince of Wales (1762-1830)"],donors:[],publishers:["Josiah Boydell (1752-1817)"]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Collection of Prints from pictures painted for the purpose of illustrating the Dramatic Works of Shakspeare 817106 Book of prints ['Works', 'Text', 'Scene depiction'] None",doc_type:"object"},{pk:962,reference:"1058901",unittitle:"A Complete verbal index to the plays of Shakespeare adapted to all editions comprehending every substantive, adjective, verb, participle and adverb used by Shakespeare ; vol. 1",category:"Book",size:"1 item; 22.0 x 5.0 cm",medium:"book",label:'[flyleaf] "May 26 1842 | Archdeacon Todd told me just | now that he had seen this book | in a Bookseller\'s catalogue marked | at 5.10. - | William Nicol " QQQQQ [half title page] " Given to me by my | worthy friend Danl Braithwait | G.N. | Decr 28 1807 "',creators:[{key:"persnames-390",name:"Francis Twiss (c 1759 -1827)"}],date_of_creation:[1805],place_of_origin:[],date_of_acquisition:[1842],related_material:"",related_sources:{individuals:[],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:["Queen Victoria (1819-1901), Queen of Great Britain and Ireland"],donors:[],publishers:[]},media:[{label:"3",iiif_manifest_url:"https://rct.resourcespace.com/iiif/1058901/",iiif_image_url:"/rct/iiif/image/52743",full_image_url:"https://rct.resourcespace.com/iiif/image/52743/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/52743/full/thm/0/default.jpg",image_width:2563,image_height:3523,thumbnail_width:127,thumbnail_height:175}],search_content:" A Complete verbal index to the plays of Shakespeare adapted to all editions comprehending every substantive, adjective, verb, participle and adverb used by Shakespeare ; vol. 1 1058901 Book ['Works', 'Text', 'Reading'] [flyleaf] \"May 26 1842 | Archdeacon Todd told me just | now that he had seen this book | in a Bookseller's catalogue marked | at 5.10. - | William Nicol \" QQQQQ [half title page] \" Given to me by my | worthy friend Danl Braithwait | G.N. | Decr 28 1807 \"",doc_type:"object"},{pk:963,reference:"1058902",unittitle:"A Complete verbal index to the plays of Shakespeare adapted to all editions comprehending every substantive, adjective, verb, participle and adverb used by Shakespeare ; vol. 2",category:"Book",size:"1 item; 22.0 x 5.0 cm",medium:"book",label:"None",creators:[{key:"persnames-390",name:"Francis Twiss (c 1759 -1827)"}],date_of_creation:[1805],place_of_origin:[],date_of_acquisition:[1842],related_material:"",related_sources:{individuals:[],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:["Queen Victoria (1819-1901), Queen of Great Britain and Ireland"],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Complete verbal index to the plays of Shakespeare adapted to all editions comprehending every substantive, adjective, verb, participle and adverb used by Shakespeare ; vol. 2 1058902 Book ['Works', 'Text', 'Reading'] None",doc_type:"object"},{pk:1093,reference:"1059093",unittitle:"A Dictionary of the language of Shakspeare",category:"Book",size:"1 item; 29.5 x 3.5 cm",medium:"book",label:"[inside cover] Bookplate of Royal Library, 1863-1901",creators:[{key:"persnames-458",name:"Swynfen Jervis (1798-1867)"}],date_of_creation:[1868],place_of_origin:[],date_of_acquisition:[1868],related_material:"",related_sources:{individuals:[],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:[],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Dictionary of the language of Shakspeare 1059093 Book ['Works', 'Text', 'Reading'] [inside cover] Bookplate of Royal Library, 1863-1901",doc_type:"object"},{pk:981,reference:"1058921",unittitle:"A Few notes on Shakespeare",category:"Book",size:"1 item; 23.5 x 1.2 x 15.1 cm",medium:"book",label:"None",creators:[{key:"persnames-314",name:"Alexander Dyce (1798-1869)"}],date_of_creation:[1853],place_of_origin:[],date_of_acquisition:[],related_material:"",related_sources:{individuals:[],works:["Forgeries"],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:[],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Few notes on Shakespeare 1058921 Book ['Works', 'Text', 'Reading'] None",doc_type:"object"},{pk:960,reference:"1058899",unittitle:"A Glossary or collection of words, phrases, names and allusions to customs, proverbs etc ... in the works of English Authors particularly Shakespeare and his contemporaries ; vol. 1",category:"Book",size:"1 item; 24.0 x 4.0 cm",medium:"book",label:"None",creators:[{key:"persnames-387",name:"Robert Nares (1753-1829)"},{key:"persnames-388",name:"James Orchard Halliwell-Phillipps (1820-89)"},{key:"persnames-389",name:"Thomas Wright (1810-77)"}],date_of_creation:[1859],place_of_origin:[],date_of_acquisition:[1859],related_material:"",related_sources:{individuals:[],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:["Queen Victoria (1819-1901), Queen of Great Britain and Ireland"],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Glossary or collection of words, phrases, names and allusions to customs, proverbs etc ... in the works of English Authors particularly Shakespeare and his contemporaries ; vol. 1 1058899 Book ['Works', 'Text', 'Reading'] None",doc_type:"object"},{pk:961,reference:"1058900",unittitle:"A Glossary or collection of words, phrases, names and allusions to customs, proverbs etc ... in the works of English Authors particularly Shakespeare and his contemporaries ; vol. 2",category:"Book",size:"1 item; 24.0 x 4.0 cm",medium:"book",label:"None",creators:[{key:"persnames-387",name:"Robert Nares (1753-1829)"},{key:"persnames-388",name:"James Orchard Halliwell-Phillipps (1820-89)"},{key:"persnames-389",name:"Thomas Wright (1810-77)"}],date_of_creation:[1859],place_of_origin:[],date_of_acquisition:[1859],related_material:"",related_sources:{individuals:[],works:[],texts:["Reading"],sources:[],performances:[]},related_people:{acquirers:["Queen Victoria (1819-1901), Queen of Great Britain and Ireland"],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Glossary or collection of words, phrases, names and allusions to customs, proverbs etc ... in the works of English Authors particularly Shakespeare and his contemporaries ; vol. 2 1058900 Book ['Works', 'Text', 'Reading'] None",doc_type:"object"},{pk:1059,reference:"1059046",unittitle:"A Life of William Shakespeare",category:"Book",size:"1 item; 20.5 x 4.0 cm",medium:"book",label:"None",creators:[{key:"persnames-432",name:"Sir Sidney Lee (1866-1949)"}],date_of_creation:[1898],place_of_origin:[],date_of_acquisition:[1898],related_material:"",related_sources:{individuals:["Biographies"],works:[],texts:[],sources:[],performances:[]},related_people:{acquirers:[],donors:[],publishers:[]},media:[{label:"1",iiif_manifest_url:"/rct/iiif/732115a/",iiif_image_url:"/rct/iiif/image/34658",full_image_url:"https://rct.resourcespace.com/iiif/image/34658/full/max/0/default.jpg",thumbnail_url:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg",image_width:4015,image_height:2980,thumbnail_width:175,thumbnail_height:130}],search_content:" A Life of William Shakespeare 1059046 Book ['None'] None",doc_type:"object"}]},Vi={events:[{start_date:{year:1648,display_date:1648},display_date:"1648",text:{headline:"Comedies, histories and tragedies,\npublished according\nto the true originall copies",text:"In the lead-up to his execution, while imprisoned at Windsor Castle, Charles I annotates his copy of Shakespeare's Second Folio. "},unique_id:"1080415"},{start_date:{year:1735,display_date:1735},display_date:"1735",text:{headline:"The Henry the Fifth Club, or The Gang",text:"In the midst of a longstanding dispute with his father, Frederick, Prince of Wales commissions a group portrait showing himself as Shakespeare's 'Prince Hal'"},unique_id:"405737"},{start_date:{year:1737,display_date:1737},display_date:"1737",text:{headline:"Her Majesty's Library in St James's Park",text:"Queen Caroline has the library at St James's Palace remodelled and includes a bust of Shakespeare in the cornicing. "},unique_id:"703051"},{start_date:{year:1740,display_date:1740},display_date:"1740",text:{headline:"Shakespeare's Monument, Westminster Abbey",text:"William Kent issues his design for Shakespeare's new monument at Westminster Abbey, which is installed the following year. "},unique_id:"66142"},{start_date:{year:1746,display_date:1746},display_date:"1746",text:{headline:"David Garrick as Richard III",text:"Hogarth's print of David Garrick commemorates his meteoric rise to fame as a major Shakespearean actor, following his performance as Richard III in 1741. "},unique_id:"654947"},{start_date:{year:1765,display_date:1765},display_date:"1765",text:{headline:"Timon of Athens",text:"George III commissions a Shakespearean scene (in Classical dress) from the popular painter Nathaniel Dance Holland. "},unique_id:"406725"},{start_date:{year:1769,display_date:1769},display_date:"1769",text:{headline:"David Garrick Reciting the Ode in Honour of Shakespeare at the Jubilee in Stratfod",text:"David Garrick masterminds a multi-day 'Shakespeare Jubilee' at the dramatist's birthplace, Stratford-upon-Avon. A popular talking point, it helps spearhead the modern 'Shakespeare Industry. "},unique_id:"655033"},{start_date:{year:1781,display_date:1781},display_date:"1781",text:{headline:"Mrs Mary Robinson ('Perdita')",text:"George, Prince of Wales, commissions a portrait of the actress Mary Robinson as 'Perdita', following a brief affair between them during which he signed himself 'Florizel', with reference to the characters from The Winter's Tale. "},unique_id:"400670"},{start_date:{year:1800,display_date:1800},display_date:"1800",text:{headline:"Comedies, histories and tragedies,\npublished according\nto the true originall copies",text:"Charles I's copy of the Second Folio is bought back for the Royal Collection by George III. "},unique_id:"1080415"},{start_date:{year:1802,display_date:1802},display_date:"1802",text:{headline:"A Collection of Prints from pictures painted for the purpose of illustrating the Dramatic Works of Shakspeare",text:"Publication of the prints based on John Boydell's 'Shakespeare Gallery', a project designed to inspire and improve British art with reference to Shakespeare"},unique_id:"817106"},{start_date:{year:1810,display_date:1810},display_date:"1810",text:{headline:"A Catalogue of Historical Prints Illustrative of Shakespear Plays. Published by John & Josiah Boydell 1802 Made by me at Frogmore.1810 Charlotte ",text:"While George III suffers his second serious bout of illness, Queen Charlotte draws up a catalogue of her collection of Shakespeare-themed prints published by John Boydell. "},unique_id:"1047627"},{start_date:{year:1816,display_date:1816},display_date:"1816",text:{headline:"A mulberry wood toothpick box",text:"In the bicentenary year of Shakespeare's death, the increasingly unpopular Prince Regent commissions a set of toothpick boxes made out of the wood of 'Shakespeare's mulberry tree' as gifts for friends and allies. "},unique_id:"43894"},{start_date:{year:1818,display_date:1818},display_date:"1818",text:{headline:"Mrs Siddons in the Trial Scene of Queen Katharine ",text:"George Henry Harlow's painting of Sarah Siddons as Shakespeare's Queen Katharine Is engraved, reflecting its enormous popularity. The image becomes a stock-in-trade for royal satirists for the next fifty years. "},unique_id:"813150"},{start_date:{year:1838,display_date:1838},display_date:"1838",text:{headline:"John Philip Kemble as Hamlet",text:"An engraving of Sir Thomas Lawrence's painting of John Philip Kemble as Hamlet is published, the year after William IV presented the original painting to the National Gallery. "},unique_id:"657437"},{start_date:{year:1840,display_date:1840},display_date:"1840",text:{headline:"Romeo and Tybalt",text:"The young Prince Albert and Queen Victoria study etching together, and work on scenes from Romeo and Juliet. "},unique_id:"816031"},{start_date:{year:1847,display_date:1847},display_date:"1847",text:{headline:"William Shakespeare",text:"Shakespeare's Birthplace is 'saved' for the nation, with the support of Prince Albert, who also purchases a mezzotint of the so-called 'Ashbourne Portrait' in its support. "},unique_id:"661433"},{start_date:{year:1848,display_date:1848},display_date:"1848",text:{headline:"The Disarming of Cupid",text:"Queen Victoria commissions William Edward Frost to paint a picture based on Shakespeare's Sonnet 154, as a pendant to paintings showing scenes from Edmund Spenser and John Milton. "},unique_id:"407163"},{start_date:{year:1850,display_date:1850},display_date:"1850",text:{headline:"Lesson books",text:"The future Edward VII copies out extracts from As You Like It, Macbeth and Julius Caesar in his lesson books. "},unique_id:"VIC/ADDA05/470B"},{start_date:{year:1853,display_date:1853},display_date:"1853",text:{headline:"The performance of Macbeth in the Rubens Room",text:"Between 1848-61, Charles Kean is invited to give a series of performances at Windsor Castle, including several Shakespeare plays. "},unique_id:"919794"},{start_date:{year:1857,display_date:1857},display_date:"1857",text:{headline:"The Entry of Bolingbroke ",text:"Princess Victoria presents her mother, Queen Victoria, with a watercolour showing a scene from Charles Kean's production of Richard II. "},unique_id:"451134"},{start_date:{year:1860,display_date:1860},display_date:"1860",text:{headline:"Windsor Castle, Royal Library, Queen Elizabeth Gallery (Room III), design for wooden cresting at doorway",text:"The Royal Library at Windsor is redesigned in the Elizabethan style by John Thomas, including a bust of Shakespeare in the doorway. "},unique_id:"740072"},{start_date:{year:1863,display_date:1863},display_date:"1863",text:{headline:"Bust of Shakespeare",text:"A tree identified as 'Herne's Oak' falls down in Windsor Great Park, and Queen Victoria commissions a series of relics from its remains. "},unique_id:"7021"},{start_date:{year:1888,display_date:1888},display_date:"1888",text:{headline:"Prince Arthur and Princess Margaret of Connaught as the Princes in the Tower",text:"The royal family put on a series of 'tableaux vivants' showing Shakespeare scenes (among others) for the birthday of Prince Henry of Battenburg "},unique_id:"2980009"},{start_date:{year:1893,display_date:1893},display_date:"1893",text:{headline:"The Works of William Shakespeare ('The Irving Shakespeare')",text:"Henry Irving presents his 'Irving Shakespeare' to George, Duke of York, and Princess May of Teck on the occasion of their wedding. "},unique_id:"1056053"},{start_date:{year:1917,display_date:1917},display_date:"1917",text:{headline:"The Merry Wives of Windsor, illustrated by Hugh Thomson",text:"Katharine Denison, a vicar's sister, embroiders a copy of The Merry Wives of Windsor and presents it to Queen Mary, mere months before the family change their name from Saxe-Coburg-Gotha to 'Windsor'"},unique_id:"1059106"},{start_date:{year:1924,display_date:1924},display_date:"1924",text:{headline:"Oak Model of Shakespeare's Chair and Chest",text:"An amateur carver presents a model of Shakespeare's chair and chest to Queen Mary for her 'Dolls' House' project, initiated by Princess Marie-Louise of Schleswig-Holstein as a historical artefact and a spur to British trade and industry."},unique_id:"55549"},{start_date:{year:1944,display_date:1944},display_date:"1944",text:{headline:"Diary entry for 16 December 1944",text:"Henry V is screened in the Waterloo Chamber, Windsor"},unique_id:"GVI/PRIV/DIARY/WAR/1944: 16 DEC"},{start_date:{year:1965,display_date:1965},display_date:"1965",text:{headline:"Charles, Prince of Wales as Macbeth",text:"Charles, Prince of Wales, performs as Macbeth in a school production at Gordonstoun."},unique_id:"2813890"},{start_date:{year:1970,display_date:1970},display_date:"1970",text:{headline:"Bank of England: Twenty Pounds",text:"The first £20 note to carry a portrait of the monarch is published, with an image of Shakespeare's monument in Westminster Abbey on the reverse. "},unique_id:"445827"},{start_date:{year:1991,display_date:1991},display_date:"1991",text:{headline:"Flower Vase",text:"On the occasion of her state visit to the USA, Elizabeth II is presented with a Shakespeare-inspired 'flower vase' by President George H. W. Bush"},unique_id:"95751"},{start_date:{year:1997,display_date:1997},display_date:"1997",text:{headline:"Pewter bowl with designs inspired by Shakespeare's Globe",text:"Queen Elizabeth II is presented with a commemorative bowl at the formal opening of the new Globe Theatre on the South Bank. "},unique_id:"94637"}]},$i={themes:[{id:1,title:"William Shakespeare",featuredObjects:[{reference:"40497",category:"Decorative arts",title:"Box with a view of Stratford church",id:1380,creators:["Henrik Immanuel Wigström (1862-1923)","Carl Fabergé (1846-1920)"],creation_date:1903,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"406072",category:"Painting",title:"Portrait of a Man",id:1383,creators:["None"],creation_date:1620,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"447173.a",category:"Medals",title:"Commemorative medal",id:1404,creators:["Milan Knobloch (b.1921)"],creation_date:2004,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"661421",category:"Print",title:"William Shakespeare",id:1862,creators:["Martin Droeshout (1601-after 1639)","Ben Jonson (c.1637-c.1572)"],creation_date:1685,resource:"https://rct.resourcespace.com/iiif/image/39758/full/thm/0/default.jpg"}]},{id:1,title:"On the Page",featuredObjects:[{reference:"1059072",category:"Book",title:"A Most pleasant and excellent conceited Comedy of Sir John Falstaffe, and the merry VVives of VVindsor. VVith the swaggering vaine of Ancient Pistoll, and Corporall Nym",id:1077,creators:["William Shakespeare (1564-1616)"],creation_date:1619,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"813725",category:"None",title:"The Quarrel of Oberon and Titania",id:2097,creators:["Sir Joseph Noël Paton (1821-1901)"],creation_date:1847,resource:"https://rct.resourcespace.com/iiif/image/39962/full/thm/0/default.jpg"}]},{id:1,title:"On the Stage",featuredObjects:[{reference:"2913567",category:"Photograph",title:"Miss C Leclercq as Ariel",id:1343,creators:["Camille Silvy (1834-1910)"],creation_date:1856,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"655013",category:"Print",title:"Mr Garrick and Mrs Pritchard as Macbeth and Lady Macbeth",id:1631,creators:["Johann Joseph Zoffany (1733-1810)","Valentine Green (1739-1813)"],creation_date:1776,resource:"https://rct.resourcespace.com/iiif/image/39707/full/thm/0/default.jpg"},{reference:"913000",category:"Painting",title:"A Scene from Macbeth, Act I",id:2122,creators:["Louis Haghe (1806-85)"],creation_date:1853,resource:"https://rct.resourcespace.com/iiif/image/52819/full/thm/0/default.jpg"}]}]},Ji={meta:{total_count:1},items:[{id:8,meta:{type:"editor.SharcRichTextPage",detail_url:"http://localhost/api/wagtail/pages/8/",html_url:"http://localhost/sharc-home/objects/",slug:"objects",show_in_menus:!1,first_published_at:"2021-01-21T11:27:32.474733Z"},title:"Objects",body:"<p>An object description</p>"}]},Yi={items:[{id:3,meta:{type:"editor.SharcRichTextPage",detail_url:"http://localhost/api/wagtail/pages/3/",html_url:"http://localhost/sharc-home/",slug:"sharc-home",show_in_menus:!0,seo_title:"",search_description:"",first_published_at:"2021-05-14T11:09:29.266613Z",parent:{id:2,meta:{type:"wagtailcore.Page",detail_url:"http://localhost/api/wagtail/pages/2/",html_url:"http://localhost/"},title:"Welcome to your new Wagtail site!"}},title:"Sharc home",body:"<p>This is a test description for the home page</p>",body_html:"<p>This is a test description for the home page</p>",menu_children:[{id:9,title:"Objects",slug:"objects",menu_children:[]},{id:4,title:"Events",slug:"events",menu_children:[]},{id:6,title:"About",slug:"about",menu_children:[]},{id:8,title:"Themes",slug:"themes",menu_children:[{id:16,title:"On the stage",slug:"on-the-stage",menu_children:[]},{id:17,title:"William Shakespeare",slug:"william-shakespeare",menu_children:[]}]}]}]},Ki={meta:{total_count:1},items:[{id:14,meta:{type:"editor.StreamFieldPage",detail_url:"http://localhost/api/wagtail/pages/14/",html_url:"http://localhost/sharc-home/events/",slug:"events",show_in_menus:!0,first_published_at:"2021-02-22T17:12:14.759406Z"},title:"Events",body:[{type:"heading",value:"A test Heading",id:"ee1ff036-94c0-4426-ad85-56ac44c8e311"},{type:"paragraph",value:'<p>Some text, and <b>some others.</b> A <a href="https://kdl.kcl.ac.uk">link</a> in a paragraph</p>',id:"4cdf3829-5873-4b42-bf6c-cee0e652c5da"},{type:"two_column_section",value:[{heading:"Event 1",body:"<p>Some stuff</p>"},{heading:"Event 2",body:"<p>Some other stuff</p>"}],id:"67c2980e-85a8-461f-9427-7c1958eee52b"},{type:"image",value:{id:1,filename:"Charles_Is_Shakespeare.jpg",full_url:"https://sharc.kcl.ac.uk/static/Charles%20I's%20Shakespeare.jpg",full_width:1e3,full_height:764},id:"2aca4dae-42c7-46e5-a899-1c89bdd2e756"},{type:"embed",value:{html:'<div>\n    <iframe width="200" height="113" src="https://www.youtube.com/embed/xk4aNAZ557w?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n</div>\n',url:"https://www.youtube.com/watch?v=xk4aNAZ557w"},id:"620587b7-dd12-4728-8866-06030e94b1e6"},{type:"document",value:{title:"Digital Twins",filename:"Digital_twin_report.pdf",url:"/documents/1/Digital_twin_report.pdf"},id:"aa949028-6608-4a95-b557-9d55dae9726c"},{type:"page",value:4,id:"ed17de42-d805-4d61-a299-5439701cd055"}]}]},Zi={meta:{total_count:1},items:[{id:3,meta:{type:"editor.SharcRichTextPage",detail_url:"http://localhost/api/wagtail/pages/3/",html_url:"http://localhost/sharc-home/",slug:"sharc-home",show_in_menus:!1,first_published_at:"2021-01-07T12:16:18.867309Z"},title:"Home",body:"<p>home</p>"}]},Qi={meta:{total_count:1},items:[{id:6,meta:{type:"editor.StreamFieldPage",detail_url:"http://localhost/api/wagtail/pages/6/",html_url:"http://localhost/sharc-home/about/",slug:"about",first_published_at:"2021-01-21T11:24:46.321022Z"},title:"About",body:[{type:"heading",value:"About",id:"fc40e462-3fa1-4de6-a343-0000c5d3ade4"},{type:"paragraph",value:"<p>What has Shakespeare done for the royal family, and what has the royal family done for Shakespeare? This is the central research question of ‘Shakespeare in the Royal Collection’, a three-year AHRC funded project (launched in September 2018), which focuses on the Shakespeare-related holdings in the Royal Collection and the stories they have to tell, primarily during the period 1714-1945.</p><p>Shakespeare and the royal family have long had a close, interdependent relationship. Shakespeare addresses royal history in many of his plays; his works have also functioned across the centuries as a vehicle for the development of royal ideology and for the education of young royals. Equally, royal patronage has tangibly affected the nature of the Shakespearean afterlife. Each has, in key ways, legitimised the other.</p><p>A key dimension of this history has been the inclusion of Shakespeare-related items – manuscripts, paintings, prints, drawings, performance records, printed books, photographs, and other objects – in the Royal Collection. These objects, never systematically researched, will be the primary subject of investigation over the course of this project, which will produce:</p><ul><li>a publicly accessible database of all the Shakespeare-related holdings, and set of 3D visualisations of key spaces at Windsor Castle where Shakespeare’s plays were performed.</li><li>Two monographs, written by the postdoctoral research associates</li><li>A collection of essays focusing on a series of individual objects in the Collections</li><li>An exhibition of selected Shakespeare-related holdings</li><li>A major TV documentary</li></ul>",id:"5408b121-2e6e-464f-b62a-aa394d79e4d6"},{type:"heading",value:"Funders",id:"aa6d31c4-6600-44af-a52b-d40e092a07cd"},{type:"paragraph",value:'<p>Funded by the <a href="http://ahrc.ukri.org/">Arts and Humanities Research Council</a>, in partnership with the Royal Collection Trust.</p>',id:"6a40d654-a325-42cb-97a1-8cabffd3c4e3"},{type:"image",value:{id:20,filename:"Charles_Is_Shakespeare.jpg",full_url:"https://sharc.kcl.ac.uk/static/Charles%20I's%20Shakespeare.jpg",full_width:1e3,full_height:764},id:"3616f4b5-3f24-4354-b67e-85a2d260a98d"},{type:"gallery",value:{show_in_menus:!0,images_block:[{show_in_menus:!0,transcription:"",description:"",attribution:"",caption:"William Shakespeare, Comedies, histories and tragedies (Charles I’s copy of Shakespeare’s complete works), 1632, folio bound in red goatskin (RCIN 1080415)",page:null,url:"",alignment:"float-left",image:3},{show_in_menus:!0,transcription:"",description:"",attribution:"",caption:"Leonida Caldesi, Prince Arthur and Prince Leopold in the costume of the sons of King Henry IV, albumen print hand-coloured with watercolour, 1859 (RCIN 2914286)",page:null,url:"",alignment:"float-left",image:2},{show_in_menus:!0,transcription:"",description:"",attribution:"",caption:"William Perry, A Treatise on the Identity of Herne’s Oak, book bound in the wood of Herne’s Oak, 1867 (RCIN 1047000)",page:null,url:"",alignment:"float-left",image:6}]},id:"a251a790-d52c-483a-a069-a3a3e4566765"},{type:"image",value:{id:2,filename:"TheEntryOfBolingbroke.jpg",full_url:"https://sharc.kcl.ac.uk/static/Entry%20of%20Bolingbroke.jpg",full_width:441,full_height:500},id:"b0662fb5-06ec-42a5-9fae-8397eed7ebd8"},{type:"image",value:{id:19,filename:"George_IV_as_Florizel.jpg",full_url:"http://sharc.kcl.ac.uk/static/George%20IV%20as%20Florizel.jpg",full_width:1e3,full_height:789},id:"97f0f85e-94bf-486f-a580-7e1ad1c0a186"},{type:"image",value:{id:18,filename:"Mulberry_boxes.jpg",full_url:"https://sharc.kcl.ac.uk/static/Mulberry%20boxes.jpg",full_width:1e3,full_height:526},id:"f73995e3-e03a-4d02-b290-e60aaffccbb3"},{type:"image",value:{id:17,filename:"Treatise_on_Hernes_Oak.jpg",full_url:"https://sharc.kcl.ac.uk/static/Treatise%20on%20Herne's%20Oak.jpg",full_width:1e3,full_height:1330},id:"2b1286d6-7374-4540-bd41-32fea3a88738"},{type:"image",value:{id:16,filename:"Arthur_and_Leopold.jpg",full_url:"https://sharc.kcl.ac.uk/static/Arthur%20and%20Leopold.jpg",full_width:1e3,full_height:1265},id:"5431e0bc-b829-4f3b-89fd-ad6e3d37f677"},{type:"heading",value:"Project Team",id:"01f5bc2b-51b2-4d0e-88ce-f6cff2d529cf"},{type:"paragraph",value:'<div class="two-column-50-50">\n<div>\n<h3>Gordon McMullan</h3>\n<h4>(Principal Investigator)</h4>\n<p>Gordon is Professor of English at King’s College London and Director of the London Shakespeare Centre. His publications include <i>The Politics of Unease in the Plays of John Fletcher</i> (1994), the Arden Shakespeare edition of <i>Henry VIII</i> (2000), <i>Shakespeare and the Idea of Late Writing</i> (2007), <i>Antipodal Shakespeare</i> (2018) and several edited and co-edited collections, including <i>Late Style and its Discontents</i> (2017). He is a general textual editor of <i>The Norton Shakespeare, 3rd edition</i> (2016), for which he also edited <i>Romeo and Juliet</i>.</p>\n</div>\n<div>\n<h3>Kate Retford</h3>\n<h4>(Co-Investigator)</h4>\n<p>Kate is Professor of the History of Art at Birkbeck, University of London. Her publications include <i>The Art of Domestic Life: Family Portraiture in Eighteenth-Century England</i> (2006), a co-authored monograph <i>Advancing with the Army</i> (2006) and <i>The Conversation Piece: Making Modern Art in Eighteenth-Century Britain</i> (2017); she has also co-edited two collections, <i>Placing Faces: The Portrait and the English Country House in the Long Eighteenth Century</i> (2013; with Gill Perry et al) and <i>The Georgian London Town House</i> (2019; with Susanna Avery-Quash).</p>\n</div>\n<div>\n<h3>Sally Barnden</h3><h4>(Postdoctoral Research Associate)</h4><p>Sally has a PhD in Shakespeare studies from King’s College London. She did scoping work for the grant by way of an internal postdoctoral research associateship in 2016-17. Her monograph, <i>Still Shakespeare and the Photography of Performance</i>, was published in 2020 by Cambridge University Press.</p>\n</div>\n<div>\n<h3>Kirsten Tambling</h3>\n<h4>(Postdoctoral Research Associate)</h4>\n<p>Kirsten has a PhD from Birkbeck entitled ‘Making the Crossing: Seduction, Space and Time in the Art of William Hogarth and Jean-Antoine Watteau’. She previously studied at Cambridge (English and Eighteenth-Century Studies) and the Courtauld (Curating the Art Museum) and held a Curatorial Internship at the Royal Collection in 2014-15.</p>\n</div>\n</div>',id:"301a325b-e36f-4224-9f66-9e8dcb6f87a0"},{type:"heading",value:"Contact us",id:"747de18e-290e-4eda-a6a5-857839ba7d6f"},{type:"paragraph",value:'<p>For all enquiries, contact us at sharc@kcl.ac.uk</p><p>For ongoing updates on the project follow us on <a href="http://twitter.com/sharc_project">Twitter</a></p>',id:"8cd3d537-00fd-4d83-a0a6-cecbd07ac0b5"}]}]},Xi={},en={meta:{total_count:1},items:[{id:5,meta:{type:"editor.StreamFieldPage",detail_url:"http://localhost/api/wagtail/pages/5/",html_url:"http://localhost/sharc-home/resources/",slug:"resources",first_published_at:"2021-01-21T11:18:20.322758Z"},title:"Resources",body:[{type:"heading",value:"A resource test pages",id:"59b584b8-ccf0-45ef-a5bc-1db8441b7e6d"},{type:"paragraph",value:"<p>Some text</p>",id:"3f1f99c2-d35a-4baa-9642-f79ad719c641"},{type:"document",value:{title:"Digital Twin report",filename:"Digital_twin_report.pdf",url:"/documents/1/Digital_twin_report.pdf"},id:"775fa226-2bd0-4b5d-94ba-c98f74aad502"}]}]},tn={},nn={},an={},rn={"sharc-home":Zi,about:Qi,objects:Ji,accessibility:Xi,events:Ki,resources:en,glossary:tn,bibliography:nn,acknowledgements:an,menu_items:Yi};function on(e){return sn.apply(this,arguments)}function sn(){return sn=Object(u["a"])(Object(l["a"])().mark((function e(t){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Wi["a"].get(t,{headers:vn()}));case 1:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return ln=Object(u["a"])(Object(l["a"])().mark((function e(t,i){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("STATIC"!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL){e.next=13;break}if("documents/"!==t){e.next=5;break}return e.abrupt("return",{data:Gi});case 5:if("events/"!==t){e.next=9;break}return e.abrupt("return",{data:Vi});case 9:if("themes/"!==t){e.next=11;break}return e.abrupt("return",{data:$i});case 11:e.next=14;break;case 13:return e.abrupt("return",Wi["a"].get("".concat(zi,"/").concat(t),{headers:vn(),params:bn(i)}));case 14:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}function un(e,t){return hn.apply(this,arguments)}function hn(){return hn=Object(u["a"])(Object(l["a"])().mark((function e(t,i){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("STATIC"!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL){e.next=4;break}return e.abrupt("return",{data:rn[i]});case 4:return e.abrupt("return",Wi["a"].get("".concat(zi,"/").concat(t),{headers:vn(),params:yn({slug:i,type:"editor.SharcRichTextPage",fields:"title,body,show_in_menus"})}));case 5:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function dn(e){return fn.apply(this,arguments)}function fn(){return fn=Object(u["a"])(Object(l["a"])().mark((function e(t){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("STATIC"!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL){e.next=4;break}return e.abrupt("return",{data:rn["menu_items"]});case 4:return e.abrupt("return",pn(t,Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_HOME_SLUG,"editor.SharcRichTextPage","menu_children"));case 5:case"end":return e.stop()}}),e)}))),fn.apply(this,arguments)}function pn(e,t,i,n){return mn.apply(this,arguments)}function mn(){return mn=Object(u["a"])(Object(l["a"])().mark((function e(t,i,n,a){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("STATIC"!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL){e.next=4;break}return e.abrupt("return",{data:rn[i]});case 4:return e.abrupt("return",Wi["a"].get("".concat(zi,"/").concat(t),{headers:vn(),params:yn({slug:i,type:n,fields:a})}));case 5:case"end":return e.stop()}}),e)}))),mn.apply(this,arguments)}function _n(e,t){return gn.apply(this,arguments)}function gn(){return gn=Object(u["a"])(Object(l["a"])().mark((function e(t,i){var n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=zi.replace(/\/$/,""),e.abrupt("return",Wi["a"].get("".concat(n).concat(t).concat(i),{headers:vn()}));case 2:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function vn(){return{Bearer:"Token ".concat(Hi)}}function yn(e){var t=new URLSearchParams;return e&&(e.slug&&t.append("slug",e.slug),e.type&&t.append("type",e.type),e.fields&&t.append("fields",e.fields)),t}function bn(e){var t=new URLSearchParams;if(e){if(e.searchTerm&&t.append("search_multi_match",e.searchTerm),e.pages&&t.append("pages",e.pages),e.sort&&e.sort.sort_by.length>0){var i="";!0===e.sort.desc&&(i="-"),t.append("ordering",i+e.sort.sort_by)}if(e.creation_years&&e.creation_years[0]>0&&t.append("date_of_creation__range",e.creation_years[0]+"__"+e.creation_years[1]),e.acquisition_years&&e.acquisition_years[0]>0&&t.append("date_of_acquisition__range",e.acquisition_years[0]+"__"+e.acquisition_years[1]),e.selectedFacets&&e.selectedFacets.length>0)for(var n in e.selectedFacets)e.selectedFacets[n].category.includes("__")?t.append(e.selectedFacets[n].category,e.selectedFacets[n].key):t.append(e.selectedFacets[n].category+"__term",e.selectedFacets[n].key)}return t}var kn={getUrl:on,get:cn,getSingle:_n,getParams:bn,getWagtailRichTextPage:un,getWagtailPage:pn,getWagtailMenuPages:dn,stripUrl:Ui},wn=kn,xn={page:{},resources:{},eventPage_status:!1,status:!1,imageUrl:{}},jn={getResources:function(e){return e.resources},getPage:function(e){return e.page},getEventsPageStatus:function(e){return e.eventPage_status},getPageStatus:function(e){return e.status},getImageURL:function(e){return e.imageUrl}},Sn={accessibility:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_ACCESSIBILITY_SLUG,events:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_EVENTS_SLUG,glossary:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_GLOSSARY_SLUG,bibliography:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_BIBLIOGRAPHY_SLUG,acknowledgements:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_ACKNOWLEDGEMENTS_SLUG,resources:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_RESOURCES_SLUG,about:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_ABOUT_SLUG,exhibition:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_EXHIBITION_SLUG},Tn="wagtail/pages/",On={fetchSecondaryPage:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a,r;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getWagtailPage(Tn,Sn[t],"editor.StreamFieldPage","title,body");case 3:a=i.sent,r={},a.data&&(a.data.image&&(r={resource:a.data.meta.parent.meta.html_url+a.data.image.meta.download_url,alt:a.data.image.title},n("setImageURL",r)),a.data.items&&n("setPage",a.data.items[0]));case 6:case"end":return i.stop()}}),i)})))()},fetchResources:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getWagtailPage(Tn,Sn["resources"],"editor.StreamFieldPage","title,body");case 3:n=t.sent,n&&n.data&&n.data.items&&i("setResources",n.data.items[0].body);case 5:case"end":return t.stop()}}),t)})))()},fetchEventsPageStatus:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getWagtailPage(Tn,Sn.events,"editor.StreamFieldPage","show_in_menus");case 3:n=t.sent,n.data.items&&n.data.items.length>0&&n.data.items[0].meta&&n.data.items[0].meta.show_in_menus&&(a=n.data.items[0].meta.show_in_menus,i("setEventsPageStatus",a));case 5:case"end":return t.stop()}}),t)})))()},fetchPageStatus:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a,r;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getWagtailRichTextPage(Tn,Sn[t]);case 3:a=i.sent,a.data.items&&a.data.items.length>0&&a.data.items[0].meta&&a.data.items[0].meta.show_in_menus&&(r=a.data.items[0].meta.show_in_menus,n("setPageStatus",r));case 5:case"end":return i.stop()}}),i)})))()}},Cn={setResources:function(e,t){return e.resources=t},setPage:function(e,t){return e.page=t},setEventsPageStatus:function(e,t){return e.eventPage_status=t},setPageStatus:function(e,t){return e.status=t},setImageURL:function(e,t){return e.imageUrl=t}},An={state:xn,getters:jn,actions:On,mutations:Cn},Mn={description:"",archivalRecords:[],facets:[],loadMoreUrl:"",total:0},Ln={pageDescription:function(e){return e.description},getArchivalRecords:function(e){return e.archivalRecords},getTotalArchives:function(e){return e.total},getArchivalFacets:function(e){return e.facets}},Pn={fetchObjectsPageDescription:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getWagtailRichTextPage("wagtail/pages/",Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_OBJECTS_SLUG);case 3:n=t.sent,n.data.items&&n.data.items[0].body.length>0&&i("setPageDescription",n.data.items[0].body);case 5:case"end":return t.stop()}}),t)})))()},fetchPeople:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getSingle("documents/","?person_autocomplete="+t);case 3:if(a=i.sent,!(n&&a&&a.data.facets)){i.next=7;break}if(!a.data.facets._filter_people){i.next=7;break}return i.abrupt("return",a.data.facets._filter_people.people.buckets);case 7:case"end":return i.stop()}}),i)})))()},fetchArchivalRecords:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a,r;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.get("documents/",t);case 3:a=i.sent,r={},a&&a.data.facets&&(a.data.facets._filter_acquirer&&(r.acquirer=a.data.facets._filter_acquirer.acquirer.buckets),a.data.facets._filter_people&&(r.people=a.data.facets._filter_people.people.buckets),a.data.facets._filter_category&&(r.category=a.data.facets._filter_category.category.buckets),a.data.facets._filter_individual_connections&&(r.individual_connections=a.data.facets._filter_individual_connections.individual_connections.buckets),a.data.facets._filter_performance&&(r.performances=a.data.facets._filter_performance.performance.buckets),a.data.facets._filter_source&&(r.sources=a.data.facets._filter_source.source.buckets),a.data.facets._filter_text&&(r.texts=a.data.facets._filter_text.text.buckets),a.data.facets._filter_work&&(r.works=a.data.facets._filter_work.work.buckets)),r.acquisition_years=[1600,2020],r.creation_years=[1600,2020],a.data.next?n("setLoadMoreUrl",wn.stripUrl(a.data.next)):n("setLoadMoreUrl",""),n("setArchivalRecords",a.data.results),n("setTotal",a.data.count),n("setFacets",r);case 12:case"end":return i.stop()}}),i)})))()},loadMoreArchivalRecords:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getUrl(Mn.loadMoreUrl);case 3:n=t.sent,n.data.next?i("setLoadMoreUrl",wn.stripUrl(n.data.next)):i("setLoadMoreUrl",""),i("setMoreArchivalRecords",n.data.results);case 6:case"end":return t.stop()}}),t)})))()}},En={setArchivalRecords:function(e,t){return e.archivalRecords=t},setPageDescription:function(e,t){return e.description=t},setLoadMoreUrl:function(e,t){return e.loadMoreUrl=t},setTotal:function(e,t){return e.total=t},setFacets:function(e,t){return e.facets=t},setMoreArchivalRecords:function(e,t){return t.forEach((function(t){return e.archivalRecords.push(t)}))}},Rn={state:Mn,getters:Ln,actions:Pn,mutations:En},Dn={archive:{},images:[]},In={getArchive:function(e){return e.archive}},Nn={fetchArchive:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getSingle("/documents/",t);case 3:a=i.sent,n("setArchive",a.data);case 5:case"end":return i.stop()}}),i)})))()},fetchRCTArchive:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getSingle("/documents/","?reference="+t);case 3:a=i.sent,a.data&&a.data.results.length>0&&n("setArchive",a.data.results[0]);case 5:case"end":return i.stop()}}),i)})))()}},qn={setArchive:function(e,t){return e.archive=t}},Bn={state:Dn,getters:In,actions:Nn,mutations:qn},Fn={menuItems:[],banners:[],plays:[],themes:[],tags:[],title:"",description:"",timelineData:{}},Wn={getMenuItems:function(e){return e.menuItems},mainBanners:function(e){return e.banners},playsList:function(e){return e.plays},themesList:function(e){return e.themes},featuredTags:function(e){return e.tags},title:function(e){return e.title},briefDescription:function(e){return e.description},timelineData:function(e){return e.timelineData}},zn={fetchTimelineData:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.get("events/",{});case 3:n=t.sent,i("setTimelineData",n.data);case 5:case"end":return t.stop()}}),t)})))()},fetchMenuItems:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getWagtailMenuPages("wagtail/pages/");case 3:n=t.sent,n.data.items&&n.data.items.length>0&&i("setMenuItems",n.data.items[0].menu_children);case 5:case"end":return t.stop()}}),t)})))()},fetchBanners:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var n,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,a={data:{banners:[{id:573,resource:i("8f62"),title:"The Entry of Bolingbroke",creators:["Princess Victoria (1840-1901)"]},{id:593,resource:i("4ff2"),title:"A performance of Macbeth in the Rubens Room, Windsor Catle, 4 February 1853",creators:["Louis Haghe (1806-85)"]},{id:559,resource:i("269a"),title:"George IV in 'Prince Florizel' costume",creators:["Richard Cosway (bapt. 1742, d. 1821)"]},{id:604,resource:i("9bf4"),title:"Mr William Shakespeare's comedies, histories & tragedies. Published according to the true original copies.",creators:["William Shakespeare (1564-1616)","Isaac Jaggard (d. 1627)","Edward Blount (1562-1632)"]},{id:558,resource:i("6268"),title:"Ophelia",creators:["Photograph attributed to Princess Louise (1848-1939)"]}]}},n("setBanners",a.data.banners);case 3:case"end":return t.stop()}}),t)})))()},fetchDescription:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getWagtailRichTextPage("wagtail/pages/",Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_WAGTAIL_HOME_SLUG);case 3:n=t.sent,n.data.items&&n.data.items[0].body.length>0&&(i("setTitle",n.data.items[0].title),i("setDescription",n.data.items[0].body));case 5:case"end":return t.stop()}}),t)})))()},fetchPlays:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var n,a,r,o,s,c;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,wn.get("documents/",{size:0});case 3:if(a=t.sent,r=[{id:0,resource:i("8ff5"),title:"King Lear",count:0},{id:1,resource:i("2cfa"),title:"Hamlet",count:0},{id:2,resource:i("a36d"),title:"The Winter's Tale",count:0},{id:3,resource:i("4d67"),title:"The Merry Wives of Windsor",count:0},{id:4,resource:i("54ae"),title:"Henry VIII",count:0},{id:5,resource:i("5345"),title:"Henry V",count:0},{id:6,resource:i("c908"),title:"Macbeth",count:0},{id:7,resource:i("6d82"),title:"Richard III",count:0},{id:8,resource:i("8201"),title:"Romeo and Juliet",count:0},{id:9,resource:i("b082"),title:"Merchant of Venice",count:0},{id:10,resource:i("469c"),title:"A Midsummer Night's Dream",count:0},{id:11,resource:i("ca01"),title:"Richard II",count:0}],a)for(s in o=a.data.facets._filter_work.work.buckets,o)for(c in r)r[c].title===o[s].key&&(r[c].count+=o[s].doc_count);n("setPlays",r);case 7:case"end":return t.stop()}}),t)})))()},fetchThemes:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.get("themes/",{facet:"themes"});case 3:n=t.sent,n&&n.data.themes&&i("setThemes",n.data.themes);case 5:case"end":return t.stop()}}),t)})))()},fetchTags:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=e.commit,n={data:{featuredTags:["Print","Book","Photograph","Painting","Drawing"]}},i("setFeaturedTags",n.data.featuredTags);case 3:case"end":return t.stop()}}),t)})))()}},Hn={setMenuItems:function(e,t){return e.menuItems=t},setBanners:function(e,t){return e.banners=t},setPlays:function(e,t){return e.plays=t},setThemes:function(e,t){return e.themes=t},setFeaturedTags:function(e,t){return e.tags=t},setTitle:function(e,t){return e.title=t},setDescription:function(e,t){return e.description=t},setTimelineData:function(e,t){return e.timelineData=t}},Un={state:Fn,getters:Wn,actions:zn,mutations:Hn},Gn={storyList:[],story:{},storyStrap:""},Vn={getStoryList:function(e){return e.storyList},getThemeList:function(e){return e.storyList},getStory:function(e){return e.story},getStoryStrap:function(e){return e.storyStrap}},$n={fetchThemeList:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n,a,r,o;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,n=[],t.next=4,wn.get("wagtail/pages/?type=editor.ThemeObjectCollection&fields=title,body,related_documents");case 4:if(a=t.sent,a.data.items)for(r in a.data.items)o=a.data.items[r],n.push({id:o.id,url_slug:o.meta.slug,title:o.title,body:o.body,related_documents:o.related_documents});i("setStoryList",n);case 7:case"end":return t.stop()}}),t)})))()},fetchStoryList:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n,a,r,o;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,n=[],t.next=4,wn.get("wagtail/pages/?type=editor.StoryObjectCollection&fields=title,body,related_documents");case 4:if(a=t.sent,a.data.items)for(r in a.data.items)o=a.data.items[r],n.push({id:o.id,url_slug:o.meta.slug,title:o.title,body:o.body,related_documents:o.related_documents});i("setStoryList",n);case 7:case"end":return t.stop()}}),t)})))()},fetchTheme:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getWagtailPage("wagtail/pages/",t,"editor.ThemeObjectCollection","title,body,related_documents");case 3:a=i.sent,a.data.items&&n("setStory",a.data.items[0]);case 5:case"end":return i.stop()}}),i)})))()},fetchStoryStrap:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,n="stories",t.next=4,wn.getWagtailPage("wagtail/pages/",n,"editor.StreamFieldPage","title,body");case 4:a=t.sent,a.data.items&&a.data.items[0].body[0]&&i("setStoryStrap",a.data.items[0].body[0].value);case 6:case"end":return t.stop()}}),t)})))()},fetchStory:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.getWagtailPage("wagtail/pages/",t,"editor.StoryObjectCollection","title,body,related_documents");case 3:a=i.sent,a.data.items&&n("setStory",a.data.items[0]);case 5:case"end":return i.stop()}}),i)})))()}},Jn={setStory:function(e,t){return e.story=t},setStoryList:function(e,t){return e.storyList=t},setThemeList:function(e,t){return e.storyList=t},setStoryStrap:function(e,t){return e.storyStrap=t}},Yn={state:Gn,getters:Vn,actions:$n,mutations:Jn},Kn={results:[],resultsTotal:0,loadMoreResultsUrl:""},Zn={getSearchResults:function(e){return e.results},getSearchResultsTotal:function(e){return e.resultsTotal}},Qn={fetchSearchResults:function(e,t){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e.commit,i.next=3,wn.get("/search",t);case 3:a=i.sent,n("setSearchResults",a.data.results),n("setSearchResultsTotal",a.data.count),a.data.next?n("setloadMoreResultsUrl",a.data.next):n("setloadMoreResultsUrl","");case 7:case"end":return i.stop()}}),i)})))()},loadMoreSearchResults:function(e){return Object(u["a"])(Object(l["a"])().mark((function t(){var i,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.commit,t.next=3,wn.getUrl(Kn.loadMoreResultsUrl);case 3:n=t.sent,n.data.next?i("setloadMoreResultsUrl",n.data.next):i("setloadMoreResultsUrl",""),i("setMoreSearchResults",n.data.results);case 6:case"end":return t.stop()}}),t)})))()}},Xn={setSearchResults:function(e,t){return e.results=t},setSearchResultsTotal:function(e,t){return e.resultsTotal=t},setloadMoreResultsUrl:function(e,t){return e.loadMoreResultsUrl=t},setMoreSearchResults:function(e,t){return t.forEach((function(t){return e.results.push(t)}))}},ea={state:Kn,getters:Zn,actions:Qn,mutations:Xn};a["a"].use(d["a"]),a["a"].use(Fi.a);var ta=new d["a"].Store({modules:{home:Un,secondaryPage:An,archivalRecords:Rn,archiveSingle:Bn,searchResults:ea,objectStories:Yn,VuePluralize:Fi.a}});a["a"].config.productionTip=!1,a["a"].directive("linkified",L.a);var ia=i("ce04");a["a"].use(ia),a["a"].use(i("2b27")),a["a"].use(i("f13c"),{container:"body",duration:500,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),a["a"].$cookies.config("30d","","",!0),new a["a"]({store:ta,router:qi,render:function(e){return e(A)}}).$mount("#app")},6268:function(e,t,i){e.exports=i.p+"img/Slide5.eee5bfcd.png"},"6d82":function(e,t,i){e.exports=i.p+"img/PlayRichardIII.4c76602f.jpg"},8201:function(e,t,i){e.exports=i.p+"img/PlayRomeoAndJuliet.1ff73ff7.jpg"},8638:function(e,t,i){e.exports=i.p+"img/254426-1330619342.b5105ea2.jpg"},"8f62":function(e,t,i){e.exports=i.p+"img/Slide1.4b99a5e0.jpg"},"8ff5":function(e,t,i){e.exports=i.p+"img/PlayKingLear.422cfcd9.jpg"},"9bf4":function(e,t,i){e.exports=i.p+"img/Slide4.9cff837b.jpg"},"9d08":function(e,t,i){"use strict";i("ae5b")},"9f13":function(e,t,i){e.exports=i.p+"img/KCL_box_red_485_rgb.6ae02c40.jpg"},a36d:function(e,t,i){e.exports=i.p+"img/PlayTheWintersTale.937f569a.jpg"},ae5b:function(e,t,i){},b082:function(e,t,i){e.exports=i.p+"img/PlayMerchantOfVenice.3dc658b5.jpg"},c60b:function(e,t,i){e.exports=i.p+"img/472881-1619192659.6fff3180.jpg"},c908:function(e,t,i){e.exports=i.p+"img/PlayMacbeth.53d88b89.jpg"},ca01:function(e,t,i){e.exports=i.p+"img/PlayRichardII.20e6bc4d.jpg"},e277:function(e,t,i){e.exports=i.p+"img/RCTLogo.1f960691.jpg"},e6ac:function(e,t,i){e.exports=i.p+"img/bbk-logo-black-digi.79ab9253.jpg"},e8e8:function(e,t,i){e.exports=i.p+"img/sharc-imageplaceholder-light.7824bcd7.jpg"},f382:function(e,t,i){e.exports=i.p+"img/912381-1565625545.aa0365e3.jpg"}});
//# sourceMappingURL=app.4684e915.js.map