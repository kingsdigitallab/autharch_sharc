(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],h=0,d=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"014d":function(t,e,i){t.exports=i.p+"img/1008422-1606818568.6e3b91c2.jpg"},1003:function(t,e,i){"use strict";i("491b")},"269a":function(t,e,i){t.exports=i.p+"img/Slide3.148379d8.jpg"},"2cfa":function(t,e,i){t.exports=i.p+"img/PlayHamlet.c4f422e3.jpg"},"394b":function(t,e,i){t.exports=i.p+"img/sharc-logo-full.061b2bd4.svg"},"3b1d":function(t,e,i){t.exports=i.p+"img/ahrc-2018-landscape-logo-1200px.af8871ed.png"},"469c":function(t,e,i){t.exports=i.p+"img/PlayMidsummerNightsDream.eacef46f.jpg"},"491b":function(t,e,i){},"4d67":function(t,e,i){t.exports=i.p+"img/PlayMerryWivesOfWindsor.bf229f98.jpg"},"4ff2":function(t,e,i){t.exports=i.p+"img/Slide2.b02a616f.png"},5345:function(t,e,i){t.exports=i.p+"img/PlayHenryV.0241a99c.jpg"},"54ae":function(t,e,i){t.exports=i.p+"img/PlayHenryVIII.cdb0050a.jpg"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("TheHeader"),e("router-view"),e("TheFooter")],1)},s=[],o=function(){var t=this,e=t._self._c;return e("header",[e("div",{staticClass:"container"},[e("router-link",{staticClass:"header__logo",attrs:{to:{name:"home"}}},[e("img",{attrs:{src:i("394b"),alt:"SHARC logo"}})]),e("div",{staticClass:"nav-wrapper"},[e("nav",{staticClass:"header__nav"},[e("ul",{staticClass:"header__nav-list"},[e("li",{staticClass:"header__nav-item",on:{click:t.toggleMenu}},[e("router-link",{staticClass:"header__link js-home",attrs:{to:{name:"home"},exact:""}},[t._v("Home")])],1),e("li",{staticClass:"header__nav-item",on:{click:t.toggleMenu}},[e("a",{staticClass:"header__link js-home",attrs:{href:"https://sharc.kcl.ac.uk/exhibition/"}},[t._v("Exhibition")])]),e("li",{staticClass:"header__nav-item",on:{click:t.toggleMenu}},[e("router-link",{staticClass:"header__link js-about",attrs:{to:{name:"about"}}},[t._v("About")])],1),t.getEventsPageStatus?e("li",{staticClass:"header__nav-item",on:{click:t.toggleMenu}},[e("router-link",{staticClass:"header__link js-events",attrs:{to:"/events"}},[t._v("Events")])],1):t._e()])]),e("div",{staticClass:"mobile__nav",attrs:{role:"button"},on:{click:t.toggleMenu}},[e("div",{staticClass:"line1"}),e("div",{staticClass:"line2"}),e("div",{staticClass:"line3"})])])],1)])},c=[],l=i("c7eb"),u=i("1da1"),h=i("5530"),d=(i("14d9"),i("b0c0"),i("2f62")),f={name:"TheHeader",computed:Object(d["c"])(["getEventsPageStatus"]),data:function(){return{searchTerm:""}},methods:Object(h["a"])({toggleMenu:function(){var t=document.querySelector(".mobile__nav"),e=document.querySelector(".header__nav");t.classList.toggle("toggle"),e.classList.toggle("nav-active")},toggleSearch:function(){document.querySelector(".mobile__nav").classList.remove("toggle"),document.querySelector(".header__nav").classList.remove("nav-active")},setPage:function(t){switch(t.name){case"search-results":break;case"not-found":break;case"accessibility-statement":break;case"acknowledgements":this.setActivePage("about");break;case"bibliography":this.setActivePage("resources");break;case"glossary":this.setActivePage("resources");break;case"object":this.setActivePage("objects");break;default:this.setActivePage(t.name)}},setActivePage:function(t){setTimeout((function(){document.querySelector(".js-"+t)&&document.querySelector(".js-"+t).classList.add("router-link-exact-active")}),100)},submit:function(){""!=this.searchTerm&&this.$router.push("/search?q="+this.searchTerm)}},Object(d["b"])(["fetchEventsPageStatus"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.setPage(t.$route),e.next=3,t.fetchEventsPageStatus();case 3:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t){document.querySelectorAll(".router-link-exact-active").length>0&&document.querySelector(".router-link-exact-active").classList.remove("router-link-exact-active"),this.setPage(t)}}},p=f,m=i("0c7c"),_=Object(m["a"])(p,o,c,!1,null,null,null),g=_.exports,v=function(){var t=this,e=t._self._c;return e("footer",[e("div",{staticClass:"image-credit"},[e("p",[t._v("\n      Image credits: Royal Collection Trust and Royal Archives / © Her Majesty Queen Elizabeth II 2019-"+t._s((new Date).getFullYear())+"\n    ")])]),t._m(0),t._m(1),e("span",{staticClass:"delimiter"},[t._v("|")]),e("router-link",{attrs:{to:"/accessibility"}},[t._v("Accessibility")]),e("p",[t._v("\n    © 2019-"+t._s((new Date).getFullYear())+" Designed, developed and maintained by \n    "),e("a",{attrs:{href:"https://kdl.kcl.ac.uk",title:"King's Digital Lab"}},[t._v("King's\n    Digital Lab\n    ")])]),0==this.cookie_accepted?e("div",{staticClass:"cookies-box hide",attrs:{id:"cookie-disclaimer"}},[t._m(2),e("p",[e("button",{staticClass:"button success closeme",attrs:{"aria-label":"Dismiss alert",type:"button"},on:{click:function(e){return t.set_cookie_accepted()}}},[t._v("I understand\n      ")])])]):t._e()],1)},y=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-logos"},[e("a",{attrs:{href:"https://kcl.ac.uk",title:"KCL link"}},[e("img",{attrs:{src:i("9f13"),alt:"KCL logo"}})]),e("a",{attrs:{href:"https://www.rct.uk/",title:"RCT link"}},[e("img",{attrs:{src:i("e277"),alt:"RCT logo"}})]),e("a",{attrs:{href:"http://ahrc.ukri.org",title:"AHRC link"}},[e("img",{staticClass:"footer__img",attrs:{src:i("3b1d"),alt:"AHRC logo"}})]),e("a",{attrs:{href:"http://bbk.ac.uk",title:"Birkbeck University of London link"}},[e("img",{attrs:{src:i("e6ac"),alt:"Birbeck University of London logo"}})])])},function(){var t=this,e=t._self._c;return e("a",{attrs:{href:"https://twitter.com/sharc_project"}},[e("i",{staticClass:"fab fa-twitter",attrs:{"aria-hidden":"true"}}),t._v(" @sharc_project")])},function(){var t=this,e=t._self._c;return e("p",[t._v("We use cookies to track usage and preferences in accordance with our "),e("a",{staticClass:"button cookie",attrs:{href:"/privacy-policy/"}},[t._v("Privacy & Cookie Policy")])])}],b="cookie_accepted",w={name:"Footer",components:{},data:function(){return{cookie_accepted:!1}},methods:{set_cookie_accepted:function(){this.$cookies.set(b,"True"),this.cookie_accepted=!0}},created:function(){this.$cookies.isKey(b)&&"True"==this.$cookies.get(b)&&(this.cookie_accepted=!0)}},x=w,j=Object(m["a"])(x,v,y,!1,null,null,null),T=j.exports,S={name:"app",components:{TheHeader:g,TheFooter:T}},O=S,C=(i("1003"),Object(m["a"])(O,r,s,!1,null,null,null)),A=C.exports,M=i("9aa5"),L=i.n(M),E=i("8c4f"),R=function(){var t=this,e=t._self._c;return e("main",{staticClass:"home"},[e("home-main"),e("div",{staticClass:"home-main container"})],1)},P=[],D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("div",{staticClass:"main-banner"},[e("div",{staticClass:"background"}),e("figure",[t.loading?e("div",{staticClass:"loader"}):[e("VueSlickCarousel",t._b({ref:"carousel",staticClass:"slider-images-block",on:{init:t.handleInit,afterChange:t.handleAfterChange}},"VueSlickCarousel",t.sliderOptions,!1),t._l(t.mainBanners,(function(t,i){return e("div",{key:i},[e("router-link",{attrs:{to:{name:"home",params:{id:t.id}}}},[e("span"),e("img",{attrs:{src:t.resource,alt:t.title}})])],1)})),0),e("button",{staticClass:"slider-arrow prev",attrs:{"aria-label":"previous slide"},on:{click:t.showPrev}},[t._v("")]),e("button",{staticClass:"slider-arrow next",attrs:{"aria-label":"next slide"},on:{click:t.showNext}},[t._v("")]),e("div",{staticClass:"main-banner-description"},[e("div",{staticClass:"slider-button-block"},t._l(t.mainBanners,(function(i,n){return e("span",{key:n},[e("button",{staticClass:"slider-button",class:{active:t.currentSlide==n},attrs:{"aria-label":"slider button"},on:{click:function(e){return t.goTo(n)}}},[e("span",{attrs:{hidden:""}},[t._v(t._s(i.title))])])])})),0),e("figcaption",[e("h3",[t._v(t._s(this.currentImg.title))]),e("p",t._l(this.currentImg.creators,(function(i,n){return e("span",{key:n},[t._v(t._s(i)+"\n                                "),n!=t.currentImg.creators.length-1?[t._v(", ")]:t._e()],2)})),0)])])]],2)]),t._m(0)])},q=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder"},[e("div",[e("span",[e("p",[t._v("What has Shakespeare done for the royal family, and what has the royal family done for Shakespeare? This is the central research question of ‘Shakespeare in the Royal Collection’, an AHRC funded project (September 2018  - July 2022), which focuses on the Shakespeare-related holdings in the Royal Collection and Royal Archives and the stories they have to tell, primarily during the period 1714-1945.\n                ")]),e("p",[t._v("\n                This website includes a searchable database of the Shakespeare-related objects in the Royal Collection, an online exhibition, an explanatory timeline, and stories from the collection. Educational resources for teachers are also available and are free to download and use.\n                ")])]),e("br"),e("br"),e("hr"),e("br")]),e("div",{staticClass:"two-column-50-50"},[e("div",[e("a",{attrs:{href:"/objects"}},[e("img",{attrs:{src:i("014d"),width:"691",height:"500",alt:"David Garrick Reciting his Ode, at Drury Lane Theatre, on dedicating a Building & erecting a Statue, to Shakespeare, Etching and engraving"}})]),e("a",{attrs:{href:"/objects"}},[e("h3",[t._v("Search the Database")])]),e("p",[t._v("How many photographs on the theme of "),e("em",[t._v("The Winter’s Tale")]),t._v("  were acquired by Queen Victoria between 1848 and 1880? The Search page offers various ways to discover the Shakespeare-related holdings in the Royal Collection and Royal Archives, by search and by filter.")])]),e("div",[e("a",{attrs:{href:"/exhibition"}},[e("img",{attrs:{src:i("f382"),width:"1000",height:"789",alt:"rince Arthur and Prince Leopold in the costume of the sons of King Henry IVth, Albumen print hand-coloured with watercolour"}}),e("h3",[t._v("Exhibition")])]),e("p",[t._v("‘Making History: Shakespeare and the Royal Family’ brings together objects from the Royal Collection and Royal Archives with prints, paintings and decorative art objects in collections elsewhere. It explores the tangible effect of royal patronage on the afterlives of Shakespeare’s plays. ")])]),e("div",[e("a",{attrs:{href:"/stories"}},[e("img",{attrs:{src:i("c60b"),width:"1000",height:"764",alt:"Herne's Oak, Windsor Park, Etching with hand colouring"}}),e("h3",[t._v("Stories")])]),e("p",[t._v("A way to explore some of the key themes that emerge from the Royal Collection's Shakespeare-related objects, including the royals' own forays into Shakespeare-themed art, and the mystery of Herne's Oak.")])]),e("div",[e("a",{attrs:{href:"/timeline"}},[e("img",{attrs:{src:i("8638"),width:"684",height:"500",alt:"Fan depicting 'The Three Eldest Sons of King George III, Ivory brisé fan; the guards (identical) with two blue Wedgwood jasper-ware plaques, strung cut-steel beads and applied marquisites, backed with gold leaf"}}),e("h3",[t._v("Timeline")])]),e("p",[t._v("The timeline gives a sense of the history of Shakespeare in the Royal Collection. It spans the seventeenth century to the present day, placing the objects in our database in context. ")])])])])}],N=i("a7ab"),I=i.n(N),F=(i("7b8d"),{name:"HomeMain",components:{VueSlickCarousel:I.a},computed:Object(d["c"])(["mainBanners"]),data:function(){return{currentImg:0,currentSlide:0,sliderOptions:{arrows:!1,dots:!1},loading:!0}},methods:Object(h["a"])({showNext:function(){this.$refs.carousel.next()},showPrev:function(){this.$refs.carousel.prev()},handleInit:function(){this.currentImg=this.mainBanners[0]},handleAfterChange:function(t){this.currentImg=this.mainBanners[t],this.currentSlide=t},goTo:function(t){this.$refs.carousel.goTo(t)}},Object(d["b"])(["fetchBanners"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchBanners();case 2:t.loading=!1;case 3:case"end":return e.stop()}}),e)})))()}}),z=F,H=Object(m["a"])(z,D,q,!1,null,null,null),W=H.exports,B={name:"Home",components:{HomeMain:W},data:function(){return{tab:"explore"}}},U=B,$=Object(m["a"])(U,R,P,!1,null,null,null),G=$.exports,Y=function(){var t=this,e=t._self._c;return e("main",{staticClass:"object-list"},[e("div",{staticClass:"container"},[e("the-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("h1",{staticClass:"page-title"},[t._v("Search")]),e("p",{staticClass:"page-description",domProps:{innerHTML:t._s(t.pageDescription)}}),e("archive-list")],1)])},V=[],J=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"breadcrumbs"},t._l(t.breadcrumbs,(function(i,n){return e("li",{key:n},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:i.url}},[t._v(t._s(i.text))])],1)})),0)},Z=[],K={name:"TheBreadcrumbs",props:{breadcrumbs:{type:Array}}},X=K,Q=Object(m["a"])(X,J,Z,!1,null,null,null),tt=Q.exports,et=(i("4de4"),i("d81d"),i("fb6a"),i("d3b7"),i("0643"),i("2382"),i("a573"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"archival-list"},[e("div",{staticClass:"list-summary"},[e("div",{staticClass:"summary"},[e("form",{staticClass:"search-field",on:{submit:function(e){return e.preventDefault(),t.searchRecords.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"search","aria-label":"Search by title, reference, description, and references",placeholder:"Search by name, date, category, creator",onfocus:"this.placeholder=''",onblur:"this.placeholder='Search by name, date, category, creator'"},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),e("input",{staticClass:"search-button",attrs:{type:"submit","aria-label":"Search button",value:""}})]),e("p",[e("a",{attrs:{href:"#"},on:{click:function(e){return t.clearSearch()}}},[t._v("X")]),t._v(" "+t._s(t.getTotalArchives)+" "+t._s(t._f("pluralize")("object",t.getTotalArchives))+" found")]),e("div",{staticClass:"sort-by-section"},[e("fieldset",[e("label",{attrs:{for:"sort-by"}},[t._v("Sort by")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"sort-by",attrs:{id:"sort-by","aria-label":"Sort by"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortBy=e.target.multiple?i:i[0]},function(e){return t.changeSortBy()}]}},[e("option",{attrs:{value:"_score"},domProps:{selected:"_score"==t.sortBy}},[t._v("Relevance")]),e("option",{attrs:{value:"unittitle"},domProps:{selected:"unittitle"==t.sortBy}},[t._v("Title")]),e("option",{attrs:{value:"date_of_creation"},domProps:{selected:"date_of_creation"==t.sortBy}},[t._v("Creation year")]),e("option",{attrs:{value:"date_of_acquisition"},domProps:{selected:"date_of_acquisition"==t.sortBy}},[t._v("Acquisition year")])])]),e("button",{staticClass:"transparent asc-desc",on:{click:function(e){return t.sortAscDesc()}}},[e("span",{attrs:{hidden:""}},[t._v("Sort")]),e("i",{class:t.sortDescVal?"far fa-sort-alpha-down-alt":"far fa-sort-alpha-down"})]),e("button",{staticClass:"button-primary filter display-mobile",attrs:{"aria-label":"filter objects"},on:{click:t.toggleFilters}},[e("span",[t._v("Filter")])])])])]),e("div",{staticClass:"two-column-20-80"},[e("div",{staticClass:"filters"},[e("button",{staticClass:"display-mobile filter-button",attrs:{"aria-label":"filter objects"},on:{click:t.toggleFilters}},[t._v("Close")]),e("h2",[t._v("Filters")]),e("div",[e("div",{staticClass:"filtergroup"},[e("h3",[t._v("Dates")]),t.getArchivalFacets.creation_years&&t.getArchivalFacets.creation_years[0]>0&&t.getArchivalFacets.creation_years[1]>0?e("fieldset",{staticClass:"range",attrs:{id:"creation_year"}},[e("legend",[t._v("Creation year")]),e("div",{ref:"creationSlider",attrs:{id:"creation-year-slider"}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.minCreationRange,expression:"minCreationRange"}],staticClass:"range-year",attrs:{type:"number",name:"creation_start_year","aria-label":"creation year start",min:t.creationSlider.min,max:t.creationSlider.max},domProps:{value:t.minCreationRange},on:{change:function(e){return t.updateCreationSlider(t.minCreationRange,t.maxCreationRange)},input:function(e){e.target.composing||(t.minCreationRange=e.target.value)}}}),t._v("\n            -\n            "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.maxCreationRange,expression:"maxCreationRange"}],staticClass:"range-year",attrs:{type:"number",name:"creation_end_year","aria-label":"creation year end",min:t.creationSlider.min,max:t.creationSlider.max},domProps:{value:t.maxCreationRange},on:{change:function(e){return t.updateCreationSlider(t.minCreationRange,t.maxCreationRange)},input:function(e){e.target.composing||(t.maxCreationRange=e.target.value)}}}),e("input",{staticClass:"button-primary",attrs:{type:"submit",value:"Filter"},on:{click:function(e){return t.filterByYear("creation_years",t.minCreationRange,t.maxCreationRange)}}})]):t._e(),t.getArchivalFacets.acquisition_years&&t.getArchivalFacets.acquisition_years[0]>0&&t.getArchivalFacets.acquisition_years[1]>0?e("fieldset",{staticClass:"range",attrs:{id:"acquisition_year"}},[e("legend",[t._v("Acquisition year")]),e("span",{attrs:{hidden:""}},[t._v("Acquisition year range")]),e("div",{ref:"acquisitionSlider",attrs:{id:"acquisition-year-slider"}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.minAcquisitionRange,expression:"minAcquisitionRange"}],staticClass:"range-year",attrs:{type:"number",name:"acquisition_start_year","aria-label":"acquisition year start",min:t.acquisitionSlider.min,max:t.acquisitionSlider.max},domProps:{value:t.minAcquisitionRange},on:{change:function(e){return t.updateAcquisitionSlider(t.minAcquisitionRange,t.maxAcquisitionRange)},input:function(e){e.target.composing||(t.minAcquisitionRange=e.target.value)}}}),t._v("\n              -\n              "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.maxAcquisitionRange,expression:"maxAcquisitionRange"}],staticClass:"range-year",attrs:{type:"number",name:"acquisition_end_year","aria-label":"acquisition year end",min:t.acquisitionSlider.min,max:t.acquisitionSlider.max},domProps:{value:t.maxAcquisitionRange},on:{change:function(e){return t.updateAcquisitionSlider(t.minAcquisitionRange,t.maxAcquisitionRange)},input:function(e){e.target.composing||(t.maxAcquisitionRange=e.target.value)}}}),e("input",{staticClass:"button-primary",attrs:{type:"submit",value:"Filter"},on:{click:function(e){return t.filterByYear("acquisition_years",t.minAcquisitionRange,t.maxAcquisitionRange)}}})]):t._e()]),e("div",{staticClass:"filtergroup"},[t._m(0),t.getArchivalFacets.acquirer&&t.getArchivalFacets.acquirer.length>0?e("fieldset",[e("legend",[t._v("Acquirers "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.acquirer.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"acquirers-toggle"}}),t._m(1),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.acquirer,t.searchRelatedAcquirers,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.relatedAcquirersCheckbox,expression:"index < 100 || relatedAcquirersCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"acquirer","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("acquirer",i.key)},on:{click:function(e){return t.filter("acquirer",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e(),t.getArchivalFacets.acquirer&&t.getArchivalFacets.acquirer.length>0?e("fieldset",[e("legend",[t._v("All People "),e("span",{staticClass:"count"},[t.getArchivalFacets.people.length>100?[t._v("100+")]:[t._v(t._s(t.getArchivalFacets.people.length))]],2)]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"people-toggle"}}),t._m(2),e("div",{staticClass:"toggle-section"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchRelatedPeople,expression:"searchRelatedPeople"}],attrs:{type:"text",id:"people-autocomplete"},domProps:{value:t.searchRelatedPeople},on:{keyup:t.filterPeople,input:function(e){e.target.composing||(t.searchRelatedPeople=e.target.value)}}}),e("div",{staticClass:"facets"},t._l(t.getArchivalFacets.people,(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.relatedPeopleCheckbox,expression:"index < 100 || relatedPeopleCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"people","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("people",i.key)},on:{click:function(e){return t.filter("people",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e()]),e("div",{staticClass:"filtergroup"},[e("h3",[t._v("Objects")]),t.getArchivalFacets.works&&t.getArchivalFacets.works.length>0?e("fieldset",[e("legend",[t._v("Works "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.works.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"works-toggle"}}),t._m(3),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.works,t.searchWorks,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.worksCheckbox,expression:"index < 100 || worksCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"work","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("work",i.key)},on:{click:function(e){return t.filter("work",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e(),t.getArchivalFacets.individual_connections&&t.getArchivalFacets.individual_connections.length>0?e("fieldset",[e("legend",[t._v("Shakespeare as Individual "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.individual_connections.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"connections-toggle"}}),t._m(4),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.individual_connections,t.searchConnections,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.connectionsCheckbox,expression:"index < 100 || connectionsCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"individual_connections","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("individual_connection",i.key)},on:{click:function(e){return t.filter("individual_connections",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e(),t.getArchivalFacets.texts&&t.getArchivalFacets.texts.length>0?e("fieldset",[e("legend",[t._v("Texts "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.texts.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"texts-toggle"}}),t._m(5),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.texts,t.searchTexts,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.textsCheckbox,expression:"index < 100 || textsCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"text","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("text",i.key)},on:{click:function(e){return t.filter("text",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e(),t.getArchivalFacets.performances&&t.getArchivalFacets.performances.length>0?e("fieldset",[e("legend",[t._v("Performances "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.performances.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"performances-toggle"}}),t._m(6),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.performances,t.searchPerformances,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.performancesCheckbox,expression:"index < 100 || performancesCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"text","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("performance",i.key)},on:{click:function(e){return t.filter("performance",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e(),t.getArchivalFacets.sources&&t.getArchivalFacets.sources.length>0?e("fieldset",[e("legend",[t._v("Sources "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.sources.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"sources-toggle"}}),t._m(7),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.sources,t.searchSources,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.sourcesCheckbox,expression:"index < 100 || sourcesCheckbox"}],key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"text","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("source",i.key)},on:{click:function(e){return t.filter("source",i.key)}}}),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e(),t.getArchivalFacets.category&&t.getArchivalFacets.category.length>0?e("fieldset",[e("legend",[t._v("Categories "),e("span",{staticClass:"count"},[t._v(t._s(t.getArchivalFacets.category.length))])]),e("input",{staticClass:"toggle-checkbox",attrs:{type:"checkbox",id:"categories-toggle"}}),t._m(8),e("div",{staticClass:"toggle-section"},[e("div",{staticClass:"facets"},t._l(t.sortedData(t.getArchivalFacets.category,t.searchCategories,"alphabetical"),(function(i,n){return e("label",{directives:[{name:"show",rawName:"v-show",value:n<100||t.categoriesCheckbox,expression:"index < 100 || categoriesCheckbox"}],key:n,staticClass:"facet"},[i.key.length>0?e("input",{attrs:{type:"checkbox",name:"category","aria-label":i.key},domProps:{value:i.key,checked:t.checkedOption("category",i.key)},on:{click:function(e){return t.filter("category",i.key)}}}):t._e(),t._v(" "+t._s(t._f("capitalize")(i.key))+" "),e("span",{staticClass:"count"},[t._v(t._s(i.doc_count))])])})),0)])]):t._e()])])]),e("div",{staticClass:"objects"},[t.loadingRecords?e("div",{staticClass:"loader"}):[t.selectedFacets.length>0||0!=t.creationYears[0]&&0!=t.creationYears[1]||0!=t.acquisitionYears[0]&&0!=t.acquisitionYears[1]?e("fieldset",{staticClass:"selected-facets"},[e("legend",{attrs:{hidden:""}},[t._v("Selected filters")]),0!=t.creationYears[0]&&0!=t.creationYears[1]?[e("label",{staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"creation_years","aria-label":"creation years",checked:""},domProps:{value:t.creationYears[0]+"-"+t.creationYears[1]},on:{click:function(e){return t.filterByYear("creation_years",t.creationYears[0],t.creationYears[1])}}}),t._v(" \n                Creation years: "+t._s(t.creationYears[0]+"-"+t.creationYears[1])+"\n            ")])]:t._e(),0!=t.acquisitionYears[0]&&0!=t.acquisitionYears[1]?[e("label",{staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:"acquisition_years","aria-label":"acquisition years",checked:""},domProps:{value:t.acquisitionYears[0]+"-"+t.acquisitionYears[1]},on:{click:function(e){return t.filterByYear("acquisition_years",t.acquisitionYears[0],t.acquisitionYears[1])}}}),t._v(" \n                Acquisition years: "+t._s(t.acquisitionYears[0]+"-"+t.acquisitionYears[1])+"\n            ")])]:t._e(),t.selectedFacets.length>0?t._l(t.selectedFacets,(function(i,n){return e("label",{key:n,staticClass:"facet"},[e("input",{attrs:{type:"checkbox",name:i.category,"aria-label":i.key,checked:""},domProps:{value:i.key},on:{click:function(e){return t.filter(i.category,i.key)}}}),t._v(" \n                "+t._s(i.key)+"\n            ")])})):t._e(),e("button",{staticClass:"clear-filters",on:{click:t.clearFacets}},[t._v("Clear all filters")])],2):t._e(),e("ul",{staticClass:"list"},t._l(t.getArchivalRecords,(function(n,a){return e("li",{key:a,staticClass:"list-item"},[e("router-link",{attrs:{to:{name:"rct-object",params:{reference:n.reference}},"aria-label":"link to "+n.unittitle}},[e("div",{staticClass:"object-thumbnail"},["PLACEHOLDER"!=n.media[0].thumbnail_url?e("img",{attrs:{src:n.media[0].thumbnail_url,alt:n.media[0].title}}):e("img",{attrs:{src:i("e8e8"),height:"1602",width:"1644",alt:"Image placeholder"}})]),e("div",{staticClass:"object-description"},[e("p",{staticClass:"details"},[n.date_of_creation_range?e("span",[t._v(t._s(n.date_of_creation_range))]):t._e(),e("span",{staticClass:"delimiter"},[t._v("|")]),n.category&&n.category.length>0?[t._v(t._s(n.category))]:t._e()],2),e("h4",[t._v("\n                    "+t._s(t._f("truncate")(n.unittitle,100))+"\n                  ")]),n.creators?e("p",{staticClass:"details"},[t._l(n.creators.slice(0,t.sliceList),(function(i,a){return e("span",{key:a},[t._v("\n                      "+t._s(i.name)),a!=n.creators.length-1?[t._v("; ")]:t._e()],2)})),n.creators.length>t.sliceList?[t._v("...")]:t._e()],2):t._e()])]),n.related_entities&&n.related_entities.length>0?e("div",{staticClass:"connected-to"},[e("p",{staticClass:"details"},[t._v("Connected to: ")]),t._l(n.related_entities.slice(0,t.sliceList),(function(i,a){return e("p",{key:a,staticClass:"details"},[e("a",{attrs:{href:t.$router.resolve({name:"objects",query:{page:1,work:[i.key]}}).href}},[t._v(t._s(i.key))]),a!=n.related_entities.length-1?e("span",[t._v("; ")]):t._e()])}))],2):t._e()],1)})),0),t.loadingMoreRecords?e("div",{staticClass:"loader"}):[t.getArchivalRecords&&t.getArchivalRecords.length<t.getTotalArchives?e("button",{staticClass:"button-secondary",attrs:{type:"button"},on:{click:function(e){return t.moreRecords()}}},[t._v("Show more objects")]):t._e()]]],2)])])}),it=[function(){var t=this,e=t._self._c;return e("h3",[t._v("People \n            "),e("span",{staticClass:"tooltip"},[e("span",{staticClass:"tooltiptext"},[t._v("\n                Some people are listed under more than one title. E.g. Elizabeth Bowes-Lyon as 'Elizabeth (1900-2002), Duchess of York' and 'Queen Elizabeth (1900-2002), the Queen Mother'. Clicking on one title for a person will show all objects they acquired under any of their titles.\n              ")])])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"acquirers-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse acquirers")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"people-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse acquirers")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"works-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse works")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"connections-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse connections")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"texts-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse texts")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"performances-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse performances")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"sources-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse sources")])])},function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle-label",attrs:{for:"categories-toggle"}},[e("span",{attrs:{hidden:""}},[t._v("Expand/collapse categories")])])}],nt=(i("4e82"),i("a434"),i("e9c4"),i("a9e3"),i("b64b"),i("ac1f"),i("25f0"),i("466d"),i("5319"),i("ddb0"),i("e9fa")),at=i.n(nt),rt=(i("c0a8"),{name:"ArchiveList",computed:Object(d["c"])(["getArchivalRecords","getTotalArchives","getArchivalFacets"]),data:function(){return{loadingRecords:!0,loadingMoreRecords:!1,sortBy:"_score",sortDescVal:!1,minCreationRange:0,maxCreationRange:0,creationSlider:{startMin:0,startMax:0,min:0,max:0},minAcquisitionRange:0,maxAcquisitionRange:0,acquisitionSlider:{startMin:0,startMax:0,min:0,max:0},searchWorks:"",searchConnections:"",searchCategories:"",searchTexts:"",searchPerformances:"",searchSources:"",searchRelatedAcquirers:"",searchRelatedPeople:"",worksCheckbox:!1,categoriesCheckbox:!1,connectionsCheckbox:!1,textsCheckbox:!1,performancesCheckbox:!1,sourcesCheckbox:!1,relatedAcquirersCheckbox:!1,relatedPeopleCheckbox:!1,pageNum:1,selectedFacets:[],creationYears:[0,0],acquisitionYears:[0,0],searchTerm:"",sliceList:3}},methods:Object(h["a"])({initCreationYearRange:function(t,e){var i=this;0==this.minCreationRange&&(this.minCreationRange=t),0==this.maxCreationRange&&(this.maxCreationRange=e),this.creationSlider.startMin=this.minCreationRange,this.creationSlider.startMax=this.maxCreationRange,this.creationSlider.min=t,this.creationSlider.max=e,at.a.create(this.$refs.creationSlider,{start:[this.creationSlider.startMin,this.creationSlider.startMax],step:1,range:{min:this.creationSlider.min,max:this.creationSlider.max}}),this.$refs.creationSlider.noUiSlider.on("update",(function(t,e){i[e?"maxCreationRange":"minCreationRange"]=parseInt(t[e])}))},initAcquisitionYearRange:function(t,e){var i=this;0==this.minAcquisitionRange&&(this.minAcquisitionRange=t),0==this.maxAcquisitionRange&&(this.maxAcquisitionRange=e),this.acquisitionSlider.startMin=this.minAcquisitionRange,this.acquisitionSlider.startMax=this.maxAcquisitionRange,this.acquisitionSlider.min=t,this.acquisitionSlider.max=e,at.a.create(this.$refs.acquisitionSlider,{start:[this.acquisitionSlider.startMin,this.acquisitionSlider.startMax],step:1,range:{min:this.acquisitionSlider.min,max:this.acquisitionSlider.max}}),this.$refs.acquisitionSlider.noUiSlider.on("update",(function(t,e){i[e?"maxAcquisitionRange":"minAcquisitionRange"]=parseInt(t[e])}))},updateCreationSlider:function(t,e){this.$refs.creationSlider.noUiSlider.set([t,e])},updateAcquisitionSlider:function(t,e){this.$refs.acquisitionSlider.noUiSlider.set([t,e])},checkedOption:function(t,e){return this.selectedFacets.filter((function(i){return i.key.toLowerCase().replace(/[’’']/g,"")===e.toLowerCase().replace(/[’’']/g,"")&&i.category===t})).length>0},sortedData:function(t,e,i){e=e.toLowerCase();var n=t.slice().filter((function(t){var i=t.key.toLowerCase();return i.match(e)}));return"alphabetical"==i?n.sort((function(t,e){return t.key.localeCompare(e.key)})):"count"==i&&n.sort((function(t,e){return e.doc_count-t.doc_count})),n},filterByYear:function(t,e,i){var n=this;return Object(u["a"])(Object(l["a"])().mark((function a(){var r,s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.loadingRecords=!0,r=n.$route.query,n.pageNum=1,r["page"]=n.pageNum,s=e+"-"+i,r[t]&&r[t]==s?("creation_years"==t&&(n.creationYears=[0,0],n.minCreationRange=n.creationSlider.min,n.maxCreationRange=n.creationSlider.max,n.updateCreationSlider(n.creationSlider.min,n.creationSlider.max)),"acquisition_years"==t&&(n.acquisitionYears=[0,0],n.minAcquisitionRange=n.acquisitionSlider.min,n.maxAcquisitionRange=n.acquisitionSlider.max,n.updateAcquisitionSlider(n.acquisitionSlider.min,n.acquisitionSlider.max)),delete r[t]):("creation_years"==t?(n.creationYears[0]=e,n.creationYears[1]=i,n.minCreationRange=e,n.maxCreationRange=i):(n.acquisitionYears[0]=e,n.acquisitionYears[1]=i,n.minAcquisitionRange=e,n.maxAcquisitionRange=i),r[t]=e+"-"+i),n.$router.replace({query:{}}),n.$router.push({query:r}),a.next=10,n.fetchArchivalRecords({searchTerm:n.searchTerm,pages:n.pageNum,creation_years:JSON.parse(JSON.stringify(n.creationYears)),acquisition_years:JSON.parse(JSON.stringify(n.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(n.selectedFacets)),sort:{sort_by:n.sortBy,desc:n.sortDescVal}});case 10:n.loadingRecords=!1;case 11:case"end":return a.stop()}}),a)})))()},sortAscDesc:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getSortedRecords(!0);case 1:case"end":return e.stop()}}),e)})))()},changeSortBy:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getSortedRecords(!1);case 1:case"end":return e.stop()}}),e)})))()},getSortedRecords:function(t){var e=this;return Object(u["a"])(Object(l["a"])().mark((function i(){var n;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.loadingRecords=!0,n=e.$route.query,n["sort_by"]=e.sortBy,t&&(e.sortDescVal=!e.sortDescVal),n["desc"]=e.sortDescVal,e.$router.replace({query:{}}),e.$router.push({query:n}),i.next=9,e.fetchArchivalRecords({searchTerm:e.searchTerm,pages:e.pageNum,creation_years:JSON.parse(JSON.stringify(e.creationYears)),acquisition_years:JSON.parse(JSON.stringify(e.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(e.selectedFacets)),sort:{sort_by:e.sortBy,desc:e.sortDescVal}});case 9:e.loadingRecords=!1;case 10:case"end":return i.stop()}}),i)})))()},searchRecords:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingRecords=!0,t.pageNum=1,t.$router.replace({query:{}}),""!=t.searchTerm?t.$router.push({query:{page:t.pageNum,q:t.searchTerm}}):t.$router.push({query:{page:t.pageNum}}),e.next=6,t.fetchArchivalRecords({searchTerm:t.searchTerm,pages:t.pageNum,creation_years:JSON.parse(JSON.stringify(t.creationYears)),acquisition_years:JSON.parse(JSON.stringify(t.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(t.selectedFacets)),sort:{sort_by:t.sortBy,desc:t.sortDescVal}});case 6:t.loadingRecords=!1;case 7:case"end":return e.stop()}}),e)})))()},filter:function(t,e){var i=this;return Object(u["a"])(Object(l["a"])().mark((function n(){var a;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i.loadingRecords=!0,a=i.$route.query,i.pageNum=1,a["page"]=i.pageNum,i.selectedFacets.filter((function(i){return i.key===e&&i.category===t})).length>0?(i.selectedFacets=i.selectedFacets.filter((function(i){return!(i.category===t&&i.key===e)})),Array.isArray(a[t])?a[t].splice(a[t].indexOf(e),1):delete a[t]):(i.selectedFacets.push({category:t,key:e}),a[t]?(Array.isArray(a[t])||(a[t]=[a[t]]),a[t].push(e)):a[t]=[e]),i.$router.replace({query:{}}),i.$router.push({query:a}),n.next=9,i.fetchArchivalRecords({searchTerm:i.searchTerm,pages:i.pageNum,creation_years:JSON.parse(JSON.stringify(i.creationYears)),acquisition_years:JSON.parse(JSON.stringify(i.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(i.selectedFacets)),sort:{sort_by:i.sortBy,desc:i.sortDescVal}});case 9:i.loadingRecords=!1;case 10:case"end":return n.stop()}}),n)})))()},clearSearch:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.searchTerm="",e.next=3,t.fetchArchivalRecords({searchTerm:t.searchTerm,pages:t.pageNum,creation_years:JSON.parse(JSON.stringify(t.creationYears)),acquisition_years:JSON.parse(JSON.stringify(t.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(t.selectedFacets)),sort:{sort_by:t.sortBy,desc:t.sortDescVal}});case 3:t.loadingRecords=!1;case 4:case"end":return e.stop()}}),e)})))()},clearFacets:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingRecords=!0,t.pageNum=1,t.selectedFacets=[],t.creationYears=[0,0],t.acquisitionYears=[0,0],t.minCreationRange=t.creationSlider.min,t.maxCreationRange=t.creationSlider.max,t.minAcquisitionRange=t.acquisitionSlider.min,t.maxAcquisitionRange=t.acquisitionSlider.max,t.updateCreationSlider(t.creationSlider.min,t.creationSlider.max),t.updateAcquisitionSlider(t.acquisitionSlider.min,t.acquisitionSlider.max),t.searchRelatedPeople="",t.$router.replace({query:{}}),e.next=15,t.fetchArchivalRecords({searchTerm:t.searchTerm,pages:t.pageNum,creation_years:JSON.parse(JSON.stringify(t.creationYears)),acquisition_years:JSON.parse(JSON.stringify(t.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(t.selectedFacets)),sort:{sort_by:t.sortBy,desc:t.sortDescVal}});case 15:t.loadingRecords=!1;case 16:case"end":return e.stop()}}),e)})))()},getPeople:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchPeople(t.searchRelatedPeople);case 2:i=e.sent,t.getArchivalFacets&&i&&(t.getArchivalFacets.people=i);case 4:case"end":return e.stop()}}),e)})))()},filterPeople:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout(t.getPeople,800);case 2:case"end":return e.stop()}}),e)})))()},moreRecords:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingMoreRecords=!0,t.pageNum=Number(t.pageNum)+1,i=t.$route.query,i["page"]=Number(t.pageNum),t.$router.replace({query:{}}),t.$router.push({query:i}),e.next=8,t.loadMoreArchivalRecords();case 8:t.loadingMoreRecords=!1;case 9:case"end":return e.stop()}}),e)})))()},toggleFilters:function(){var t=document.querySelector(".filters");t.classList.toggle("active")}},Object(d["b"])(["fetchArchivalRecords","fetchPeople","searchArchivalRecords","loadMoreArchivalRecords"])),filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n,a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.$route.query,e.t0=Object(l["a"])().keys(i);case 2:if((e.t1=e.t0()).done){e.next=28;break}n=e.t1.value,e.t2=n,e.next="q"===e.t2?7:"sort_by"===e.t2?9:"desc"===e.t2?11:"page"===e.t2?13:"creation_years"===e.t2?15:"acquisition_years"===e.t2?20:25;break;case 7:return t.searchTerm=i[n],e.abrupt("break",26);case 9:return t.sortBy=i[n],e.abrupt("break",26);case 11:return t.sortDescVal=i[n],e.abrupt("break",26);case 13:return t.pageNum=Number(i[n]),e.abrupt("break",26);case 15:return t.creationYears[0]=Number(i[n].split("-")[0]),t.creationYears[1]=Number(i[n].split("-")[1]),t.minCreationRange=Number(i[n].split("-")[0]),t.maxCreationRange=Number(i[n].split("-")[1]),e.abrupt("break",26);case 20:return t.acquisitionYears[0]=Number(i[n].split("-")[0]),t.acquisitionYears[1]=Number(i[n].split("-")[1]),t.minAcquisitionRange=Number(i[n].split("-")[0]),t.maxAcquisitionRange=Number(i[n].split("-")[1]),e.abrupt("break",26);case 25:if(Array.isArray(i[n]))for(a in i[n])t.selectedFacets.push({category:n,key:i[n][a]});else t.selectedFacets.push({category:n,key:i[n]});case 26:e.next=2;break;case 28:return e.next=30,t.fetchArchivalRecords({searchTerm:t.searchTerm,pages:t.pageNum,creation_years:JSON.parse(JSON.stringify(t.creationYears)),acquisition_years:JSON.parse(JSON.stringify(t.acquisitionYears)),selectedFacets:JSON.parse(JSON.stringify(t.selectedFacets)),sort:{sort_by:t.sortBy,desc:t.sortDescVal}});case 30:t.getArchivalFacets.creation_years&&t.getArchivalFacets.creation_years[0]>0&&t.getArchivalFacets.creation_years[1]>0&&t.initCreationYearRange(t.getArchivalFacets.creation_years[0],t.getArchivalFacets.creation_years[1]),t.getArchivalFacets.acquisition_years&&t.getArchivalFacets.acquisition_years[0]>0&&t.getArchivalFacets.acquisition_years[1]>0&&t.initAcquisitionYearRange(t.getArchivalFacets.acquisition_years[0],t.getArchivalFacets.acquisition_years[1]),t.loadingRecords=!1;case 33:case"end":return e.stop()}}),e)})))()}}),st=rt,ot=Object(m["a"])(st,et,it,!1,null,null,null),ct=ot.exports,lt={name:"ObjectList",computed:Object(d["c"])(["pageDescription"]),components:{ArchiveList:ct,TheBreadcrumbs:tt},data:function(){return{breadcrumbs:[]}},methods:Object(h["a"])({updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},Object(d["b"])(["fetchObjectsPageDescription"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchObjectsPageDescription();case 2:t.updatePage();case 3:case"end":return e.stop()}}),e)})))()}},ut=lt,ht=Object(m["a"])(ut,Y,V,!1,null,null,null),dt=ht.exports,ft=function(){var t=this,e=t._self._c;return e("main",{staticClass:"single-record container"},[e("the-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("archive-single")],1)},pt=[],mt=(i("00b4"),function(){var t=this,e=t._self._c;return t.loading?e("div",{staticClass:"loader"}):e("div",{staticClass:"archive-single"},[e("h1",{staticClass:"page-title"},[t._v(t._s(t.getArchive.unittitle))]),t.getArchive.media&&t.getArchive.media.length>0?e("div",{staticClass:"object-image"},[e("div",{staticClass:"image-block"},[e("div",{ref:"openSeaDragon",staticClass:"image",attrs:{id:"openseadragon"}}),t._m(0)]),e("div",{staticClass:"thumbnails",attrs:{id:"referenceStrip"}},[e("button",{staticClass:"thumbnail-button prev",attrs:{"aria-label":"previous slide"},on:{click:t.showPrev}},[e("span",{attrs:{hidden:""}},[t._v("Previous")])]),e("VueSlickCarousel",t._b({ref:"carousel",staticClass:"thumbnail-list"},"VueSlickCarousel",t.sliderOptions,!1),t._l(t.getArchive.media,(function(i,n){return e("div",{key:n,staticClass:"thumbnail",on:{click:function(e){return t.updateImage(n)}}},[e("span"),e("img",{attrs:{src:i.thumbnail_url,alt:""}})])})),0),e("button",{staticClass:"thumbnail-button next",attrs:{"aria-label":"next slide"},on:{click:t.showNext}},[e("span",{attrs:{hidden:""}},[t._v("Next")])])],1)]):t._e(),e("div",{staticClass:"object-description"},[e("div",{staticClass:"two-column-50-50"},[e("section",[e("h2",[t._v("Details")]),t.getArchive.unittitle?e("span",[e("p",[t._v("Title:")]),e("p",{domProps:{innerHTML:t._s(t.getArchive.unittitle)}})]):t._e(),e("span",[e("p",[t._v("RA / RCT ref.:")]),e("p",[t._v(t._s(t.getArchive.reference))])]),t.getArchive.category&&""!=t.getArchive.category?e("span",[e("p",[t._v("Category:")]),e("p",[e("router-link",{attrs:{to:{name:"objects",query:{category:[t.getArchive.category]}}}},[t._v(t._s(t.getArchive.category))])],1)]):t._e(),t.getArchive.date_of_creation&&""!=t.getArchive.date_of_creation?e("span",[e("p",[t._v("Date of Creation:")]),t.getArchive.date_of_creation_notes?e("p",[t._v(t._s(t.getArchive.date_of_creation_notes))]):e("p",[t._v(t._s(t.getArchive.date_of_creation[0]))])]):t._e(),t.getArchive.date_of_acquisition&&""!=t.getArchive.date_of_acquisition?e("span",[e("p",[t._v("Date of Acquisition:")]),t.getArchive.date_of_acquisition_notes?e("p",[t._v(t._s(t.getArchive.date_of_acquisition_notes))]):e("p",[t._v(t._s(t.getArchive.date_of_acquisition[0]))])]):t._e(),t.getArchive.place_of_origin&&""!=t.getArchive.place_of_origin?e("span",[e("p",[t._v("Place of Origin:")]),e("p",{domProps:{innerHTML:t._s(t.getArchive.place_of_origin)}})]):t._e(),t.getArchive.medium&&""!=t.getArchive.medium?e("span",[e("p",[t._v("Medium:")]),e("p",{domProps:{innerHTML:t._s(t.getArchive.medium)}})]):t._e(),t.getArchive.size&&""!=t.getArchive.size?e("span",[e("p",[t._v("Size:")]),e("p",{domProps:{innerHTML:t._s(t.getArchive.size)}})]):t._e(),t.getArchive.provenance&&t.getArchive.provenance.html.length>0?e("span",[e("p",[t._v("Provenance:")]),e("p",{domProps:{innerHTML:t._s(t.getArchive.provenance.html)}})]):t._e(),t.getArchive.label&&""!=t.getArchive.label?e("span",[e("p",[t._v("Label or Inscription:")]),e("p",{domProps:{innerHTML:t._s(t.getArchive.label)}})]):t._e(),t.getArchive.reference&&""!=t.getArchive.reference&&!/^[A-Z].*/.test(t.getArchive.reference)?e("span",[e("p",[t._v("Link:")]),e("p",[e("a",{attrs:{href:"https://www.rct.uk/search/site/"+t.getArchive.rct_link}},[t._v(t._s(t.getArchive.unittitle)+" at the Royal Collection Trust")])])]):t._e()]),e("section",[t.getArchive.related_sources&&(t.getArchive.related_sources.individuals&&t.getArchive.related_sources.individuals.length>0||t.getArchive.related_sources.works&&t.getArchive.related_sources.works.length>0||t.getArchive.related_sources.texts&&t.getArchive.related_sources.texts.length>0||t.getArchive.related_sources.performances&&t.getArchive.related_sources.performances.length>0||t.getArchive.related_sources.sources&&t.getArchive.related_sources.sources.length>0||t.getArchive.related_sources.groups&&t.getArchive.related_sources.groups.length>0)?e("div",[e("h2",[t._v("Shakespeare Associations")]),t.getArchive.related_sources.individuals&&t.getArchive.related_sources.individuals.length>0?e("span",t._l(t.getArchive.related_sources.individuals,(function(i,n){return e("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{individual_connections:[i]}}}},[t._v(t._s(i))])})),1):t._e(),t.getArchive.related_sources.works&&t.getArchive.related_sources.works.length>0?e("span",t._l(t.getArchive.related_sources.works,(function(i,n){return e("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{work:[i]}}}},[t._v(t._s(i))])})),1):t._e(),t.getArchive.related_sources.texts&&t.getArchive.related_sources.texts.length>0?e("span",t._l(t.getArchive.related_sources.texts,(function(i,n){return e("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{text:[i]}}}},[t._v(t._s(i))])})),1):t._e(),t.getArchive.related_sources.performances&&t.getArchive.related_sources.performances.length>0?e("span",t._l(t.getArchive.related_sources.performances,(function(i,n){return e("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{performance:[i]}}}},[t._v(t._s(i))])})),1):t._e(),t.getArchive.related_sources.sources&&t.getArchive.related_sources.sources.length>0?e("span",t._l(t.getArchive.related_sources.sources,(function(i,n){return e("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"objects",query:{source:[i]}}}},[t._v(t._s(i))])})),1):t._e(),t.getArchive.related_sources.groups&&t.getArchive.related_sources.groups.length>0?e("span",[e("h3",[t._v("Related groups")]),t._l(t.getArchive.related_sources.groups,(function(i,n){return e("router-link",{key:n,staticClass:"link-button-primary small",attrs:{to:{name:"group",params:{subpage:i.url_slug}}}},[t._v(t._s(i.title))])}))],2):t._e()]):t._e(),t.getArchive.related_people&&(t.getArchive.related_people.acquirers>0||t.getArchive.related_people.all_people.length>0)?e("div",[e("h2",[t._v("Related People")]),t.getArchive.related_people.acquirers&&t.getArchive.related_people.acquirers.length>0?e("span",[e("p",[t._v(t._s(t._f("pluralize")("Acquirer",t.getArchive.related_people.acquirers.length))+":")]),t._l(t.getArchive.related_people.acquirers,(function(i,n){return e("p",{key:n},[t._v("\n                              "+t._s(i)),n!=t.getArchive.related_people.acquirers.length-1?[t._v("; ")]:t._e()],2)}))],2):t._e(),t._l(t.sortedPeople(t.getArchive.related_people.all_people),(function(i,n){return e("span",{key:n},[e("p",[t._v(" "+t._s(t._f("pluralize")(t._f("capitalize")(n),i.length))+":")]),e("p",[e("ul",t._l(i,(function(i){return e("li",{key:i.facet_label,domProps:{innerHTML:t._s(i.name)}})})),0)])])}))],2):t._e(),t.getArchive.references_published&&t.getArchive.references_published.length>0||t.getArchive.references_unpublished&&t.getArchive.references_unpublished.length>0?e("div",[e("h2",[t._v("References")]),t.getArchive.references_published&&t.getArchive.references_published.length>0?[e("h4",[t._v("Published references")]),t.getArchive.references_published?e("ul",t._l(t.getArchive.references_published,(function(i){return e("li",{key:i},[t._v("\n                "+t._s(i.reference)+"\n              ")])})),0):t._e()]:t._e(),t.getArchive.references_unpublished&&t.getArchive.references_unpublished.length>0&&t.getArchive.references_published&&t.getArchive.references_published.length>0?e("br"):t._e(),t.getArchive.references_unpublished&&t.getArchive.references_unpublished.length>0?[e("h4",[t._v("Unpublished references")]),t.getArchive.references_unpublished?e("ul",t._l(t.getArchive.references_unpublished,(function(i){return e("li",{key:i},[t._v("\n                "+t._s(i.reference)+"\n              ")])})),0):t._e()]:t._e()],2):t._e()])]),e("div",[e("section",[t.notes&&""!=t.notes||t.getArchive.publication_details&&""!=t.getArchive.publication_details||t.getArchive.label&&""!=t.getArchive.label?e("div",[e("h2",[t._v("Additional Notes")]),t.notes&&""!=t.notes?e("p",{domProps:{innerHTML:t._s(t.notes)}}):t._e()]):t._e()])])]),t.getArchive.related_entries&&t.getArchive.related_entries.length>0?e("related-objects-template",{attrs:{relatedObjects:t.getArchive.related_entries}}):t._e()],1)}),_t=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-control",attrs:{id:"navigation-pane"}},[e("span",{staticClass:"nav-icon",attrs:{id:"prev"}}),e("div",{staticClass:"control"},[e("span",{staticClass:"nav-icon",attrs:{id:"zoom-in"}}),e("span",{staticClass:"nav-icon",attrs:{id:"zoom-out"}}),e("span",{staticClass:"nav-icon",attrs:{id:"rotate-left"}}),e("span",{staticClass:"nav-icon",attrs:{id:"rotate-right"}}),e("span",{staticClass:"nav-icon",attrs:{id:"default"}}),e("span",{staticClass:"nav-icon",attrs:{id:"full-mode"}})]),e("span",{staticClass:"nav-icon",attrs:{id:"next"}})])}],gt=i("aa78"),vt=i.n(gt),yt=(i("6a2c"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"related-objects"},[t.showTitle?e("h2",[t._v("Related objects")]):t._e(),e("div",{staticClass:"slider-container"},[e("VueSlickCarousel",t._b({ref:"related",staticClass:"slider"},"VueSlickCarousel",t.relatedOptions,!1),t._l(t.relatedObjects,(function(n,a){return e("div",{key:a,staticClass:"object-single"},[e("router-link",{attrs:{to:{name:"object",params:{id:n.pk}}}},[e("span",{staticClass:"object-thumbnail"},[e("span"),"PLACEHOLDER"!=n.media[0].thumbnail_url?e("img",{attrs:{src:n.media[0].thumbnail_url,alt:n.unittitle}}):e("img",{attrs:{src:i("e8e8"),height:"1602",width:"1644",alt:"Image placeholder"}})]),e("div",{staticClass:"object-description"},[e("p",{staticClass:"details"},[t._v(t._s(n.medium))]),e("h4",[t._v(t._s(n.unittitle))])])])],1)})),0)],1)])}),bt=[],kt={name:"RelatedObjects",props:{relatedObjects:Array,showTitle:{type:Boolean,default:!0}},components:{VueSlickCarousel:I.a},data:function(){return{relatedOptions:{arrows:!0,dots:!0,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1100,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:850,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:450,settings:{slidesToShow:1,slidesToScroll:1}}]}}}},wt=kt,xt=Object(m["a"])(wt,yt,bt,!1,null,null,null),jt=xt.exports,Tt=[],St={};function Ot(t){0==document.getElementsByClassName("openseadragon-container").length&&(St=vt()({id:"openseadragon",tileSources:[Tt],sequenceMode:!0,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",homeButton:"default",fullPageButton:"full-mode",rotateLeftButton:"rotate-left",rotateRightButton:"rotate-right",nextButton:"next",previousButton:"prev",degrees:0,showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}})),St.goToPage(t)}var Ct={name:"ArchiveSingle",components:{VueSlickCarousel:I.a,RelatedObjectsTemplate:jt},computed:Object(d["c"])(["getArchive"]),data:function(){return{loading:!0,tab:"summary",viewer:"",notes:"",placeholder_image:i("e8e8"),sliderOptions:{arrows:!1,dots:!1,vertical:!0,verticalSwiping:!0,initialSlide:0,responsive:[{breakpoint:600,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:2,slidesToScroll:2}}]}}},filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},methods:Object(h["a"])(Object(h["a"])({updatePage:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.params.id){e.next=5;break}return e.next=3,t.fetchArchive(t.$route.params.id);case 3:e.next=8;break;case 5:if(!t.$route.params.reference){e.next=8;break}return e.next=8,t.fetchRCTArchive(t.$route.params.reference);case 8:t.notes=t.getArchive.notes_parsed,t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()},initOpenSeaDragon:function(){for(var t in Tt=[],this.getArchive.media)"PLACEHOLDER"!=this.getArchive.media[t].iiif_image_url?Tt.push(this.getArchive.media[t].iiif_image_url):Tt.push({type:"image",url:this.placeholder_image,buildPyramid:!1});Ot(0)},showNext:function(){this.$refs.carousel.next()},showPrev:function(){this.$refs.carousel.prev()},updateImage:function(t){Ot(t)},sortedList:function(t){return t.slice().sort((function(t,e){return t.localeCompare(e)}))},sortedPeople:function(t){var e=t.slice().sort((function(t,e){return t.type.localeCompare(e.type)})),i={};for(var n in e)null==i[e[n].type]&&(i[e[n].type]=[]),i[e[n].type].push(e[n]);for(var a in i)i[a]=i[a].slice().sort((function(t,e){return t.surname.localeCompare(e.surname)}));return i}},Object(d["b"])(["fetchArchive"])),Object(d["b"])(["fetchRCTArchive"])),created:function(){this.updatePage()},mounted:function(){var t=this;setTimeout((function(){t.$refs.openSeaDragon&&!t.loading&&t.initOpenSeaDragon()}),1e3)},watch:{$route:function(){this.updatePage()}}},At=Ct,Mt=Object(m["a"])(At,mt,_t,!1,null,null,null),Lt=Mt.exports,Et={name:"ObjectRecord",components:{ArchiveSingle:Lt,TheBreadcrumbs:tt},data:function(){return{breadcrumbs:[{text:"Home",url:"/"},{text:"Objects",url:"/objects"}]}}},Rt=Et,Pt=Object(m["a"])(Rt,ft,pt,!1,null,null,null),Dt=Pt.exports,qt=function(){var t=this,e=t._self._c;return e("main",{staticClass:"object-story"},[e("div",{staticClass:"container"},[e("object-story-single")],1)])},Nt=[],It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"story"},[t.loading?e("div",{staticClass:"loader"}):[e("h1",{staticClass:"page-title"},[t._v(t._s(t.getStory.title))]),e("div",{staticClass:"two-column-70-30"},[e("WagtailContent",{attrs:{api_content:t.getStory}}),"editor.StoryObjectCollection"===t.pageType?e("div",{staticClass:"grey-column"},[e("h3",[t._v("All stories")]),t._l(t.getStoryList,(function(i,n){return e("router-link",{key:n,class:[{active:i.url_slug===t.$route.params.subpage}],attrs:{to:{name:"story",params:{subpage:i.url_slug}}}},[t._v(t._s(i.title))])}))],2):t._e(),"editor.ThemeObjectCollection"===t.pageType?e("div",{staticClass:"grey-column"},[e("h3",[t._v("All themes")]),t._l(t.getThemeList,(function(i,n){return e("router-link",{key:n,class:[{active:i.url_slug===t.$route.params.subpage}],attrs:{to:{name:"theme",params:{subpage:i.url_slug}}}},[t._v(t._s(i.title))])}))],2):t._e()],1),t.getStory.related_documents&&t.getStory.related_documents.length>0?e("related-objects-template",{attrs:{relatedObjects:t.getStory.related_documents}}):t._e()]],2)},Ft=[],zt=function(){var t=this,e=t._self._c;return e("div",["editor.RichTextPage"==t.api_content.meta.type?[t.api_content.introduction?e("div",{staticClass:"introduction",domProps:{innerHTML:t._s(t.api_content.introduction)}}):t._e(),t.api_content.resource&&""!=t.api_content.resource?e("img",{attrs:{src:t.api_content.resource,alt:t.api_content.alt}}):t._e(),e("div",{staticClass:"description",domProps:{innerHTML:t._s(t.api_content.body)}})]:"editor.StreamFieldPage"==t.api_content.meta.type||"editor.StoryObjectCollection"==t.api_content.meta.type||"editor.ThemeObjectCollection"==t.api_content.meta.type?[t._l(t.api_content.body,(function(t,i){return[e("WagtailBlocks",{key:i,attrs:{block:t}})]}))]:t._e()],2)},Ht=[],Wt=function(){var t=this,e=t._self._c;return e("div",{key:t.block.id},["heading"==t.block.type?e("h2",[t._v(t._s(t.block.value))]):"paragraph"==t.block.type?e("span",{domProps:{innerHTML:t._s(t.block.value)}}):"image"==t.block.type?e("img",{attrs:{src:t.block.value.full_url,width:t.block.value.full_width,height:t.block.value.full_height,alt:""}}):"document"==t.block.type?e("p",[e("a",{attrs:{href:t.block.value.url}},[e("button",{staticClass:"button-secondary small pdf mgn-right"},[t._v("Download PDF")])]),t._v("\n    "+t._s(t.block.value.title)+"\n  ")]):"embed"==t.block.type?e("p",[e("iframe",{attrs:{width:"200",height:"113",src:t.block.value.url,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]):"gallery"==t.block.type?e("section",{staticClass:"image_row"},t._l(t.block.value,(function(n){return e("figure",{key:n.filename},["PLACEHOLDER"!=n.full_url?e("img",{attrs:{src:n.full_url,width:n.full_width,height:n.full_height,alt:""}}):e("img",{attrs:{src:i("e8e8"),height:"1602",width:"1644",alt:"Image placeholder"}}),n.caption.length>0?e("figcaption",[t._v(t._s(n.caption))]):t._e()])})),0):"two_column_section"==t.block.type?e("div",{staticClass:"two-column-50-50"},t._l(t.block.value,(function(i){return e("div",{key:i.heading},[e("div",[e("h3",{domProps:{innerHTML:t._s(i.heading)}})]),i.subheading.length>0?e("div",[e("h4",{domProps:{innerHTML:t._s(i.subheading)}})]):t._e(),e("div",{domProps:{innerHTML:t._s(i.body)}})])})),0):t._e()])},Bt=[],Ut={name:"WagtailBlocks",props:["block"]},$t=Ut,Gt=Object(m["a"])($t,Wt,Bt,!1,null,null,null),Yt=Gt.exports,Vt={name:"WagtailContent",components:{WagtailBlocks:Yt},props:["api_content"]},Jt=Vt,Zt=Object(m["a"])(Jt,zt,Ht,!1,null,null,null),Kt=Zt.exports,Xt={name:"ObjectStorySingle",props:{pageType:{type:String,default:"editor.StoryObjectCollection"}},computed:Object(d["c"])(["getStory","getStoryList","getThemeList"]),components:{WagtailContent:Kt,RelatedObjectsTemplate:jt},data:function(){return{loading:!0}},methods:Object(h["a"])({},Object(d["b"])(["fetchStoryList","fetchStory","fetchTheme","fetchThemeList"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("editor.StoryObjectCollection"!==t.pageType){e.next=7;break}return e.next=3,t.fetchStoryList();case 3:return e.next=5,t.fetchStory(t.$route.params.subpage);case 5:e.next=12;break;case 7:if("editor.ThemeObjectCollection"!==t.pageType){e.next=12;break}return e.next=10,t.fetchThemeList();case 10:return e.next=12,t.fetchTheme(t.$route.params.subpage);case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t){this.fetchStory(t.params.subpage)}}},Qt=Xt,te=Object(m["a"])(Qt,It,Ft,!1,null,null,null),ee=te.exports,ie={name:"ObjectStory",components:{ObjectStorySingle:ee}},ne=ie,ae=Object(m["a"])(ne,qt,Nt,!1,null,null,null),re=ae.exports,se=function(){var t=this,e=t._self._c;return e("main",{staticClass:"object-story"},[e("div",{staticClass:"container"},[e("object-story-single",{attrs:{pageType:"editor.ThemeObjectCollection"}})],1)])},oe=[],ce={name:"ObjectTheme",components:{ObjectStorySingle:ee}},le=ce,ue=Object(m["a"])(le,se,oe,!1,null,null,null),he=ue.exports,de=function(){var t=this,e=t._self._c;return e("main",{staticClass:"resources"},[e("div",{staticClass:"container"},[e("secondary-page")],1)])},fe=[],pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"secondary-page"},[e("h1",{staticClass:"page-title"},[t._v(t._s(t.getPage.title))]),t.loading?e("div",{staticClass:"loader"}):[e("WagtailContent",{attrs:{api_content:t.getPage}})]],2)},me=[],_e={name:"SecondaryPage",components:{WagtailContent:Kt},computed:Object(d["c"])(["getPage","getImageURL"]),data:function(){return{loading:!0}},methods:Object(h["a"])({updatePage:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.fetchSecondaryPage(t.$route.name);case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}},Object(d["b"])(["fetchSecondaryPage"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.name&&t.updatePage(),t.fetchSecondaryPage(t.$route.name);case 2:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t){t.name&&this.updatePage()}}},ge=_e,ve=Object(m["a"])(ge,pe,me,!1,null,null,null),ye=ve.exports,be={name:"Resources",components:{SecondaryPage:ye}},ke=be,we=Object(m["a"])(ke,de,fe,!1,null,null,null),xe=we.exports,je=function(){var t=this,e=t._self._c;return e("main",{staticClass:"about"},[e("div",{staticClass:"container"},[e("the-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("about-page")],1)])},Te=[],Se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about-page"},[e("h1",{staticClass:"page-title"},[t._v(t._s(t.getPage.title))]),t.loading?t._e():[e("WagtailContent",{attrs:{api_content:t.getPage}})]],2)},Oe=[],Ce={name:"AboutPage",components:{WagtailContent:Kt},computed:Object(d["c"])(["getPage","getImageURL"]),data:function(){return{loading:!0}},methods:Object(h["a"])({updatePage:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.fetchSecondaryPage(t.$route.name);case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}},Object(d["b"])(["fetchSecondaryPage"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$route.name&&t.updatePage(),t.fetchSecondaryPage(t.$route.name);case 2:case"end":return e.stop()}}),e)})))()},watch:{$route:function(t){t.name&&this.updatePage()}}},Ae=Ce,Me=Object(m["a"])(Ae,Se,Oe,!1,null,null,null),Le=Me.exports,Ee={name:"About",components:{AboutPage:Le,TheBreadcrumbs:tt},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Re=Ee,Pe=Object(m["a"])(Re,je,Te,!1,null,null,null),De=Pe.exports,qe=function(){var t=this,e=t._self._c;return e("main",{staticClass:"search-results"},[e("search-results-page")],1)},Ne=[],Ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-results-page container"},[t.loading?e("div",{staticClass:"loader"}):[0==t.getSearchResultsTotal?e("div",[e("h1",{staticClass:"page-title"},[t._v("No matches found")]),e("p",[t._v("We couldn't find a match for \""),e("strong",[t._v(t._s(t.searchTerm))]),t._v('". Please try another search.')])]):e("div",[e("h1",{staticClass:"page-title"},[t._v("Search results")]),e("p",[t._v(t._s(t.getSearchResultsTotal)+" "+t._s(t._f("pluralize")("result",t.getSearchResultsTotal))+' found for: "'),e("strong",[t._v(t._s(t.searchTerm))]),t._v('"')]),t._l(t.getSearchResults,(function(i,n){return e("div",{key:n,staticClass:"result"},["object"==i.doc_type?e("router-link",{staticClass:"result-page",attrs:{to:{name:i.doc_type,params:{id:i.pk}}}},[t._v(t._s(i.unittitle))]):"page"==i.doc_type?e("router-link",{staticClass:"result-page",attrs:{to:{name:i.page,params:{subpage:i.reference}}}},[t._v(t._s(i.unittitle))]):e("router-link",{staticClass:"result-page",attrs:{to:{name:i.doc_type}}},[t._v(t._s(i.unittitle))]),e("p",{staticClass:"result-snippet"},[t._v(t._s(i.category))])],1)}))],2),t.loadingMoreRecords?e("div",{staticClass:"loader"}):[t.getSearchResults&&t.getSearchResults.length<t.getSearchResultsTotal?e("button",{staticClass:"button-secondary",attrs:{type:"button"},on:{click:function(e){return t.moreRecords()}}},[t._v("Show more results")]):t._e()]]],2)},Fe=[],ze={name:"SearchResultsPage",components:{},computed:Object(d["c"])(["getSearchResults","getSearchResultsTotal"]),data:function(){return{loading:!0,loadingMoreRecords:!1,searchTerm:"",pageNum:1}},methods:Object(h["a"])({updatePage:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,i=t.$route.query,t.pageNum=1,e.t0=Object(l["a"])().keys(i);case 4:if((e.t1=e.t0()).done){e.next=15;break}n=e.t1.value,e.t2=n,e.next="q"===e.t2?9:"page"===e.t2?11:13;break;case 9:return t.searchTerm=i[n],e.abrupt("break",13);case 11:return t.pageNum=Number(i[n]),e.abrupt("break",13);case 13:e.next=4;break;case 15:return e.next=17,t.fetchSearchResults({pages:t.pageNum,searchTerm:t.searchTerm});case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e)})))()},moreRecords:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingMoreRecords=!0,t.pageNum=Number(t.pageNum)+1,i=t.$route.query,i["page"]=Number(t.pageNum),t.$router.replace({query:{}}),t.$router.push({query:i}),e.next=8,t.loadMoreSearchResults();case 8:t.loadingMoreRecords=!1;case 9:case"end":return e.stop()}}),e)})))()}},Object(d["b"])(["fetchSearchResults","loadMoreSearchResults"])),created:function(){this.updatePage()},watch:{$route:function(t,e){e.query.q!=t.query.q&&this.updatePage()}}},He=ze,We=Object(m["a"])(He,Ie,Fe,!1,null,null,null),Be=We.exports,Ue={name:"SearchResults",components:{SearchResultsPage:Be}},$e=Ue,Ge=Object(m["a"])($e,qe,Ne,!1,null,null,null),Ye=Ge.exports,Ve=function(){var t=this,e=t._self._c;return e("main",{staticClass:"secondary"},[e("div",{staticClass:"container"},[e("the-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("secondary-page")],1)])},Je=[],Ze={name:"Secondary",components:{TheBreadcrumbs:tt,SecondaryPage:ye},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Ke=Ze,Xe=Object(m["a"])(Ke,Ve,Je,!1,null,null,null),Qe=Xe.exports,ti=function(){var t=this,e=t._self._c;return e("main",{staticClass:"not-found"},[e("div",{staticClass:"container flex"},[e("p",{staticClass:"error"},[t._v("404")]),e("div",[e("h1",{staticClass:"page-title"},[t._v("Page not found")]),e("p",[t._v("We can't find the page you are looking for.")]),e("router-link",{staticClass:"link-button-primary small arrow",attrs:{to:{name:"home"}}},[t._v("Go to home page")])],1)])])},ei=[],ii={name:"PageNotFound",components:{}},ni=ii,ai=Object(m["a"])(ni,ti,ei,!1,null,null,null),ri=ai.exports,si=function(){var t=this,e=t._self._c;return e("main",{staticClass:"object-story"},[e("div",{staticClass:"container"},[t._m(0),"editor.StoryObjectCollection"===t.pageType?e("h1",{staticClass:"page-title"},[t._v("Stories")]):"editor.ThemeObjectCollection"===t.pageType?e("h1",{staticClass:"page-title"},[t._v("Connections")]):t._e(),e("div",{attrs:{id:"sidebar",role:"navigation"}},[e("input",{attrs:{type:"checkbox",id:"ref"}}),e("label",{staticClass:"ref",attrs:{"aria-label":"Title Index",for:"ref"}},[e("h1",[t._v("Story Titles")]),e("div",{staticClass:"message"},[e("ul",t._l(t.getStoryList,(function(i,n){return e("li",{key:n,class:[{active:i.url_slug===t.$route.params.subpage}],attrs:{to:{name:"story",params:{subpage:i.url_slug}}}},[e("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#title-"+i.id,expression:"'#title-'+story.id"}],class:{"name-active":"title-one"===t.active},attrs:{href:"#"},on:{click:function(e){t.active="title-"+i.id}}},[e("h2",[t._v(t._s(i.title))])])])})),0)])])]),e("div",[e("p",{domProps:{innerHTML:t._s(t.getStoryStrap)}})]),e("br"),t._l(t.getStoryList,(function(i,n){return e("div",{key:n,staticClass:"story"},[e("h2",{attrs:{id:"title-"+i.id}},[t._v("\n        "+t._s(i.title)+"\n      ")]),"editor.StoryObjectCollection"===t.pageType?e("p",[t._l(i.body,(function(t){return[e("WagtailBlocks",{attrs:{block:t}})]}))],2):t._e(),i.related_documents&&i.related_documents.length>0?e("related-objects-template",{attrs:{relatedObjects:i.related_documents,"show-title":!1}}):t._e()],1)}))],2)])},oi=[function(){var t=this,e=t._self._c;return e("ul",{staticClass:"breadcrumbs"},[e("li",[e("a",{staticClass:"breadcrumbs__link router-link-active",attrs:{href:"/"}},[t._v("Home")])])])}],ci={name:"StoryList",computed:Object(d["c"])(["getStory","getStoryList","getStoryStrap"]),components:{WagtailBlocks:Yt,RelatedObjectsTemplate:jt},data:function(){return{active:null}},props:{pageType:{type:String,default:"editor.StoryObjectCollection"}},methods:Object(h["a"])({},Object(d["b"])(["fetchStoryList","fetchThemeList","fetchStoryStrap"])),created:function(){var t=this;return Object(u["a"])(Object(l["a"])().mark((function e(){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("editor.StoryObjectCollection"!==t.pageType){e.next=7;break}return e.next=3,t.fetchStoryList();case 3:return e.next=5,t.fetchStoryStrap();case 5:e.next=10;break;case 7:if("editor.ThemeObjectCollection"!==t.pageType){e.next=10;break}return e.next=10,t.fetchThemeList();case 10:t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},watch:{$route:function(){"editor.ThemeObjectCollection"===this.pageType?this.fetchThemeList():this.fetchStoryList()}}},li=ci,ui=Object(m["a"])(li,si,oi,!1,null,"8d05755c",null),hi=ui.exports,di=function(){var t=this,e=t._self._c;return e("main",{staticClass:"secondary"},[e("div",{staticClass:"container"},[e("the-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("timeline")],1)])},fi=[],pi=function(){var t=this;t._self._c;return t._m(0)},mi=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"timeline"},[e("h1",{staticClass:"page-title"},[t._v("Timeline")]),e("div",{attrs:{id:"timeline-embed"}})])}],_i=i("b85c"),gi=i("bee2"),vi=i("d4ec"),yi=i("8f33"),bi=i("262e"),ki=i("9072"),wi=i("53ca"),xi=(i("a4d3"),i("e01a"),i("d28b"),i("944a"),i("d9e2"),i("33d1"),i("99af"),i("cb29"),i("7db0"),i("c740"),i("8bd5"),i("71b4"),i("5db7"),i("a630"),i("caad"),i("a15b"),i("73d9"),i("c19f"),i("ace4"),i("2c66"),i("249d"),i("40e9"),i("0c47"),i("23dc"),i("b680"),i("dca8"),i("7039"),i("3410"),i("e21d"),i("1f68"),i("af93"),i("131a"),i("a6fd"),i("4ae1"),i("f8c9"),i("4d63"),i("c607"),i("2c3e"),i("ea98"),i("8a79"),i("2532"),i("3ca3"),i("843c"),i("4d90"),i("38cf"),i("841c"),i("1276"),i("2ca0"),i("498a"),i("1e25"),i("eee7"),i("9911"),i("ab3c"),i("76d6"),i("fffc"),i("cd1a"),i("4e3e"),i("9d4a"),i("9a9a"),i("4417"),i("cbc8"),i("159b"),i("c73d"),i("2b3d"),i("bf19"),i("9861"),i("88a7"),i("271a"),i("5494"),function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==Object(wi["a"])(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
t.exports=function(){var t=Object.hasOwnProperty,e=Object.setPrototypeOf,i=Object.isFrozen,n=Object.keys,a=Object.freeze,r=Object.seal,s="undefined"!=typeof Reflect&&Reflect,o=s.apply,c=s.construct;o||(o=function(t,e,i){return t.apply(e,i)}),a||(a=function(t){return t}),r||(r=function(t){return t}),c||(c=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e))))});var l=x(Array.prototype.forEach),u=x(Array.prototype.indexOf),h=x(Array.prototype.join),d=x(Array.prototype.pop),f=x(Array.prototype.push),p=x(Array.prototype.slice),m=x(String.prototype.toLowerCase),_=x(String.prototype.match),g=x(String.prototype.replace),v=x(String.prototype.indexOf),y=x(String.prototype.trim),b=x(RegExp.prototype.test),k=j(RegExp),w=j(TypeError);function x(t){return function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return o(t,e,n)}}function j(t){return function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return c(t,i)}}function T(t,n){e&&e(t,null);for(var a=n.length;a--;){var r=n[a];if("string"==typeof r){var s=m(r);s!==r&&(i(n)||(n[a]=s),r=s)}t[r]=!0}return t}function S(e){var i={},n=void 0;for(n in e)o(t,e,[n])&&(i[n]=e[n]);return i}var O=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),A=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),L=a(["#text"]),E=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),R=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=r(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=r(/<%[\s\S]*|[\s\S]*%>/gm),I=r(/^data-[\-\w.\u00B7-\uFFFF]/),F=r(/^aria-[\-\w]+$/),z=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),H=r(/^(?:\w+script|data):/i),W=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),B="function"==typeof Symbol&&"symbol"==Object(wi["a"])(Symbol.iterator)?function(t){return Object(wi["a"])(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":Object(wi["a"])(t)};function U(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var $=function(){return"undefined"==typeof window?null:window},G=function(t,e){if("object"!==(void 0===t?"undefined":B(t))||"function"!=typeof t.createPolicy)return null;var i=null;e.currentScript&&e.currentScript.hasAttribute("data-tt-policy-suffix")&&(i=e.currentScript.getAttribute("data-tt-policy-suffix"));var n="dompurify"+(i?"#"+i:"");try{return t.createPolicy(n,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$(),i=function(e){return t(e)};if(i.version="2.0.11",i.removed=[],!e||!e.document||9!==e.document.nodeType)return i.isSupported=!1,i;var r=e.document,s=!1,o=e.document,c=e.DocumentFragment,x=e.HTMLTemplateElement,j=e.Node,Y=e.NodeFilter,V=e.NamedNodeMap,J=void 0===V?e.NamedNodeMap||e.MozNamedAttrMap:V,Z=e.Text,K=e.Comment,X=e.DOMParser,Q=e.trustedTypes;if("function"==typeof x){var tt=o.createElement("template");tt.content&&tt.content.ownerDocument&&(o=tt.content.ownerDocument)}var et=G(Q,r),it=et?et.createHTML(""):"",nt=o,at=nt.implementation,rt=nt.createNodeIterator,st=nt.getElementsByTagName,ot=nt.createDocumentFragment,ct=r.importNode,lt={};i.isSupported=at&&void 0!==at.createHTMLDocument&&9!==o.documentMode;var ut=q,ht=N,dt=I,ft=F,pt=H,mt=W,_t=z,gt=null,vt=T({},[].concat(U(O),U(C),U(A),U(M),U(L))),yt=null,bt=T({},[].concat(U(E),U(R),U(P),U(D))),kt=null,wt=null,xt=!0,jt=!0,Tt=!1,St=!1,Ot=!1,Ct=!1,At=!1,Mt=!1,Lt=!1,Et=!1,Rt=!1,Pt=!1,Dt=!0,qt=!0,Nt=!1,It={},Ft=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),zt=null,Ht=T({},["audio","video","img","source","image","track"]),Wt=null,Bt=T({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ut=null,$t=o.createElement("form"),Gt=function(t){Ut&&Ut===t||(t&&"object"===(void 0===t?"undefined":B(t))||(t={}),gt="ALLOWED_TAGS"in t?T({},t.ALLOWED_TAGS):vt,yt="ALLOWED_ATTR"in t?T({},t.ALLOWED_ATTR):bt,Wt="ADD_URI_SAFE_ATTR"in t?T(S(Bt),t.ADD_URI_SAFE_ATTR):Bt,zt="ADD_DATA_URI_TAGS"in t?T(S(Ht),t.ADD_DATA_URI_TAGS):Ht,kt="FORBID_TAGS"in t?T({},t.FORBID_TAGS):{},wt="FORBID_ATTR"in t?T({},t.FORBID_ATTR):{},It="USE_PROFILES"in t&&t.USE_PROFILES,xt=!1!==t.ALLOW_ARIA_ATTR,jt=!1!==t.ALLOW_DATA_ATTR,Tt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,St=t.SAFE_FOR_JQUERY||!1,Ot=t.SAFE_FOR_TEMPLATES||!1,Ct=t.WHOLE_DOCUMENT||!1,Lt=t.RETURN_DOM||!1,Et=t.RETURN_DOM_FRAGMENT||!1,Rt=t.RETURN_DOM_IMPORT||!1,Pt=t.RETURN_TRUSTED_TYPE||!1,Mt=t.FORCE_BODY||!1,Dt=!1!==t.SANITIZE_DOM,qt=!1!==t.KEEP_CONTENT,Nt=t.IN_PLACE||!1,_t=t.ALLOWED_URI_REGEXP||_t,Ot&&(jt=!1),Et&&(Lt=!0),It&&(gt=T({},[].concat(U(L))),yt=[],!0===It.html&&(T(gt,O),T(yt,E)),!0===It.svg&&(T(gt,C),T(yt,R),T(yt,D)),!0===It.svgFilters&&(T(gt,A),T(yt,R),T(yt,D)),!0===It.mathMl&&(T(gt,M),T(yt,P),T(yt,D))),t.ADD_TAGS&&(gt===vt&&(gt=S(gt)),T(gt,t.ADD_TAGS)),t.ADD_ATTR&&(yt===bt&&(yt=S(yt)),T(yt,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&T(Wt,t.ADD_URI_SAFE_ATTR),qt&&(gt["#text"]=!0),Ct&&T(gt,["html","head","body"]),gt.table&&(T(gt,["tbody"]),delete kt.tbody),a&&a(t),Ut=t)},Yt=function(t){f(i.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=it}},Vt=function(t,e){try{f(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){f(i.removed,{attribute:null,from:e})}e.removeAttribute(t)},Jt=function(t){var e=void 0,i=void 0;if(Mt)t="<remove></remove>"+t;else{var n=_(t,/^[\r\n\t ]+/);i=n&&n[0]}var a=et?et.createHTML(t):t;try{e=(new X).parseFromString(a,"text/html")}catch(t){}if(s&&T(kt,["title"]),!e||!e.documentElement){var r=(e=at.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=a}return t&&i&&e.body.insertBefore(o.createTextNode(i),e.body.childNodes[0]||null),st.call(e,Ct?"html":"body")[0]};i.isSupported&&function(){try{var t=Jt("<x/><title>&lt;/title&gt;&lt;img&gt;");b(/<\/title/,t.querySelector("title").innerHTML)&&(s=!0)}catch(t){}}();var Zt=function(t){return rt.call(t.ownerDocument||t,t,Y.SHOW_ELEMENT|Y.SHOW_COMMENT|Y.SHOW_TEXT,(function(){return Y.FILTER_ACCEPT}),!1)},Kt=function(t){return!(t instanceof Z||t instanceof K||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof J&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI)},Xt=function(t){return"object"===(void 0===j?"undefined":B(j))?t instanceof j:t&&"object"===(void 0===t?"undefined":B(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Qt=function(t,e,n){lt[t]&&l(lt[t],(function(t){t.call(i,e,n,Ut)}))},te=function(t){var e=void 0;if(Qt("beforeSanitizeElements",t,null),Kt(t))return Yt(t),!0;var n=m(t.nodeName);if(Qt("uponSanitizeElement",t,{tagName:n,allowedTags:gt}),("svg"===n||"math"===n)&&0!==t.querySelectorAll("p, br").length)return Yt(t),!0;if(!gt[n]||kt[n]){if(qt&&!Ft[n]&&"function"==typeof t.insertAdjacentHTML)try{var a=t.innerHTML;t.insertAdjacentHTML("AfterEnd",et?et.createHTML(a):a)}catch(t){}return Yt(t),!0}return"noscript"===n&&b(/<\/noscript/i,t.innerHTML)||"noembed"===n&&b(/<\/noembed/i,t.innerHTML)?(Yt(t),!0):(!St||t.firstElementChild||t.content&&t.content.firstElementChild||!b(/</g,t.textContent)||(f(i.removed,{element:t.cloneNode()}),t.innerHTML?t.innerHTML=g(t.innerHTML,/</g,"&lt;"):t.innerHTML=g(t.textContent,/</g,"&lt;")),Ot&&3===t.nodeType&&(e=t.textContent,e=g(e,ut," "),e=g(e,ht," "),t.textContent!==e&&(f(i.removed,{element:t.cloneNode()}),t.textContent=e)),Qt("afterSanitizeElements",t,null),!1)},ee=function(t,e,i){if(Dt&&("id"===e||"name"===e)&&(i in o||i in $t))return!1;if(jt&&b(dt,e));else if(xt&&b(ft,e));else{if(!yt[e]||wt[e])return!1;if(Wt[e]);else if(b(_t,g(i,mt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==v(i,"data:")||!zt[t])if(Tt&&!b(pt,g(i,mt,"")));else if(i)return!1}return!0},ie=function(t){var e=void 0,a=void 0,r=void 0,s=void 0,o=void 0;Qt("beforeSanitizeAttributes",t,null);var c=t.attributes;if(c){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};for(o=c.length;o--;){var f=e=c[o],_=f.name,v=f.namespaceURI;if(a=y(e.value),r=m(_),l.attrName=r,l.attrValue=a,l.keepAttr=!0,l.forceKeepAttr=void 0,Qt("uponSanitizeAttribute",t,l),a=l.attrValue,!l.forceKeepAttr){if("name"===r&&"IMG"===t.nodeName&&c.id)s=c.id,c=p(c,[]),Vt("id",t),Vt(_,t),u(c,s)>o&&t.setAttribute("id",s.value);else{if("INPUT"===t.nodeName&&"type"===r&&"file"===a&&l.keepAttr&&(yt[r]||!wt[r]))continue;"id"===_&&t.setAttribute(_,""),Vt(_,t)}if(l.keepAttr)if(St&&b(/\/>/i,a))Vt(_,t);else if(b(/svg|math/i,t.namespaceURI)&&b(k("</("+h(n(Ft),"|")+")","i"),a))Vt(_,t);else{Ot&&(a=g(a,ut," "),a=g(a,ht," "));var w=t.nodeName.toLowerCase();if(ee(w,r,a))try{v?t.setAttributeNS(v,_,a):t.setAttribute(_,a),d(i.removed)}catch(t){}}}}Qt("afterSanitizeAttributes",t,null)}},ne=function t(e){var i=void 0,n=Zt(e);for(Qt("beforeSanitizeShadowDOM",e,null);i=n.nextNode();)Qt("uponSanitizeShadowNode",i,null),te(i)||(i.content instanceof c&&t(i.content),ie(i));Qt("afterSanitizeShadowDOM",e,null)};return i.sanitize=function(t,n){var a=void 0,s=void 0,o=void 0,l=void 0,u=void 0;if(t||(t="\x3c!--\x3e"),"string"!=typeof t&&!Xt(t)){if("function"!=typeof t.toString)throw w("toString is not a function");if("string"!=typeof(t=t.toString()))throw w("dirty is not a string, aborting")}if(!i.isSupported){if("object"===B(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Xt(t))return e.toStaticHTML(t.outerHTML)}return t}if(At||Gt(n),i.removed=[],"string"==typeof t&&(Nt=!1),Nt);else if(t instanceof j)1===(s=(a=Jt("\x3c!--\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?a=s:a.appendChild(s);else{if(!Lt&&!Ot&&!Ct&&Pt&&-1===t.indexOf("<"))return et?et.createHTML(t):t;if(!(a=Jt(t)))return Lt?null:it}a&&Mt&&Yt(a.firstChild);for(var h=Zt(Nt?t:a);o=h.nextNode();)3===o.nodeType&&o===l||te(o)||(o.content instanceof c&&ne(o.content),ie(o),l=o);if(l=null,Nt)return t;if(Lt){if(Et)for(u=ot.call(a.ownerDocument);a.firstChild;)u.appendChild(a.firstChild);else u=a;return Rt&&(u=ct.call(r,u,!0)),u}var d=Ct?a.outerHTML:a.innerHTML;return Ot&&(d=g(d,ut," "),d=g(d,ht," ")),et&&Pt?et.createHTML(d):d},i.setConfig=function(t){Gt(t),At=!0},i.clearConfig=function(){Ut=null,At=!1},i.isValidAttribute=function(t,e,i){Ut||Gt({});var n=m(t),a=m(e);return ee(n,a,i)},i.addHook=function(t,e){"function"==typeof e&&(lt[t]=lt[t]||[],f(lt[t],e))},i.removeHook=function(t){lt[t]&&d(lt[t])},i.removeHooks=function(t){lt[t]&&(lt[t]=[])},i.removeAllHooks=function(){lt={}},i}()}()},function(t,e,i){},function(t,e,i){(function(t,n){var a;
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */(function(){var r="Expected a function",s="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",m="[object Map]",_="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",b="[object String]",k="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",j="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",L="[object Uint16Array]",E="[object Uint32Array]",R=/\b__p \+= '';/g,P=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,I=RegExp(q.source),F=RegExp(N.source),z=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,W=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(G.source),V=/^\s+|\s+$/g,J=/^\s+/,Z=/\s+$/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,it=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,at=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,st=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ut=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="[\\ud800-\\udfff]",mt="["+ft+"]",_t="["+dt+"]",gt="\\d+",vt="[\\u2700-\\u27bf]",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+ft+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",kt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",St="(?:"+yt+"|"+bt+")",Ot="(?:"+Tt+"|"+bt+")",Ct="(?:"+_t+"|"+kt+")?",At="[\\ufe0e\\ufe0f]?"+Ct+"(?:\\u200d(?:"+[wt,xt,jt].join("|")+")[\\ufe0e\\ufe0f]?"+Ct+")*",Mt="(?:"+[vt,xt,jt].join("|")+")"+At,Lt="(?:"+[wt+_t+"?",_t,xt,jt,pt].join("|")+")",Et=RegExp("['’]","g"),Rt=RegExp(_t,"g"),Pt=RegExp(kt+"(?="+kt+")|"+Lt+At,"g"),Dt=RegExp([Tt+"?"+yt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[mt,Tt,"$"].join("|")+")",Ot+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[mt,Tt+St,"$"].join("|")+")",Tt+"?"+St+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Tt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Mt].join("|"),"g"),qt=RegExp("[\\u200d\\ud800-\\udfff"+dt+"\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,It=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,zt={};zt[T]=zt[S]=zt[O]=zt[C]=zt[A]=zt[M]=zt["[object Uint8ClampedArray]"]=zt[L]=zt[E]=!0,zt[c]=zt[l]=zt[x]=zt[u]=zt[j]=zt[h]=zt[d]=zt[f]=zt[m]=zt[_]=zt[g]=zt[v]=zt[y]=zt[b]=zt[w]=!1;var Ht={};Ht[c]=Ht[l]=Ht[x]=Ht[j]=Ht[u]=Ht[h]=Ht[T]=Ht[S]=Ht[O]=Ht[C]=Ht[A]=Ht[m]=Ht[_]=Ht[g]=Ht[v]=Ht[y]=Ht[b]=Ht[k]=Ht[M]=Ht["[object Uint8ClampedArray]"]=Ht[L]=Ht[E]=!0,Ht[d]=Ht[f]=Ht[w]=!1;var Wt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ut=parseInt,$t="object"==Object(wi["a"])(t)&&t&&t.Object===Object&&t,Gt="object"==("undefined"===typeof self?"undefined":Object(wi["a"])(self))&&self&&self.Object===Object&&self,Yt=$t||Gt||Function("return this")(),Vt=e&&!e.nodeType&&e,Jt=Vt&&"object"==Object(wi["a"])(n)&&n&&!n.nodeType&&n,Zt=Jt&&Jt.exports===Vt,Kt=Zt&&$t.process,Xt=function(){try{var t=Jt&&Jt.require&&Jt.require("util").types;return t||Kt&&Kt.binding&&Kt.binding("util")}catch(t){}}(),Qt=Xt&&Xt.isArrayBuffer,te=Xt&&Xt.isDate,ee=Xt&&Xt.isMap,ie=Xt&&Xt.isRegExp,ne=Xt&&Xt.isSet,ae=Xt&&Xt.isTypedArray;function re(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function se(t,e,i,n){for(var a=-1,r=null==t?0:t.length;++a<r;){var s=t[a];e(n,s,i(s),t)}return n}function oe(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function ce(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function le(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function ue(t,e){for(var i=-1,n=null==t?0:t.length,a=0,r=[];++i<n;){var s=t[i];e(s,i,t)&&(r[a++]=s)}return r}function he(t,e){return!(null==t||!t.length)&&ke(t,e,0)>-1}function de(t,e,i){for(var n=-1,a=null==t?0:t.length;++n<a;)if(i(e,t[n]))return!0;return!1}function fe(t,e){for(var i=-1,n=null==t?0:t.length,a=Array(n);++i<n;)a[i]=e(t[i],i,t);return a}function pe(t,e){for(var i=-1,n=e.length,a=t.length;++i<n;)t[a+i]=e[i];return t}function me(t,e,i,n){var a=-1,r=null==t?0:t.length;for(n&&r&&(i=t[++a]);++a<r;)i=e(i,t[a],a,t);return i}function _e(t,e,i,n){var a=null==t?0:t.length;for(n&&a&&(i=t[--a]);a--;)i=e(i,t[a],a,t);return i}function ge(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var ve=Te("length");function ye(t,e,i){var n;return i(t,(function(t,i,a){if(e(t,i,a))return n=i,!1})),n}function be(t,e,i,n){for(var a=t.length,r=i+(n?1:-1);n?r--:++r<a;)if(e(t[r],r,t))return r;return-1}function ke(t,e,i){return e==e?function(t,e,i){for(var n=i-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}(t,e,i):be(t,xe,i)}function we(t,e,i,n){for(var a=i-1,r=t.length;++a<r;)if(n(t[a],e))return a;return-1}function xe(t){return t!=t}function je(t,e){var i=null==t?0:t.length;return i?Ce(t,e)/i:NaN}function Te(t){return function(e){return null==e?void 0:e[t]}}function Se(t){return function(e){return null==t?void 0:t[e]}}function Oe(t,e,i,n,a){return a(t,(function(t,a,r){i=n?(n=!1,t):e(i,t,a,r)})),i}function Ce(t,e){for(var i,n=-1,a=t.length;++n<a;){var r=e(t[n]);void 0!==r&&(i=void 0===i?r:i+r)}return i}function Ae(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Me(t){return function(e){return t(e)}}function Le(t,e){return fe(e,(function(e){return t[e]}))}function Ee(t,e){return t.has(e)}function Re(t,e){for(var i=-1,n=t.length;++i<n&&ke(e,t[i],0)>-1;);return i}function Pe(t,e){for(var i=t.length;i--&&ke(e,t[i],0)>-1;);return i}function De(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}var qe=Se({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ne=Se({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ie(t){return"\\"+Wt[t]}function Fe(t){return qt.test(t)}function ze(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function He(t,e){return function(i){return t(e(i))}}function We(t,e){for(var i=-1,n=t.length,a=0,r=[];++i<n;){var o=t[i];o!==e&&o!==s||(t[i]=s,r[a++]=i)}return r}function Be(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function Ue(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function $e(t){return Fe(t)?function(t){for(var e=Pt.lastIndex=0;Pt.test(t);)++e;return e}(t):ve(t)}function Ge(t){return Fe(t)?function(t){return t.match(Pt)||[]}(t):function(t){return t.split("")}(t)}var Ye=Se({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ve=function t(e){var i,n=(e=null==e?Yt:Ve.defaults(Yt.Object(),e,Ve.pick(Yt,It))).Array,a=e.Date,dt=e.Error,ft=e.Function,pt=e.Math,mt=e.Object,_t=e.RegExp,gt=e.String,vt=e.TypeError,yt=n.prototype,bt=ft.prototype,kt=mt.prototype,wt=e["__core-js_shared__"],xt=bt.toString,jt=kt.hasOwnProperty,Tt=0,St=(i=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Ot=kt.toString,Ct=xt.call(mt),At=Yt._,Mt=_t("^"+xt.call(jt).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lt=Zt?e.Buffer:void 0,Pt=e.Symbol,qt=e.Uint8Array,Wt=Lt?Lt.allocUnsafe:void 0,$t=He(mt.getPrototypeOf,mt),Gt=mt.create,Vt=kt.propertyIsEnumerable,Jt=yt.splice,Kt=Pt?Pt.isConcatSpreadable:void 0,Xt=Pt?Pt.iterator:void 0,ve=Pt?Pt.toStringTag:void 0,Se=function(){try{var t=tr(mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Je=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Ze=a&&a.now!==Yt.Date.now&&a.now,Ke=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Xe=pt.ceil,Qe=pt.floor,ti=mt.getOwnPropertySymbols,ei=Lt?Lt.isBuffer:void 0,ii=e.isFinite,ni=yt.join,ai=He(mt.keys,mt),ri=pt.max,si=pt.min,oi=a.now,ci=e.parseInt,li=pt.random,ui=yt.reverse,hi=tr(e,"DataView"),di=tr(e,"Map"),fi=tr(e,"Promise"),pi=tr(e,"Set"),mi=tr(e,"WeakMap"),_i=tr(mt,"create"),gi=mi&&new mi,vi={},yi=Or(hi),bi=Or(di),ki=Or(fi),xi=Or(pi),ji=Or(mi),Ti=Pt?Pt.prototype:void 0,Si=Ti?Ti.valueOf:void 0,Oi=Ti?Ti.toString:void 0;function Ci(t){if(Us(t)&&!Rs(t)&&!(t instanceof Ei)){if(t instanceof Li)return t;if(jt.call(t,"__wrapped__"))return Cr(t)}return new Li(t)}var Ai=function(){function t(){}return function(e){if(!Bs(e))return{};if(Gt)return Gt(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Mi(){}function Li(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Ei(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ri(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Pi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Di(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function qi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Di;++e<i;)this.add(t[e])}function Ni(t){var e=this.__data__=new Pi(t);this.size=e.size}function Ii(t,e){var i=Rs(t),n=!i&&Es(t),a=!i&&!n&&Ns(t),r=!i&&!n&&!a&&Xs(t),s=i||n||a||r,o=s?Ae(t.length,gt):[],c=o.length;for(var l in t)!e&&!jt.call(t,l)||s&&("length"==l||a&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||or(l,c))||o.push(l);return o}function Fi(t){var e=t.length;return e?t[Nn(0,e-1)]:void 0}function zi(t,e){return jr(va(t),Ji(e,0,t.length))}function Hi(t){return jr(va(t))}function Wi(t,e,i){(void 0===i||As(t[e],i))&&(void 0!==i||e in t)||Yi(t,e,i)}function Bi(t,e,i){var n=t[e];jt.call(t,e)&&As(n,i)&&(void 0!==i||e in t)||Yi(t,e,i)}function Ui(t,e){for(var i=t.length;i--;)if(As(t[i][0],e))return i;return-1}function $i(t,e,i,n){return tn(t,(function(t,a,r){e(n,t,i(t),r)})),n}function Gi(t,e){return t&&ya(e,ko(e),t)}function Yi(t,e,i){"__proto__"==e&&Se?Se(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Vi(t,e){for(var i=-1,a=e.length,r=n(a),s=null==t;++i<a;)r[i]=s?void 0:_o(t,e[i]);return r}function Ji(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function Zi(t,e,i,n,a,r){var s,o=1&e,l=2&e,d=4&e;if(i&&(s=a?i(t,n,a,r):i(t)),void 0!==s)return s;if(!Bs(t))return t;var w=Rs(t);if(w){if(s=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&jt.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!o)return va(t,s)}else{var R=nr(t),P=R==f||R==p;if(Ns(t))return da(t,o);if(R==g||R==c||P&&!a){if(s=l||P?{}:rr(t),!o)return l?function(t,e){return ya(t,ir(t),e)}(t,function(t,e){return t&&ya(e,wo(e),t)}(s,t)):function(t,e){return ya(t,er(t),e)}(t,Gi(s,t))}else{if(!Ht[R])return a?t:{};s=function(t,e,i){var n,a=t.constructor;switch(e){case x:return fa(t);case u:case h:return new a(+t);case j:return function(t,e){var i=e?fa(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case T:case S:case O:case C:case A:case M:case"[object Uint8ClampedArray]":case L:case E:return pa(t,i);case m:return new a;case _:case b:return new a(t);case v:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case y:return new a;case k:return n=t,Si?mt(Si.call(n)):{}}}(t,R,o)}}r||(r=new Ni);var D=r.get(t);if(D)return D;r.set(t,s),Js(t)?t.forEach((function(n){s.add(Zi(n,e,i,n,t,r))})):$s(t)&&t.forEach((function(n,a){s.set(a,Zi(n,e,i,a,t,r))}));var q=w?void 0:(d?l?Ya:Ga:l?wo:ko)(t);return oe(q||t,(function(n,a){q&&(n=t[a=n]),Bi(s,a,Zi(n,e,i,a,t,r))})),s}function Ki(t,e,i){var n=i.length;if(null==t)return!n;for(t=mt(t);n--;){var a=i[n],r=e[a],s=t[a];if(void 0===s&&!(a in t)||!r(s))return!1}return!0}function Xi(t,e,i){if("function"!=typeof t)throw new vt(r);return br((function(){t.apply(void 0,i)}),e)}function Qi(t,e,i,n){var a=-1,r=he,s=!0,o=t.length,c=[],l=e.length;if(!o)return c;i&&(e=fe(e,Me(i))),n?(r=de,s=!1):e.length>=200&&(r=Ee,s=!1,e=new qi(e));t:for(;++a<o;){var u=t[a],h=null==i?u:i(u);if(u=n||0!==u?u:0,s&&h==h){for(var d=l;d--;)if(e[d]===h)continue t;c.push(u)}else r(e,h,n)||c.push(u)}return c}Ci.templateSettings={escape:z,evaluate:H,interpolate:W,variable:"",imports:{_:Ci}},Ci.prototype=Mi.prototype,Ci.prototype.constructor=Ci,Li.prototype=Ai(Mi.prototype),Li.prototype.constructor=Li,Ei.prototype=Ai(Mi.prototype),Ei.prototype.constructor=Ei,Ri.prototype.clear=function(){this.__data__=_i?_i(null):{},this.size=0},Ri.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ri.prototype.get=function(t){var e=this.__data__;if(_i){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return jt.call(e,t)?e[t]:void 0},Ri.prototype.has=function(t){var e=this.__data__;return _i?void 0!==e[t]:jt.call(e,t)},Ri.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=_i&&void 0===e?"__lodash_hash_undefined__":e,this},Pi.prototype.clear=function(){this.__data__=[],this.size=0},Pi.prototype.delete=function(t){var e=this.__data__,i=Ui(e,t);return!(i<0)&&(i==e.length-1?e.pop():Jt.call(e,i,1),--this.size,!0)},Pi.prototype.get=function(t){var e=this.__data__,i=Ui(e,t);return i<0?void 0:e[i][1]},Pi.prototype.has=function(t){return Ui(this.__data__,t)>-1},Pi.prototype.set=function(t,e){var i=this.__data__,n=Ui(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},Di.prototype.clear=function(){this.size=0,this.__data__={hash:new Ri,map:new(di||Pi),string:new Ri}},Di.prototype.delete=function(t){var e=Xa(this,t).delete(t);return this.size-=e?1:0,e},Di.prototype.get=function(t){return Xa(this,t).get(t)},Di.prototype.has=function(t){return Xa(this,t).has(t)},Di.prototype.set=function(t,e){var i=Xa(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},qi.prototype.add=qi.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qi.prototype.has=function(t){return this.__data__.has(t)},Ni.prototype.clear=function(){this.__data__=new Pi,this.size=0},Ni.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ni.prototype.get=function(t){return this.__data__.get(t)},Ni.prototype.has=function(t){return this.__data__.has(t)},Ni.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Pi){var n=i.__data__;if(!di||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Di(n)}return i.set(t,e),this.size=i.size,this};var tn=wa(ln),en=wa(un,!0);function nn(t,e){var i=!0;return tn(t,(function(t,n,a){return i=!!e(t,n,a)})),i}function an(t,e,i){for(var n=-1,a=t.length;++n<a;){var r=t[n],s=e(r);if(null!=s&&(void 0===o?s==s&&!Ks(s):i(s,o)))var o=s,c=r}return c}function rn(t,e){var i=[];return tn(t,(function(t,n,a){e(t,n,a)&&i.push(t)})),i}function sn(t,e,i,n,a){var r=-1,s=t.length;for(i||(i=sr),a||(a=[]);++r<s;){var o=t[r];e>0&&i(o)?e>1?sn(o,e-1,i,n,a):pe(a,o):n||(a[a.length]=o)}return a}var on=xa(),cn=xa(!0);function ln(t,e){return t&&on(t,e,ko)}function un(t,e){return t&&cn(t,e,ko)}function hn(t,e){return ue(e,(function(e){return zs(t[e])}))}function dn(t,e){for(var i=0,n=(e=ca(e,t)).length;null!=t&&i<n;)t=t[Sr(e[i++])];return i&&i==n?t:void 0}function fn(t,e,i){var n=e(t);return Rs(t)?n:pe(n,i(t))}function pn(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ve&&ve in mt(t)?function(t){var e=jt.call(t,ve),i=t[ve];try{t[ve]=void 0;var n=!0}catch(t){}var a=Ot.call(t);return n&&(e?t[ve]=i:delete t[ve]),a}(t):function(t){return Ot.call(t)}(t)}function mn(t,e){return t>e}function _n(t,e){return null!=t&&jt.call(t,e)}function gn(t,e){return null!=t&&e in mt(t)}function vn(t,e,i){for(var a=i?de:he,r=t[0].length,s=t.length,o=s,c=n(s),l=1/0,u=[];o--;){var h=t[o];o&&e&&(h=fe(h,Me(e))),l=si(h.length,l),c[o]=!i&&(e||r>=120&&h.length>=120)?new qi(o&&h):void 0}h=t[0];var d=-1,f=c[0];t:for(;++d<r&&u.length<l;){var p=h[d],m=e?e(p):p;if(p=i||0!==p?p:0,!(f?Ee(f,m):a(u,m,i))){for(o=s;--o;){var _=c[o];if(!(_?Ee(_,m):a(t[o],m,i)))continue t}f&&f.push(m),u.push(p)}}return u}function yn(t,e,i){var n=null==(t=_r(t,e=ca(e,t)))?t:t[Sr(Fr(e))];return null==n?void 0:re(n,t,i)}function bn(t){return Us(t)&&pn(t)==c}function kn(t,e,i,n,a){return t===e||(null==t||null==e||!Us(t)&&!Us(e)?t!=t&&e!=e:function(t,e,i,n,a,r){var s=Rs(t),o=Rs(e),f=s?l:nr(t),p=o?l:nr(e),w=(f=f==c?g:f)==g,T=(p=p==c?g:p)==g,S=f==p;if(S&&Ns(t)){if(!Ns(e))return!1;s=!0,w=!1}if(S&&!w)return r||(r=new Ni),s||Xs(t)?Ua(t,e,i,n,a,r):function(t,e,i,n,a,r,s){switch(i){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!r(new qt(t),new qt(e)));case u:case h:case _:return As(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case m:var o=ze;case y:var c=1&n;if(o||(o=Be),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;n|=2,s.set(t,e);var f=Ua(o(t),o(e),n,a,r,s);return s.delete(t),f;case k:if(Si)return Si.call(t)==Si.call(e)}return!1}(t,e,f,i,n,a,r);if(!(1&i)){var O=w&&jt.call(t,"__wrapped__"),C=T&&jt.call(e,"__wrapped__");if(O||C){var A=O?t.value():t,M=C?e.value():e;return r||(r=new Ni),a(A,M,i,n,r)}}return!!S&&(r||(r=new Ni),function(t,e,i,n,a,r){var s=1&i,o=Ga(t),c=o.length,l=Ga(e).length;if(c!=l&&!s)return!1;for(var u=c;u--;){var h=o[u];if(!(s?h in e:jt.call(e,h)))return!1}var d=r.get(t),f=r.get(e);if(d&&f)return d==e&&f==t;var p=!0;r.set(t,e),r.set(e,t);for(var m=s;++u<c;){h=o[u];var _=t[h],g=e[h];if(n)var v=s?n(g,_,h,e,t,r):n(_,g,h,t,e,r);if(!(void 0===v?_===g||a(_,g,i,n,r):v)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return r.delete(t),r.delete(e),p}(t,e,i,n,a,r))}(t,e,i,n,kn,a))}function wn(t,e,i,n){var a=i.length,r=a,s=!n;if(null==t)return!r;for(t=mt(t);a--;){var o=i[a];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<r;){var c=(o=i[a])[0],l=t[c],u=o[1];if(s&&o[2]){if(void 0===l&&!(c in t))return!1}else{var h=new Ni;if(n)var d=n(l,u,c,t,e,h);if(!(void 0===d?kn(u,l,3,n,h):d))return!1}}return!0}function xn(t){return!(!Bs(t)||(e=t,St&&St in e))&&(zs(t)?Mt:st).test(Or(t));var e}function jn(t){return"function"==typeof t?t:null==t?Yo:"object"==Object(wi["a"])(t)?Rs(t)?Mn(t[0],t[1]):An(t):ic(t)}function Tn(t){if(!dr(t))return ai(t);var e=[];for(var i in mt(t))jt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Sn(t){if(!Bs(t))return function(t){var e=[];if(null!=t)for(var i in mt(t))e.push(i);return e}(t);var e=dr(t),i=[];for(var n in t)("constructor"!=n||!e&&jt.call(t,n))&&i.push(n);return i}function On(t,e){return t<e}function Cn(t,e){var i=-1,a=Ds(t)?n(t.length):[];return tn(t,(function(t,n,r){a[++i]=e(t,n,r)})),a}function An(t){var e=Qa(t);return 1==e.length&&e[0][2]?pr(e[0][0],e[0][1]):function(i){return i===t||wn(i,t,e)}}function Mn(t,e){return lr(t)&&fr(e)?pr(Sr(t),e):function(i){var n=_o(i,t);return void 0===n&&n===e?go(i,t):kn(e,n,3)}}function Ln(t,e,i,n,a){t!==e&&on(e,(function(r,s){if(a||(a=new Ni),Bs(r))!function(t,e,i,n,a,r,s){var o=vr(t,i),c=vr(e,i),l=s.get(c);if(l)Wi(t,i,l);else{var u=r?r(o,c,i+"",t,e,s):void 0,h=void 0===u;if(h){var d=Rs(c),f=!d&&Ns(c),p=!d&&!f&&Xs(c);u=c,d||f||p?Rs(o)?u=o:qs(o)?u=va(o):f?(h=!1,u=da(c,!0)):p?(h=!1,u=pa(c,!0)):u=[]:Ys(c)||Es(c)?(u=o,Es(o)?u=so(o):Bs(o)&&!zs(o)||(u=rr(c))):h=!1}h&&(s.set(c,u),a(u,c,n,r,s),s.delete(c)),Wi(t,i,u)}}(t,e,s,i,Ln,n,a);else{var o=n?n(vr(t,s),r,s+"",t,e,a):void 0;void 0===o&&(o=r),Wi(t,s,o)}}),wo)}function En(t,e){var i=t.length;if(i)return or(e+=e<0?i:0,i)?t[e]:void 0}function Rn(t,e,i){e=e.length?fe(e,(function(t){return Rs(t)?function(e){return dn(e,1===t.length?t[0]:t)}:t})):[Yo];var n=-1;return e=fe(e,Me(Ka())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(Cn(t,(function(t,i,a){return{criteria:fe(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,i){for(var n=-1,a=t.criteria,r=e.criteria,s=a.length,o=i.length;++n<s;){var c=ma(a[n],r[n]);if(c){if(n>=o)return c;var l=i[n];return c*("desc"==l?-1:1)}}return t.index-e.index}(t,e,i)}))}function Pn(t,e,i){for(var n=-1,a=e.length,r={};++n<a;){var s=e[n],o=dn(t,s);i(o,s)&&Wn(r,ca(s,t),o)}return r}function Dn(t,e,i,n){var a=n?we:ke,r=-1,s=e.length,o=t;for(t===e&&(e=va(e)),i&&(o=fe(t,Me(i)));++r<s;)for(var c=0,l=e[r],u=i?i(l):l;(c=a(o,u,c,n))>-1;)o!==t&&Jt.call(o,c,1),Jt.call(t,c,1);return t}function qn(t,e){for(var i=t?e.length:0,n=i-1;i--;){var a=e[i];if(i==n||a!==r){var r=a;or(a)?Jt.call(t,a,1):ta(t,a)}}return t}function Nn(t,e){return t+Qe(li()*(e-t+1))}function In(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=Qe(e/2))&&(t+=t)}while(e);return i}function Fn(t,e){return kr(mr(t,e,Yo),t+"")}function zn(t){return Fi(Mo(t))}function Hn(t,e){var i=Mo(t);return jr(i,Ji(e,0,i.length))}function Wn(t,e,i,n){if(!Bs(t))return t;for(var a=-1,r=(e=ca(e,t)).length,s=r-1,o=t;null!=o&&++a<r;){var c=Sr(e[a]),l=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(a!=s){var u=o[c];void 0===(l=n?n(u,c,o):void 0)&&(l=Bs(u)?u:or(e[a+1])?[]:{})}Bi(o,c,l),o=o[c]}return t}var Bn=gi?function(t,e){return gi.set(t,e),t}:Yo,Un=Se?function(t,e){return Se(t,"toString",{configurable:!0,enumerable:!1,value:Uo(e),writable:!0})}:Yo;function $n(t){return jr(Mo(t))}function Gn(t,e,i){var a=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var s=n(r);++a<r;)s[a]=t[a+e];return s}function Yn(t,e){var i;return tn(t,(function(t,n,a){return!(i=e(t,n,a))})),!!i}function Vn(t,e,i){var n=0,a=null==t?n:t.length;if("number"==typeof e&&e==e&&a<=2147483647){for(;n<a;){var r=n+a>>>1,s=t[r];null!==s&&!Ks(s)&&(i?s<=e:s<e)?n=r+1:a=r}return a}return Jn(t,e,Yo,i)}function Jn(t,e,i,n){var a=0,r=null==t?0:t.length;if(0===r)return 0;for(var s=(e=i(e))!=e,o=null===e,c=Ks(e),l=void 0===e;a<r;){var u=Qe((a+r)/2),h=i(t[u]),d=void 0!==h,f=null===h,p=h==h,m=Ks(h);if(s)var _=n||p;else _=l?p&&(n||d):o?p&&d&&(n||!f):c?p&&d&&!f&&(n||!m):!f&&!m&&(n?h<=e:h<e);_?a=u+1:r=u}return si(r,4294967294)}function Zn(t,e){for(var i=-1,n=t.length,a=0,r=[];++i<n;){var s=t[i],o=e?e(s):s;if(!i||!As(o,c)){var c=o;r[a++]=0===s?0:s}}return r}function Kn(t){return"number"==typeof t?t:Ks(t)?NaN:+t}function Xn(t){if("string"==typeof t)return t;if(Rs(t))return fe(t,Xn)+"";if(Ks(t))return Oi?Oi.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qn(t,e,i){var n=-1,a=he,r=t.length,s=!0,o=[],c=o;if(i)s=!1,a=de;else if(r>=200){var l=e?null:Ia(t);if(l)return Be(l);s=!1,a=Ee,c=new qi}else c=e?[]:o;t:for(;++n<r;){var u=t[n],h=e?e(u):u;if(u=i||0!==u?u:0,s&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),o.push(u)}else a(c,h,i)||(c!==o&&c.push(h),o.push(u))}return o}function ta(t,e){return null==(t=_r(t,e=ca(e,t)))||delete t[Sr(Fr(e))]}function ea(t,e,i,n){return Wn(t,e,i(dn(t,e)),n)}function ia(t,e,i,n){for(var a=t.length,r=n?a:-1;(n?r--:++r<a)&&e(t[r],r,t););return i?Gn(t,n?0:r,n?r+1:a):Gn(t,n?r+1:0,n?a:r)}function na(t,e){var i=t;return i instanceof Ei&&(i=i.value()),me(e,(function(t,e){return e.func.apply(e.thisArg,pe([t],e.args))}),i)}function aa(t,e,i){var a=t.length;if(a<2)return a?Qn(t[0]):[];for(var r=-1,s=n(a);++r<a;)for(var o=t[r],c=-1;++c<a;)c!=r&&(s[r]=Qi(s[r]||o,t[c],e,i));return Qn(sn(s,1),e,i)}function ra(t,e,i){for(var n=-1,a=t.length,r=e.length,s={};++n<a;){var o=n<r?e[n]:void 0;i(s,t[n],o)}return s}function sa(t){return qs(t)?t:[]}function oa(t){return"function"==typeof t?t:Yo}function ca(t,e){return Rs(t)?t:lr(t,e)?[t]:Tr(oo(t))}var la=Fn;function ua(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:Gn(t,e,i)}var ha=Je||function(t){return Yt.clearTimeout(t)};function da(t,e){if(e)return t.slice();var i=t.length,n=Wt?Wt(i):new t.constructor(i);return t.copy(n),n}function fa(t){var e=new t.constructor(t.byteLength);return new qt(e).set(new qt(t)),e}function pa(t,e){var i=e?fa(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ma(t,e){if(t!==e){var i=void 0!==t,n=null===t,a=t==t,r=Ks(t),s=void 0!==e,o=null===e,c=e==e,l=Ks(e);if(!o&&!l&&!r&&t>e||r&&s&&c&&!o&&!l||n&&s&&c||!i&&c||!a)return 1;if(!n&&!r&&!l&&t<e||l&&i&&a&&!n&&!r||o&&i&&a||!s&&a||!c)return-1}return 0}function _a(t,e,i,a){for(var r=-1,s=t.length,o=i.length,c=-1,l=e.length,u=ri(s-o,0),h=n(l+u),d=!a;++c<l;)h[c]=e[c];for(;++r<o;)(d||r<s)&&(h[i[r]]=t[r]);for(;u--;)h[c++]=t[r++];return h}function ga(t,e,i,a){for(var r=-1,s=t.length,o=-1,c=i.length,l=-1,u=e.length,h=ri(s-c,0),d=n(h+u),f=!a;++r<h;)d[r]=t[r];for(var p=r;++l<u;)d[p+l]=e[l];for(;++o<c;)(f||r<s)&&(d[p+i[o]]=t[r++]);return d}function va(t,e){var i=-1,a=t.length;for(e||(e=n(a));++i<a;)e[i]=t[i];return e}function ya(t,e,i,n){var a=!i;i||(i={});for(var r=-1,s=e.length;++r<s;){var o=e[r],c=n?n(i[o],t[o],o,i,t):void 0;void 0===c&&(c=t[o]),a?Yi(i,o,c):Bi(i,o,c)}return i}function ba(t,e){return function(i,n){var a=Rs(i)?se:$i,r=e?e():{};return a(i,t,Ka(n,2),r)}}function ka(t){return Fn((function(e,i){var n=-1,a=i.length,r=a>1?i[a-1]:void 0,s=a>2?i[2]:void 0;for(r=t.length>3&&"function"==typeof r?(a--,r):void 0,s&&cr(i[0],i[1],s)&&(r=a<3?void 0:r,a=1),e=mt(e);++n<a;){var o=i[n];o&&t(e,o,n,r)}return e}))}function wa(t,e){return function(i,n){if(null==i)return i;if(!Ds(i))return t(i,n);for(var a=i.length,r=e?a:-1,s=mt(i);(e?r--:++r<a)&&!1!==n(s[r],r,s););return i}}function xa(t){return function(e,i,n){for(var a=-1,r=mt(e),s=n(e),o=s.length;o--;){var c=s[t?o:++a];if(!1===i(r[c],c,r))break}return e}}function ja(t){return function(e){var i=Fe(e=oo(e))?Ge(e):void 0,n=i?i[0]:e.charAt(0),a=i?ua(i,1).join(""):e.slice(1);return n[t]()+a}}function Ta(t){return function(e){return me(Ho(Ro(e).replace(Et,"")),t,"")}}function Sa(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Ai(t.prototype),n=t.apply(i,e);return Bs(n)?n:i}}function Oa(t){return function(e,i,n){var a=mt(e);if(!Ds(e)){var r=Ka(i,3);e=ko(e),i=function(t){return r(a[t],t,a)}}var s=t(e,i,n);return s>-1?a[r?e[s]:s]:void 0}}function Ca(t){return $a((function(e){var i=e.length,n=i,a=Li.prototype.thru;for(t&&e.reverse();n--;){var s=e[n];if("function"!=typeof s)throw new vt(r);if(a&&!o&&"wrapper"==Ja(s))var o=new Li([],!0)}for(n=o?n:i;++n<i;){var c=Ja(s=e[n]),l="wrapper"==c?Va(s):void 0;o=l&&ur(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?o[Ja(l[0])].apply(o,l[3]):1==s.length&&ur(s)?o[c]():o.thru(s)}return function(){var t=arguments,n=t[0];if(o&&1==t.length&&Rs(n))return o.plant(n).value();for(var a=0,r=i?e[a].apply(this,t):n;++a<i;)r=e[a].call(this,r);return r}}))}function Aa(t,e,i,a,r,s,o,c,l,u){var h=128&e,d=1&e,f=2&e,p=24&e,m=512&e,_=f?void 0:Sa(t);return function g(){for(var v=arguments.length,y=n(v),b=v;b--;)y[b]=arguments[b];if(p)var k=Za(g),w=De(y,k);if(a&&(y=_a(y,a,r,p)),s&&(y=ga(y,s,o,p)),v-=w,p&&v<u){var x=We(y,k);return qa(t,e,Aa,g.placeholder,i,y,x,c,l,u-v)}var j=d?i:this,T=f?j[t]:t;return v=y.length,c?y=gr(y,c):m&&v>1&&y.reverse(),h&&l<v&&(y.length=l),this&&this!==Yt&&this instanceof g&&(T=_||Sa(T)),T.apply(j,y)}}function Ma(t,e){return function(i,n){return function(t,e,i,n){return ln(t,(function(t,a,r){e(n,i(t),a,r)})),n}(i,t,e(n),{})}}function La(t,e){return function(i,n){var a;if(void 0===i&&void 0===n)return e;if(void 0!==i&&(a=i),void 0!==n){if(void 0===a)return n;"string"==typeof i||"string"==typeof n?(i=Xn(i),n=Xn(n)):(i=Kn(i),n=Kn(n)),a=t(i,n)}return a}}function Ea(t){return $a((function(e){return e=fe(e,Me(Ka())),Fn((function(i){var n=this;return t(e,(function(t){return re(t,n,i)}))}))}))}function Ra(t,e){var i=(e=void 0===e?" ":Xn(e)).length;if(i<2)return i?In(e,t):e;var n=In(e,Xe(t/$e(e)));return Fe(e)?ua(Ge(n),0,t).join(""):n.slice(0,t)}function Pa(t){return function(e,i,a){return a&&"number"!=typeof a&&cr(e,i,a)&&(i=a=void 0),e=io(e),void 0===i?(i=e,e=0):i=io(i),function(t,e,i,a){for(var r=-1,s=ri(Xe((e-t)/(i||1)),0),o=n(s);s--;)o[a?s:++r]=t,t+=i;return o}(e,i,a=void 0===a?e<i?1:-1:io(a),t)}}function Da(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=ro(e),i=ro(i)),t(e,i)}}function qa(t,e,i,n,a,r,s,o,c,l){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,a,u?r:void 0,u?s:void 0,u?void 0:r,u?void 0:s,o,c,l],d=i.apply(void 0,h);return ur(t)&&yr(d,h),d.placeholder=n,wr(d,t,e)}function Na(t){var e=pt[t];return function(t,i){if(t=ro(t),(i=null==i?0:si(no(i),292))&&ii(t)){var n=(oo(t)+"e").split("e");return+((n=(oo(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Ia=pi&&1/Be(new pi([,-0]))[1]==1/0?function(t){return new pi(t)}:Xo;function Fa(t){return function(e){var i=nr(e);return i==m?ze(e):i==y?Ue(e):function(t,e){return fe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function za(t,e,i,a,o,c,l,u){var h=2&e;if(!h&&"function"!=typeof t)throw new vt(r);var d=a?a.length:0;if(d||(e&=-97,a=o=void 0),l=void 0===l?l:ri(no(l),0),u=void 0===u?u:no(u),d-=o?o.length:0,64&e){var f=a,p=o;a=o=void 0}var m=h?void 0:Va(t),_=[t,e,i,a,o,f,p,c,l,u];if(m&&function(t,e){var i=t[1],n=e[1],a=i|n,r=a<131,o=128==n&&8==i||128==n&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!r&&!o)return t;1&n&&(t[2]=e[2],a|=1&i?0:4);var c=e[3];if(c){var l=t[3];t[3]=l?_a(l,c,e[4]):c,t[4]=l?We(t[3],s):e[4]}(c=e[5])&&(l=t[5],t[5]=l?ga(l,c,e[6]):c,t[6]=l?We(t[5],s):e[6]),(c=e[7])&&(t[7]=c),128&n&&(t[8]=null==t[8]?e[8]:si(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=a}(_,m),t=_[0],e=_[1],i=_[2],a=_[3],o=_[4],!(u=_[9]=void 0===_[9]?h?0:t.length:ri(_[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,i){var a=Sa(t);return function r(){for(var s=arguments.length,o=n(s),c=s,l=Za(r);c--;)o[c]=arguments[c];var u=s<3&&o[0]!==l&&o[s-1]!==l?[]:We(o,l);if((s-=u.length)<i)return qa(t,e,Aa,r.placeholder,void 0,o,u,void 0,void 0,i-s);var h=this&&this!==Yt&&this instanceof r?a:t;return re(h,this,o)}}(t,e,u):32!=e&&33!=e||o.length?Aa.apply(void 0,_):function(t,e,i,a){var r=1&e,s=Sa(t);return function e(){for(var o=-1,c=arguments.length,l=-1,u=a.length,h=n(u+c),d=this&&this!==Yt&&this instanceof e?s:t;++l<u;)h[l]=a[l];for(;c--;)h[l++]=arguments[++o];return re(d,r?i:this,h)}}(t,e,i,a);else var g=function(t,e,i){var n=1&e,a=Sa(t);return function e(){var r=this&&this!==Yt&&this instanceof e?a:t;return r.apply(n?i:this,arguments)}}(t,e,i);return wr((m?Bn:yr)(g,_),t,e)}function Ha(t,e,i,n){return void 0===t||As(t,kt[i])&&!jt.call(n,i)?e:t}function Wa(t,e,i,n,a,r){return Bs(t)&&Bs(e)&&(r.set(e,t),Ln(t,e,void 0,Wa,r),r.delete(e)),t}function Ba(t){return Ys(t)?void 0:t}function Ua(t,e,i,n,a,r){var s=1&i,o=t.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var l=r.get(t),u=r.get(e);if(l&&u)return l==e&&u==t;var h=-1,d=!0,f=2&i?new qi:void 0;for(r.set(t,e),r.set(e,t);++h<o;){var p=t[h],m=e[h];if(n)var _=s?n(m,p,h,e,t,r):n(p,m,h,t,e,r);if(void 0!==_){if(_)continue;d=!1;break}if(f){if(!ge(e,(function(t,e){if(!Ee(f,e)&&(p===t||a(p,t,i,n,r)))return f.push(e)}))){d=!1;break}}else if(p!==m&&!a(p,m,i,n,r)){d=!1;break}}return r.delete(t),r.delete(e),d}function $a(t){return kr(mr(t,void 0,Pr),t+"")}function Ga(t){return fn(t,ko,er)}function Ya(t){return fn(t,wo,ir)}var Va=gi?function(t){return gi.get(t)}:Xo;function Ja(t){for(var e=t.name+"",i=vi[e],n=jt.call(vi,e)?i.length:0;n--;){var a=i[n],r=a.func;if(null==r||r==t)return a.name}return e}function Za(t){return(jt.call(Ci,"placeholder")?Ci:t).placeholder}function Ka(){var t=Ci.iteratee||Vo;return t=t===Vo?jn:t,arguments.length?t(arguments[0],arguments[1]):t}function Xa(t,e){var i,n,a=t.__data__;return("string"==(n=Object(wi["a"])(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?a["string"==typeof e?"string":"hash"]:a.map}function Qa(t){for(var e=ko(t),i=e.length;i--;){var n=e[i],a=t[n];e[i]=[n,a,fr(a)]}return e}function tr(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return xn(i)?i:void 0}var er=ti?function(t){return null==t?[]:(t=mt(t),ue(ti(t),(function(e){return Vt.call(t,e)})))}:rc,ir=ti?function(t){for(var e=[];t;)pe(e,er(t)),t=$t(t);return e}:rc,nr=pn;function ar(t,e,i){for(var n=-1,a=(e=ca(e,t)).length,r=!1;++n<a;){var s=Sr(e[n]);if(!(r=null!=t&&i(t,s)))break;t=t[s]}return r||++n!=a?r:!!(a=null==t?0:t.length)&&Ws(a)&&or(s,a)&&(Rs(t)||Es(t))}function rr(t){return"function"!=typeof t.constructor||dr(t)?{}:Ai($t(t))}function sr(t){return Rs(t)||Es(t)||!!(Kt&&t&&t[Kt])}function or(t,e){var i=Object(wi["a"])(t);return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&ct.test(t))&&t>-1&&t%1==0&&t<e}function cr(t,e,i){if(!Bs(i))return!1;var n=Object(wi["a"])(e);return!!("number"==n?Ds(i)&&or(e,i.length):"string"==n&&e in i)&&As(i[e],t)}function lr(t,e){if(Rs(t))return!1;var i=Object(wi["a"])(t);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Ks(t))||U.test(t)||!B.test(t)||null!=e&&t in mt(e)}function ur(t){var e=Ja(t),i=Ci[e];if("function"!=typeof i||!(e in Ei.prototype))return!1;if(t===i)return!0;var n=Va(i);return!!n&&t===n[0]}(hi&&nr(new hi(new ArrayBuffer(1)))!=j||di&&nr(new di)!=m||fi&&"[object Promise]"!=nr(fi.resolve())||pi&&nr(new pi)!=y||mi&&nr(new mi)!=w)&&(nr=function(t){var e=pn(t),i=e==g?t.constructor:void 0,n=i?Or(i):"";if(n)switch(n){case yi:return j;case bi:return m;case ki:return"[object Promise]";case xi:return y;case ji:return w}return e});var hr=wt?zs:sc;function dr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function fr(t){return t==t&&!Bs(t)}function pr(t,e){return function(i){return null!=i&&i[t]===e&&(void 0!==e||t in mt(i))}}function mr(t,e,i){return e=ri(void 0===e?t.length-1:e,0),function(){for(var a=arguments,r=-1,s=ri(a.length-e,0),o=n(s);++r<s;)o[r]=a[e+r];r=-1;for(var c=n(e+1);++r<e;)c[r]=a[r];return c[e]=i(o),re(t,this,c)}}function _r(t,e){return e.length<2?t:dn(t,Gn(e,0,-1))}function gr(t,e){for(var i=t.length,n=si(e.length,i),a=va(t);n--;){var r=e[n];t[n]=or(r,i)?a[r]:void 0}return t}function vr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var yr=xr(Bn),br=Ke||function(t,e){return Yt.setTimeout(t,e)},kr=xr(Un);function wr(t,e,i){var n=e+"";return kr(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(K,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return oe(o,(function(i){var n="_."+i[0];e&i[1]&&!he(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(X);return e?e[1].split(Q):[]}(n),i)))}function xr(t){var e=0,i=0;return function(){var n=oi(),a=16-(n-i);if(i=n,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function jr(t,e){var i=-1,n=t.length,a=n-1;for(e=void 0===e?n:e;++i<e;){var r=Nn(i,a),s=t[r];t[r]=t[i],t[i]=s}return t.length=e,t}var Tr=function(t){var e=xs(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($,(function(t,i,n,a){e.push(n?a.replace(et,"$1"):i||t)})),e}));function Sr(t){if("string"==typeof t||Ks(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Or(t){if(null!=t){try{return xt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Cr(t){if(t instanceof Ei)return t.clone();var e=new Li(t.__wrapped__,t.__chain__);return e.__actions__=va(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ar=Fn((function(t,e){return qs(t)?Qi(t,sn(e,1,qs,!0)):[]})),Mr=Fn((function(t,e){var i=Fr(e);return qs(i)&&(i=void 0),qs(t)?Qi(t,sn(e,1,qs,!0),Ka(i,2)):[]})),Lr=Fn((function(t,e){var i=Fr(e);return qs(i)&&(i=void 0),qs(t)?Qi(t,sn(e,1,qs,!0),void 0,i):[]}));function Er(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var a=null==i?0:no(i);return a<0&&(a=ri(n+a,0)),be(t,Ka(e,3),a)}function Rr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var a=n-1;return void 0!==i&&(a=no(i),a=i<0?ri(n+a,0):si(a,n-1)),be(t,Ka(e,3),a,!0)}function Pr(t){return null!=t&&t.length?sn(t,1):[]}function Dr(t){return t&&t.length?t[0]:void 0}var qr=Fn((function(t){var e=fe(t,sa);return e.length&&e[0]===t[0]?vn(e):[]})),Nr=Fn((function(t){var e=Fr(t),i=fe(t,sa);return e===Fr(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?vn(i,Ka(e,2)):[]})),Ir=Fn((function(t){var e=Fr(t),i=fe(t,sa);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?vn(i,void 0,e):[]}));function Fr(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var zr=Fn(Hr);function Hr(t,e){return t&&t.length&&e&&e.length?Dn(t,e):t}var Wr=$a((function(t,e){var i=null==t?0:t.length,n=Vi(t,e);return qn(t,fe(e,(function(t){return or(t,i)?+t:t})).sort(ma)),n}));function Br(t){return null==t?t:ui.call(t)}var Ur=Fn((function(t){return Qn(sn(t,1,qs,!0))})),$r=Fn((function(t){var e=Fr(t);return qs(e)&&(e=void 0),Qn(sn(t,1,qs,!0),Ka(e,2))})),Gr=Fn((function(t){var e=Fr(t);return e="function"==typeof e?e:void 0,Qn(sn(t,1,qs,!0),void 0,e)}));function Yr(t){if(!t||!t.length)return[];var e=0;return t=ue(t,(function(t){if(qs(t))return e=ri(t.length,e),!0})),Ae(e,(function(e){return fe(t,Te(e))}))}function Vr(t,e){if(!t||!t.length)return[];var i=Yr(t);return null==e?i:fe(i,(function(t){return re(e,void 0,t)}))}var Jr=Fn((function(t,e){return qs(t)?Qi(t,e):[]})),Zr=Fn((function(t){return aa(ue(t,qs))})),Kr=Fn((function(t){var e=Fr(t);return qs(e)&&(e=void 0),aa(ue(t,qs),Ka(e,2))})),Xr=Fn((function(t){var e=Fr(t);return e="function"==typeof e?e:void 0,aa(ue(t,qs),void 0,e)})),Qr=Fn(Yr),ts=Fn((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,Vr(t,i)}));function es(t){var e=Ci(t);return e.__chain__=!0,e}function is(t,e){return e(t)}var ns=$a((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,a=function(e){return Vi(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Ei&&or(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:is,args:[a],thisArg:void 0}),new Li(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(a)})),as=ba((function(t,e,i){jt.call(t,i)?++t[i]:Yi(t,i,1)})),rs=Oa(Er),ss=Oa(Rr);function os(t,e){return(Rs(t)?oe:tn)(t,Ka(e,3))}function cs(t,e){return(Rs(t)?ce:en)(t,Ka(e,3))}var ls=ba((function(t,e,i){jt.call(t,i)?t[i].push(e):Yi(t,i,[e])})),us=Fn((function(t,e,i){var a=-1,r="function"==typeof e,s=Ds(t)?n(t.length):[];return tn(t,(function(t){s[++a]=r?re(e,t,i):yn(t,e,i)})),s})),hs=ba((function(t,e,i){Yi(t,i,e)}));function ds(t,e){return(Rs(t)?fe:Cn)(t,Ka(e,3))}var fs=ba((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]})),ps=Fn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&cr(t,e[0],e[1])?e=[]:i>2&&cr(e[0],e[1],e[2])&&(e=[e[0]]),Rn(t,sn(e,1),[])})),ms=Ze||function(){return Yt.Date.now()};function _s(t,e,i){return e=i?void 0:e,za(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function gs(t,e){var i;if("function"!=typeof e)throw new vt(r);return t=no(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var vs=Fn((function(t,e,i){var n=1;if(i.length){var a=We(i,Za(vs));n|=32}return za(t,n,e,i,a)})),ys=Fn((function(t,e,i){var n=3;if(i.length){var a=We(i,Za(ys));n|=32}return za(e,n,t,i,a)}));function bs(t,e,i){var n,a,s,o,c,l,u=0,h=!1,d=!1,f=!0;if("function"!=typeof t)throw new vt(r);function p(e){var i=n,r=a;return n=a=void 0,u=e,o=t.apply(r,i)}function m(t){return u=t,c=br(g,e),h?p(t):o}function _(t){var i=t-l;return void 0===l||i>=e||i<0||d&&t-u>=s}function g(){var t=ms();if(_(t))return v(t);c=br(g,function(t){var i=e-(t-l);return d?si(i,s-(t-u)):i}(t))}function v(t){return c=void 0,f&&n?p(t):(n=a=void 0,o)}function y(){var t=ms(),i=_(t);if(n=arguments,a=this,l=t,i){if(void 0===c)return m(l);if(d)return ha(c),c=br(g,e),p(l)}return void 0===c&&(c=br(g,e)),o}return e=ro(e)||0,Bs(i)&&(h=!!i.leading,s=(d="maxWait"in i)?ri(ro(i.maxWait)||0,e):s,f="trailing"in i?!!i.trailing:f),y.cancel=function(){void 0!==c&&ha(c),u=0,n=l=a=c=void 0},y.flush=function(){return void 0===c?o:v(ms())},y}var ks=Fn((function(t,e){return Xi(t,1,e)})),ws=Fn((function(t,e,i){return Xi(t,ro(e)||0,i)}));function xs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(r);var i=function(){var n=arguments,a=e?e.apply(this,n):n[0],r=i.cache;if(r.has(a))return r.get(a);var s=t.apply(this,n);return i.cache=r.set(a,s)||r,s};return i.cache=new(xs.Cache||Di),i}function js(t){if("function"!=typeof t)throw new vt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}xs.Cache=Di;var Ts=la((function(t,e){var i=(e=1==e.length&&Rs(e[0])?fe(e[0],Me(Ka())):fe(sn(e,1),Me(Ka()))).length;return Fn((function(n){for(var a=-1,r=si(n.length,i);++a<r;)n[a]=e[a].call(this,n[a]);return re(t,this,n)}))})),Ss=Fn((function(t,e){return za(t,32,void 0,e,We(e,Za(Ss)))})),Os=Fn((function(t,e){return za(t,64,void 0,e,We(e,Za(Os)))})),Cs=$a((function(t,e){return za(t,256,void 0,void 0,void 0,e)}));function As(t,e){return t===e||t!=t&&e!=e}var Ms=Da(mn),Ls=Da((function(t,e){return t>=e})),Es=bn(function(){return arguments}())?bn:function(t){return Us(t)&&jt.call(t,"callee")&&!Vt.call(t,"callee")},Rs=n.isArray,Ps=Qt?Me(Qt):function(t){return Us(t)&&pn(t)==x};function Ds(t){return null!=t&&Ws(t.length)&&!zs(t)}function qs(t){return Us(t)&&Ds(t)}var Ns=ei||sc,Is=te?Me(te):function(t){return Us(t)&&pn(t)==h};function Fs(t){if(!Us(t))return!1;var e=pn(t);return e==d||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ys(t)}function zs(t){if(!Bs(t))return!1;var e=pn(t);return e==f||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Hs(t){return"number"==typeof t&&t==no(t)}function Ws(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Bs(t){var e=Object(wi["a"])(t);return null!=t&&("object"==e||"function"==e)}function Us(t){return null!=t&&"object"==Object(wi["a"])(t)}var $s=ee?Me(ee):function(t){return Us(t)&&nr(t)==m};function Gs(t){return"number"==typeof t||Us(t)&&pn(t)==_}function Ys(t){if(!Us(t)||pn(t)!=g)return!1;var e=$t(t);if(null===e)return!0;var i=jt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&xt.call(i)==Ct}var Vs=ie?Me(ie):function(t){return Us(t)&&pn(t)==v},Js=ne?Me(ne):function(t){return Us(t)&&nr(t)==y};function Zs(t){return"string"==typeof t||!Rs(t)&&Us(t)&&pn(t)==b}function Ks(t){return"symbol"==Object(wi["a"])(t)||Us(t)&&pn(t)==k}var Xs=ae?Me(ae):function(t){return Us(t)&&Ws(t.length)&&!!zt[pn(t)]},Qs=Da(On),to=Da((function(t,e){return t<=e}));function eo(t){if(!t)return[];if(Ds(t))return Zs(t)?Ge(t):va(t);if(Xt&&t[Xt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[Xt]());var e=nr(t);return(e==m?ze:e==y?Be:Mo)(t)}function io(t){return t?(t=ro(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function no(t){var e=io(t),i=e%1;return e==e?i?e-i:e:0}function ao(t){return t?Ji(no(t),0,4294967295):0}function ro(t){if("number"==typeof t)return t;if(Ks(t))return NaN;if(Bs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Bs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(V,"");var i=rt.test(t);return i||ot.test(t)?Ut(t.slice(2),i?2:8):at.test(t)?NaN:+t}function so(t){return ya(t,wo(t))}function oo(t){return null==t?"":Xn(t)}var co=ka((function(t,e){if(dr(e)||Ds(e))ya(e,ko(e),t);else for(var i in e)jt.call(e,i)&&Bi(t,i,e[i])})),lo=ka((function(t,e){ya(e,wo(e),t)})),uo=ka((function(t,e,i,n){ya(e,wo(e),t,n)})),ho=ka((function(t,e,i,n){ya(e,ko(e),t,n)})),fo=$a(Vi),po=Fn((function(t,e){t=mt(t);var i=-1,n=e.length,a=n>2?e[2]:void 0;for(a&&cr(e[0],e[1],a)&&(n=1);++i<n;)for(var r=e[i],s=wo(r),o=-1,c=s.length;++o<c;){var l=s[o],u=t[l];(void 0===u||As(u,kt[l])&&!jt.call(t,l))&&(t[l]=r[l])}return t})),mo=Fn((function(t){return t.push(void 0,Wa),re(jo,void 0,t)}));function _o(t,e,i){var n=null==t?void 0:dn(t,e);return void 0===n?i:n}function go(t,e){return null!=t&&ar(t,e,gn)}var vo=Ma((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),t[e]=i}),Uo(Yo)),yo=Ma((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Ot.call(e)),jt.call(t,e)?t[e].push(i):t[e]=[i]}),Ka),bo=Fn(yn);function ko(t){return Ds(t)?Ii(t):Tn(t)}function wo(t){return Ds(t)?Ii(t,!0):Sn(t)}var xo=ka((function(t,e,i){Ln(t,e,i)})),jo=ka((function(t,e,i,n){Ln(t,e,i,n)})),To=$a((function(t,e){var i={};if(null==t)return i;var n=!1;e=fe(e,(function(e){return e=ca(e,t),n||(n=e.length>1),e})),ya(t,Ya(t),i),n&&(i=Zi(i,7,Ba));for(var a=e.length;a--;)ta(i,e[a]);return i})),So=$a((function(t,e){return null==t?{}:function(t,e){return Pn(t,e,(function(e,i){return go(t,i)}))}(t,e)}));function Oo(t,e){if(null==t)return{};var i=fe(Ya(t),(function(t){return[t]}));return e=Ka(e),Pn(t,i,(function(t,i){return e(t,i[0])}))}var Co=Fa(ko),Ao=Fa(wo);function Mo(t){return null==t?[]:Le(t,ko(t))}var Lo=Ta((function(t,e,i){return e=e.toLowerCase(),t+(i?Eo(e):e)}));function Eo(t){return zo(oo(t).toLowerCase())}function Ro(t){return(t=oo(t))&&t.replace(lt,qe).replace(Rt,"")}var Po=Ta((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Do=Ta((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),qo=ja("toLowerCase"),No=Ta((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()})),Io=Ta((function(t,e,i){return t+(i?" ":"")+zo(e)})),Fo=Ta((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),zo=ja("toUpperCase");function Ho(t,e,i){return t=oo(t),void 0===(e=i?void 0:e)?function(t){return Nt.test(t)}(t)?function(t){return t.match(Dt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Wo=Fn((function(t,e){try{return re(t,void 0,e)}catch(t){return Fs(t)?t:new dt(t)}})),Bo=$a((function(t,e){return oe(e,(function(e){e=Sr(e),Yi(t,e,vs(t[e],t))})),t}));function Uo(t){return function(){return t}}var $o=Ca(),Go=Ca(!0);function Yo(t){return t}function Vo(t){return jn("function"==typeof t?t:Zi(t,1))}var Jo=Fn((function(t,e){return function(i){return yn(i,t,e)}})),Zo=Fn((function(t,e){return function(i){return yn(t,i,e)}}));function Ko(t,e,i){var n=ko(e),a=hn(e,n);null!=i||Bs(e)&&(a.length||!n.length)||(i=e,e=t,t=this,a=hn(e,ko(e)));var r=!(Bs(i)&&"chain"in i&&!i.chain),s=zs(t);return oe(a,(function(i){var n=e[i];t[i]=n,s&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__),a=i.__actions__=va(this.__actions__);return a.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,pe([this.value()],arguments))})})),t}function Xo(){}var Qo=Ea(fe),tc=Ea(le),ec=Ea(ge);function ic(t){return lr(t)?Te(Sr(t)):function(t){return function(e){return dn(e,t)}}(t)}var nc=Pa(),ac=Pa(!0);function rc(){return[]}function sc(){return!1}var oc,cc=La((function(t,e){return t+e}),0),lc=Na("ceil"),uc=La((function(t,e){return t/e}),1),hc=Na("floor"),dc=La((function(t,e){return t*e}),1),fc=Na("round"),pc=La((function(t,e){return t-e}),0);return Ci.after=function(t,e){if("function"!=typeof e)throw new vt(r);return t=no(t),function(){if(--t<1)return e.apply(this,arguments)}},Ci.ary=_s,Ci.assign=co,Ci.assignIn=lo,Ci.assignInWith=uo,Ci.assignWith=ho,Ci.at=fo,Ci.before=gs,Ci.bind=vs,Ci.bindAll=Bo,Ci.bindKey=ys,Ci.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Rs(t)?t:[t]},Ci.chain=es,Ci.chunk=function(t,e,i){e=(i?cr(t,e,i):void 0===e)?1:ri(no(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];for(var r=0,s=0,o=n(Xe(a/e));r<a;)o[s++]=Gn(t,r,r+=e);return o},Ci.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,a=[];++e<i;){var r=t[e];r&&(a[n++]=r)}return a},Ci.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],a=t;a--;)e[a-1]=arguments[a];return pe(Rs(i)?va(i):[i],sn(e,1))},Ci.cond=function(t){var e=null==t?0:t.length,i=Ka();return t=e?fe(t,(function(t){if("function"!=typeof t[1])throw new vt(r);return[i(t[0]),t[1]]})):[],Fn((function(i){for(var n=-1;++n<e;){var a=t[n];if(re(a[0],this,i))return re(a[1],this,i)}}))},Ci.conforms=function(t){return function(t){var e=ko(t);return function(i){return Ki(i,t,e)}}(Zi(t,1))},Ci.constant=Uo,Ci.countBy=as,Ci.create=function(t,e){var i=Ai(t);return null==e?i:Gi(i,e)},Ci.curry=function t(e,i,n){var a=za(e,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return a.placeholder=t.placeholder,a},Ci.curryRight=function t(e,i,n){var a=za(e,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return a.placeholder=t.placeholder,a},Ci.debounce=bs,Ci.defaults=po,Ci.defaultsDeep=mo,Ci.defer=ks,Ci.delay=ws,Ci.difference=Ar,Ci.differenceBy=Mr,Ci.differenceWith=Lr,Ci.drop=function(t,e,i){var n=null==t?0:t.length;return n?Gn(t,(e=i||void 0===e?1:no(e))<0?0:e,n):[]},Ci.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?Gn(t,0,(e=n-(e=i||void 0===e?1:no(e)))<0?0:e):[]},Ci.dropRightWhile=function(t,e){return t&&t.length?ia(t,Ka(e,3),!0,!0):[]},Ci.dropWhile=function(t,e){return t&&t.length?ia(t,Ka(e,3),!0):[]},Ci.fill=function(t,e,i,n){var a=null==t?0:t.length;return a?(i&&"number"!=typeof i&&cr(t,e,i)&&(i=0,n=a),function(t,e,i,n){var a=t.length;for((i=no(i))<0&&(i=-i>a?0:a+i),(n=void 0===n||n>a?a:no(n))<0&&(n+=a),n=i>n?0:ao(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},Ci.filter=function(t,e){return(Rs(t)?ue:rn)(t,Ka(e,3))},Ci.flatMap=function(t,e){return sn(ds(t,e),1)},Ci.flatMapDeep=function(t,e){return sn(ds(t,e),1/0)},Ci.flatMapDepth=function(t,e,i){return i=void 0===i?1:no(i),sn(ds(t,e),i)},Ci.flatten=Pr,Ci.flattenDeep=function(t){return null!=t&&t.length?sn(t,1/0):[]},Ci.flattenDepth=function(t,e){return null!=t&&t.length?sn(t,e=void 0===e?1:no(e)):[]},Ci.flip=function(t){return za(t,512)},Ci.flow=$o,Ci.flowRight=Go,Ci.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var a=t[e];n[a[0]]=a[1]}return n},Ci.functions=function(t){return null==t?[]:hn(t,ko(t))},Ci.functionsIn=function(t){return null==t?[]:hn(t,wo(t))},Ci.groupBy=ls,Ci.initial=function(t){return null!=t&&t.length?Gn(t,0,-1):[]},Ci.intersection=qr,Ci.intersectionBy=Nr,Ci.intersectionWith=Ir,Ci.invert=vo,Ci.invertBy=yo,Ci.invokeMap=us,Ci.iteratee=Vo,Ci.keyBy=hs,Ci.keys=ko,Ci.keysIn=wo,Ci.map=ds,Ci.mapKeys=function(t,e){var i={};return e=Ka(e,3),ln(t,(function(t,n,a){Yi(i,e(t,n,a),t)})),i},Ci.mapValues=function(t,e){var i={};return e=Ka(e,3),ln(t,(function(t,n,a){Yi(i,n,e(t,n,a))})),i},Ci.matches=function(t){return An(Zi(t,1))},Ci.matchesProperty=function(t,e){return Mn(t,Zi(e,1))},Ci.memoize=xs,Ci.merge=xo,Ci.mergeWith=jo,Ci.method=Jo,Ci.methodOf=Zo,Ci.mixin=Ko,Ci.negate=js,Ci.nthArg=function(t){return t=no(t),Fn((function(e){return En(e,t)}))},Ci.omit=To,Ci.omitBy=function(t,e){return Oo(t,js(Ka(e)))},Ci.once=function(t){return gs(2,t)},Ci.orderBy=function(t,e,i,n){return null==t?[]:(Rs(e)||(e=null==e?[]:[e]),Rs(i=n?void 0:i)||(i=null==i?[]:[i]),Rn(t,e,i))},Ci.over=Qo,Ci.overArgs=Ts,Ci.overEvery=tc,Ci.overSome=ec,Ci.partial=Ss,Ci.partialRight=Os,Ci.partition=fs,Ci.pick=So,Ci.pickBy=Oo,Ci.property=ic,Ci.propertyOf=function(t){return function(e){return null==t?void 0:dn(t,e)}},Ci.pull=zr,Ci.pullAll=Hr,Ci.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Dn(t,e,Ka(i,2)):t},Ci.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Dn(t,e,void 0,i):t},Ci.pullAt=Wr,Ci.range=nc,Ci.rangeRight=ac,Ci.rearg=Cs,Ci.reject=function(t,e){return(Rs(t)?ue:rn)(t,js(Ka(e,3)))},Ci.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,a=[],r=t.length;for(e=Ka(e,3);++n<r;){var s=t[n];e(s,n,t)&&(i.push(s),a.push(n))}return qn(t,a),i},Ci.rest=function(t,e){if("function"!=typeof t)throw new vt(r);return Fn(t,e=void 0===e?e:no(e))},Ci.reverse=Br,Ci.sampleSize=function(t,e,i){return e=(i?cr(t,e,i):void 0===e)?1:no(e),(Rs(t)?zi:Hn)(t,e)},Ci.set=function(t,e,i){return null==t?t:Wn(t,e,i)},Ci.setWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:Wn(t,e,i,n)},Ci.shuffle=function(t){return(Rs(t)?Hi:$n)(t)},Ci.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&cr(t,e,i)?(e=0,i=n):(e=null==e?0:no(e),i=void 0===i?n:no(i)),Gn(t,e,i)):[]},Ci.sortBy=ps,Ci.sortedUniq=function(t){return t&&t.length?Zn(t):[]},Ci.sortedUniqBy=function(t,e){return t&&t.length?Zn(t,Ka(e,2)):[]},Ci.split=function(t,e,i){return i&&"number"!=typeof i&&cr(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=oo(t))&&("string"==typeof e||null!=e&&!Vs(e))&&!(e=Xn(e))&&Fe(t)?ua(Ge(t),0,i):t.split(e,i):[]},Ci.spread=function(t,e){if("function"!=typeof t)throw new vt(r);return e=null==e?0:ri(no(e),0),Fn((function(i){var n=i[e],a=ua(i,0,e);return n&&pe(a,n),re(t,this,a)}))},Ci.tail=function(t){var e=null==t?0:t.length;return e?Gn(t,1,e):[]},Ci.take=function(t,e,i){return t&&t.length?Gn(t,0,(e=i||void 0===e?1:no(e))<0?0:e):[]},Ci.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?Gn(t,(e=n-(e=i||void 0===e?1:no(e)))<0?0:e,n):[]},Ci.takeRightWhile=function(t,e){return t&&t.length?ia(t,Ka(e,3),!1,!0):[]},Ci.takeWhile=function(t,e){return t&&t.length?ia(t,Ka(e,3)):[]},Ci.tap=function(t,e){return e(t),t},Ci.throttle=function(t,e,i){var n=!0,a=!0;if("function"!=typeof t)throw new vt(r);return Bs(i)&&(n="leading"in i?!!i.leading:n,a="trailing"in i?!!i.trailing:a),bs(t,e,{leading:n,maxWait:e,trailing:a})},Ci.thru=is,Ci.toArray=eo,Ci.toPairs=Co,Ci.toPairsIn=Ao,Ci.toPath=function(t){return Rs(t)?fe(t,Sr):Ks(t)?[t]:va(Tr(oo(t)))},Ci.toPlainObject=so,Ci.transform=function(t,e,i){var n=Rs(t),a=n||Ns(t)||Xs(t);if(e=Ka(e,4),null==i){var r=t&&t.constructor;i=a?n?new r:[]:Bs(t)&&zs(r)?Ai($t(t)):{}}return(a?oe:ln)(t,(function(t,n,a){return e(i,t,n,a)})),i},Ci.unary=function(t){return _s(t,1)},Ci.union=Ur,Ci.unionBy=$r,Ci.unionWith=Gr,Ci.uniq=function(t){return t&&t.length?Qn(t):[]},Ci.uniqBy=function(t,e){return t&&t.length?Qn(t,Ka(e,2)):[]},Ci.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qn(t,void 0,e):[]},Ci.unset=function(t,e){return null==t||ta(t,e)},Ci.unzip=Yr,Ci.unzipWith=Vr,Ci.update=function(t,e,i){return null==t?t:ea(t,e,oa(i))},Ci.updateWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:ea(t,e,oa(i),n)},Ci.values=Mo,Ci.valuesIn=function(t){return null==t?[]:Le(t,wo(t))},Ci.without=Jr,Ci.words=Ho,Ci.wrap=function(t,e){return Ss(oa(e),t)},Ci.xor=Zr,Ci.xorBy=Kr,Ci.xorWith=Xr,Ci.zip=Qr,Ci.zipObject=function(t,e){return ra(t||[],e||[],Bi)},Ci.zipObjectDeep=function(t,e){return ra(t||[],e||[],Wn)},Ci.zipWith=ts,Ci.entries=Co,Ci.entriesIn=Ao,Ci.extend=lo,Ci.extendWith=uo,Ko(Ci,Ci),Ci.add=cc,Ci.attempt=Wo,Ci.camelCase=Lo,Ci.capitalize=Eo,Ci.ceil=lc,Ci.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=ro(i))==i?i:0),void 0!==e&&(e=(e=ro(e))==e?e:0),Ji(ro(t),e,i)},Ci.clone=function(t){return Zi(t,4)},Ci.cloneDeep=function(t){return Zi(t,5)},Ci.cloneDeepWith=function(t,e){return Zi(t,5,e="function"==typeof e?e:void 0)},Ci.cloneWith=function(t,e){return Zi(t,4,e="function"==typeof e?e:void 0)},Ci.conformsTo=function(t,e){return null==e||Ki(t,e,ko(e))},Ci.deburr=Ro,Ci.defaultTo=function(t,e){return null==t||t!=t?e:t},Ci.divide=uc,Ci.endsWith=function(t,e,i){t=oo(t),e=Xn(e);var n=t.length,a=i=void 0===i?n:Ji(no(i),0,n);return(i-=e.length)>=0&&t.slice(i,a)==e},Ci.eq=As,Ci.escape=function(t){return(t=oo(t))&&F.test(t)?t.replace(N,Ne):t},Ci.escapeRegExp=function(t){return(t=oo(t))&&Y.test(t)?t.replace(G,"\\$&"):t},Ci.every=function(t,e,i){var n=Rs(t)?le:nn;return i&&cr(t,e,i)&&(e=void 0),n(t,Ka(e,3))},Ci.find=rs,Ci.findIndex=Er,Ci.findKey=function(t,e){return ye(t,Ka(e,3),ln)},Ci.findLast=ss,Ci.findLastIndex=Rr,Ci.findLastKey=function(t,e){return ye(t,Ka(e,3),un)},Ci.floor=hc,Ci.forEach=os,Ci.forEachRight=cs,Ci.forIn=function(t,e){return null==t?t:on(t,Ka(e,3),wo)},Ci.forInRight=function(t,e){return null==t?t:cn(t,Ka(e,3),wo)},Ci.forOwn=function(t,e){return t&&ln(t,Ka(e,3))},Ci.forOwnRight=function(t,e){return t&&un(t,Ka(e,3))},Ci.get=_o,Ci.gt=Ms,Ci.gte=Ls,Ci.has=function(t,e){return null!=t&&ar(t,e,_n)},Ci.hasIn=go,Ci.head=Dr,Ci.identity=Yo,Ci.includes=function(t,e,i,n){t=Ds(t)?t:Mo(t),i=i&&!n?no(i):0;var a=t.length;return i<0&&(i=ri(a+i,0)),Zs(t)?i<=a&&t.indexOf(e,i)>-1:!!a&&ke(t,e,i)>-1},Ci.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var a=null==i?0:no(i);return a<0&&(a=ri(n+a,0)),ke(t,e,a)},Ci.inRange=function(t,e,i){return e=io(e),void 0===i?(i=e,e=0):i=io(i),function(t,e,i){return t>=si(e,i)&&t<ri(e,i)}(t=ro(t),e,i)},Ci.invoke=bo,Ci.isArguments=Es,Ci.isArray=Rs,Ci.isArrayBuffer=Ps,Ci.isArrayLike=Ds,Ci.isArrayLikeObject=qs,Ci.isBoolean=function(t){return!0===t||!1===t||Us(t)&&pn(t)==u},Ci.isBuffer=Ns,Ci.isDate=Is,Ci.isElement=function(t){return Us(t)&&1===t.nodeType&&!Ys(t)},Ci.isEmpty=function(t){if(null==t)return!0;if(Ds(t)&&(Rs(t)||"string"==typeof t||"function"==typeof t.splice||Ns(t)||Xs(t)||Es(t)))return!t.length;var e=nr(t);if(e==m||e==y)return!t.size;if(dr(t))return!Tn(t).length;for(var i in t)if(jt.call(t,i))return!1;return!0},Ci.isEqual=function(t,e){return kn(t,e)},Ci.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===n?kn(t,e,void 0,i):!!n},Ci.isError=Fs,Ci.isFinite=function(t){return"number"==typeof t&&ii(t)},Ci.isFunction=zs,Ci.isInteger=Hs,Ci.isLength=Ws,Ci.isMap=$s,Ci.isMatch=function(t,e){return t===e||wn(t,e,Qa(e))},Ci.isMatchWith=function(t,e,i){return i="function"==typeof i?i:void 0,wn(t,e,Qa(e),i)},Ci.isNaN=function(t){return Gs(t)&&t!=+t},Ci.isNative=function(t){if(hr(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xn(t)},Ci.isNil=function(t){return null==t},Ci.isNull=function(t){return null===t},Ci.isNumber=Gs,Ci.isObject=Bs,Ci.isObjectLike=Us,Ci.isPlainObject=Ys,Ci.isRegExp=Vs,Ci.isSafeInteger=function(t){return Hs(t)&&t>=-9007199254740991&&t<=9007199254740991},Ci.isSet=Js,Ci.isString=Zs,Ci.isSymbol=Ks,Ci.isTypedArray=Xs,Ci.isUndefined=function(t){return void 0===t},Ci.isWeakMap=function(t){return Us(t)&&nr(t)==w},Ci.isWeakSet=function(t){return Us(t)&&"[object WeakSet]"==pn(t)},Ci.join=function(t,e){return null==t?"":ni.call(t,e)},Ci.kebabCase=Po,Ci.last=Fr,Ci.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var a=n;return void 0!==i&&(a=(a=no(i))<0?ri(n+a,0):si(a,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,a):be(t,xe,a,!0)},Ci.lowerCase=Do,Ci.lowerFirst=qo,Ci.lt=Qs,Ci.lte=to,Ci.max=function(t){return t&&t.length?an(t,Yo,mn):void 0},Ci.maxBy=function(t,e){return t&&t.length?an(t,Ka(e,2),mn):void 0},Ci.mean=function(t){return je(t,Yo)},Ci.meanBy=function(t,e){return je(t,Ka(e,2))},Ci.min=function(t){return t&&t.length?an(t,Yo,On):void 0},Ci.minBy=function(t,e){return t&&t.length?an(t,Ka(e,2),On):void 0},Ci.stubArray=rc,Ci.stubFalse=sc,Ci.stubObject=function(){return{}},Ci.stubString=function(){return""},Ci.stubTrue=function(){return!0},Ci.multiply=dc,Ci.nth=function(t,e){return t&&t.length?En(t,no(e)):void 0},Ci.noConflict=function(){return Yt._===this&&(Yt._=At),this},Ci.noop=Xo,Ci.now=ms,Ci.pad=function(t,e,i){t=oo(t);var n=(e=no(e))?$e(t):0;if(!e||n>=e)return t;var a=(e-n)/2;return Ra(Qe(a),i)+t+Ra(Xe(a),i)},Ci.padEnd=function(t,e,i){t=oo(t);var n=(e=no(e))?$e(t):0;return e&&n<e?t+Ra(e-n,i):t},Ci.padStart=function(t,e,i){t=oo(t);var n=(e=no(e))?$e(t):0;return e&&n<e?Ra(e-n,i)+t:t},Ci.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),ci(oo(t).replace(J,""),e||0)},Ci.random=function(t,e,i){if(i&&"boolean"!=typeof i&&cr(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=io(t),void 0===e?(e=t,t=0):e=io(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var a=li();return si(t+a*(e-t+Bt("1e-"+((a+"").length-1))),e)}return Nn(t,e)},Ci.reduce=function(t,e,i){var n=Rs(t)?me:Oe,a=arguments.length<3;return n(t,Ka(e,4),i,a,tn)},Ci.reduceRight=function(t,e,i){var n=Rs(t)?_e:Oe,a=arguments.length<3;return n(t,Ka(e,4),i,a,en)},Ci.repeat=function(t,e,i){return e=(i?cr(t,e,i):void 0===e)?1:no(e),In(oo(t),e)},Ci.replace=function(){var t=arguments,e=oo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ci.result=function(t,e,i){var n=-1,a=(e=ca(e,t)).length;for(a||(a=1,t=void 0);++n<a;){var r=null==t?void 0:t[Sr(e[n])];void 0===r&&(n=a,r=i),t=zs(r)?r.call(t):r}return t},Ci.round=fc,Ci.runInContext=t,Ci.sample=function(t){return(Rs(t)?Fi:zn)(t)},Ci.size=function(t){if(null==t)return 0;if(Ds(t))return Zs(t)?$e(t):t.length;var e=nr(t);return e==m||e==y?t.size:Tn(t).length},Ci.snakeCase=No,Ci.some=function(t,e,i){var n=Rs(t)?ge:Yn;return i&&cr(t,e,i)&&(e=void 0),n(t,Ka(e,3))},Ci.sortedIndex=function(t,e){return Vn(t,e)},Ci.sortedIndexBy=function(t,e,i){return Jn(t,e,Ka(i,2))},Ci.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=Vn(t,e);if(n<i&&As(t[n],e))return n}return-1},Ci.sortedLastIndex=function(t,e){return Vn(t,e,!0)},Ci.sortedLastIndexBy=function(t,e,i){return Jn(t,e,Ka(i,2),!0)},Ci.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=Vn(t,e,!0)-1;if(As(t[i],e))return i}return-1},Ci.startCase=Io,Ci.startsWith=function(t,e,i){return t=oo(t),i=null==i?0:Ji(no(i),0,t.length),e=Xn(e),t.slice(i,i+e.length)==e},Ci.subtract=pc,Ci.sum=function(t){return t&&t.length?Ce(t,Yo):0},Ci.sumBy=function(t,e){return t&&t.length?Ce(t,Ka(e,2)):0},Ci.template=function(t,e,i){var n=Ci.templateSettings;i&&cr(t,e,i)&&(e=void 0),t=oo(t),e=uo({},e,n,Ha);var a,r,s=uo({},e.imports,n.imports,Ha),o=ko(s),c=Le(s,o),l=0,u=e.interpolate||ut,h="__p += '",d=_t((e.escape||ut).source+"|"+u.source+"|"+(u===W?it:ut).source+"|"+(e.evaluate||ut).source+"|$","g"),f="//# sourceURL="+(jt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(d,(function(e,i,n,s,o,c){return n||(n=s),h+=t.slice(l,c).replace(ht,Ie),i&&(a=!0,h+="' +\n__e("+i+") +\n'"),o&&(r=!0,h+="';\n"+o+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),h+="';\n";var p=jt.call(e,"variable")&&e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(r?h.replace(R,""):h).replace(P,"$1").replace(D,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Wo((function(){return ft(o,f+"return "+h).apply(void 0,c)}));if(m.source=h,Fs(m))throw m;return m},Ci.times=function(t,e){if((t=no(t))<1||t>9007199254740991)return[];var i=4294967295,n=si(t,4294967295);t-=4294967295;for(var a=Ae(n,e=Ka(e));++i<t;)e(i);return a},Ci.toFinite=io,Ci.toInteger=no,Ci.toLength=ao,Ci.toLower=function(t){return oo(t).toLowerCase()},Ci.toNumber=ro,Ci.toSafeInteger=function(t){return t?Ji(no(t),-9007199254740991,9007199254740991):0===t?t:0},Ci.toString=oo,Ci.toUpper=function(t){return oo(t).toUpperCase()},Ci.trim=function(t,e,i){if((t=oo(t))&&(i||void 0===e))return t.replace(V,"");if(!t||!(e=Xn(e)))return t;var n=Ge(t),a=Ge(e);return ua(n,Re(n,a),Pe(n,a)+1).join("")},Ci.trimEnd=function(t,e,i){if((t=oo(t))&&(i||void 0===e))return t.replace(Z,"");if(!t||!(e=Xn(e)))return t;var n=Ge(t);return ua(n,0,Pe(n,Ge(e))+1).join("")},Ci.trimStart=function(t,e,i){if((t=oo(t))&&(i||void 0===e))return t.replace(J,"");if(!t||!(e=Xn(e)))return t;var n=Ge(t);return ua(n,Re(n,Ge(e))).join("")},Ci.truncate=function(t,e){var i=30,n="...";if(Bs(e)){var a="separator"in e?e.separator:a;i="length"in e?no(e.length):i,n="omission"in e?Xn(e.omission):n}var r=(t=oo(t)).length;if(Fe(t)){var s=Ge(t);r=s.length}if(i>=r)return t;var o=i-$e(n);if(o<1)return n;var c=s?ua(s,0,o).join(""):t.slice(0,o);if(void 0===a)return c+n;if(s&&(o+=c.length-o),Vs(a)){if(t.slice(o).search(a)){var l,u=c;for(a.global||(a=_t(a.source,oo(nt.exec(a))+"g")),a.lastIndex=0;l=a.exec(u);)var h=l.index;c=c.slice(0,void 0===h?o:h)}}else if(t.indexOf(Xn(a),o)!=o){var d=c.lastIndexOf(a);d>-1&&(c=c.slice(0,d))}return c+n},Ci.unescape=function(t){return(t=oo(t))&&I.test(t)?t.replace(q,Ye):t},Ci.uniqueId=function(t){var e=++Tt;return oo(t)+e},Ci.upperCase=Fo,Ci.upperFirst=zo,Ci.each=os,Ci.eachRight=cs,Ci.first=Dr,Ko(Ci,(oc={},ln(Ci,(function(t,e){jt.call(Ci.prototype,e)||(oc[e]=t)})),oc),{chain:!1}),Ci.VERSION="4.17.19",oe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ci[t].placeholder=Ci})),oe(["drop","take"],(function(t,e){Ei.prototype[t]=function(i){i=void 0===i?1:ri(no(i),0);var n=this.__filtered__&&!e?new Ei(this):this.clone();return n.__filtered__?n.__takeCount__=si(i,n.__takeCount__):n.__views__.push({size:si(i,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},Ei.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),oe(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Ei.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ka(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),oe(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Ei.prototype[t]=function(){return this[i](1).value()[0]}})),oe(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Ei.prototype[t]=function(){return this.__filtered__?new Ei(this):this[i](1)}})),Ei.prototype.compact=function(){return this.filter(Yo)},Ei.prototype.find=function(t){return this.filter(t).head()},Ei.prototype.findLast=function(t){return this.reverse().find(t)},Ei.prototype.invokeMap=Fn((function(t,e){return"function"==typeof t?new Ei(this):this.map((function(i){return yn(i,t,e)}))})),Ei.prototype.reject=function(t){return this.filter(js(Ka(t)))},Ei.prototype.slice=function(t,e){t=no(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Ei(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=no(e))<0?i.dropRight(-e):i.take(e-t)),i)},Ei.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ei.prototype.toArray=function(){return this.take(4294967295)},ln(Ei.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),a=Ci[n?"take"+("last"==e?"Right":""):e],r=n||/^find/.test(e);a&&(Ci.prototype[e]=function(){var e=this.__wrapped__,s=n?[1]:arguments,o=e instanceof Ei,c=s[0],l=o||Rs(e),u=function(t){var e=a.apply(Ci,pe([t],s));return n&&h?e[0]:e};l&&i&&"function"==typeof c&&1!=c.length&&(o=l=!1);var h=this.__chain__,d=!!this.__actions__.length,f=r&&!h,p=o&&!d;if(!r&&l){e=p?e:new Ei(this);var m=t.apply(e,s);return m.__actions__.push({func:is,args:[u],thisArg:void 0}),new Li(m,h)}return f&&p?t.apply(this,s):(m=this.thru(u),f?n?m.value()[0]:m.value():m)})})),oe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ci.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var a=this.value();return e.apply(Rs(a)?a:[],t)}return this[i]((function(i){return e.apply(Rs(i)?i:[],t)}))}})),ln(Ei.prototype,(function(t,e){var i=Ci[e];if(i){var n=i.name+"";jt.call(vi,n)||(vi[n]=[]),vi[n].push({name:e,func:i})}})),vi[Aa(void 0,2).name]=[{name:"wrapper",func:void 0}],Ei.prototype.clone=function(){var t=new Ei(this.__wrapped__);return t.__actions__=va(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=va(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=va(this.__views__),t},Ei.prototype.reverse=function(){if(this.__filtered__){var t=new Ei(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ei.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Rs(t),n=e<0,a=i?t.length:0,r=function(t,e,i){for(var n=-1,a=i.length;++n<a;){var r=i[n],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=si(e,t+s);break;case"takeRight":t=ri(t,e-s)}}return{start:t,end:e}}(0,a,this.__views__),s=r.start,o=r.end,c=o-s,l=n?o:s-1,u=this.__iteratees__,h=u.length,d=0,f=si(c,this.__takeCount__);if(!i||!n&&a==c&&f==c)return na(t,this.__actions__);var p=[];t:for(;c--&&d<f;){for(var m=-1,_=t[l+=e];++m<h;){var g=u[m],v=g.iteratee,y=g.type,b=v(_);if(2==y)_=b;else if(!b){if(1==y)continue t;break t}}p[d++]=_}return p},Ci.prototype.at=ns,Ci.prototype.chain=function(){return es(this)},Ci.prototype.commit=function(){return new Li(this.value(),this.__chain__)},Ci.prototype.next=function(){void 0===this.__values__&&(this.__values__=eo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Ci.prototype.plant=function(t){for(var e,i=this;i instanceof Mi;){var n=Cr(i);n.__index__=0,n.__values__=void 0,e?a.__wrapped__=n:e=n;var a=n;i=i.__wrapped__}return a.__wrapped__=t,e},Ci.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ei){var e=t;return this.__actions__.length&&(e=new Ei(this)),(e=e.reverse()).__actions__.push({func:is,args:[Br],thisArg:void 0}),new Li(e,this.__chain__)}return this.thru(Br)},Ci.prototype.toJSON=Ci.prototype.valueOf=Ci.prototype.value=function(){return na(this.__wrapped__,this.__actions__)},Ci.prototype.first=Ci.prototype.head,Xt&&(Ci.prototype[Xt]=function(){return this}),Ci}();Yt._=Ve,void 0===(a=function(){return Ve}.call(e,i,e,n))||(n.exports=a)}).call(this)}).call(this,i(3),i(4)(t))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==("undefined"===typeof window?"undefined":Object(wi["a"])(window))&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){i.r(e),i.d(e,"Timeline",(function(){return ei})),i.d(e,"parseGoogleSpreadsheetURL",(function(){return Qt})),i.d(e,"lookupMediaType",(function(){return $e}));var a=navigator?navigator.userAgent.toLowerCase():"no-user-agent-specified",r=document?document.documentElement:null,s=!!a&&-1!==a.indexOf("phantom"),o=window&&"ActiveXObject"in window,c=(Boolean(o&&a.match(/MSIE 9/i)),o&&document&&document.addEventListener,-1!==a.indexOf("webkit")),h=(a.indexOf("android"),-1!==a.search("android [23]")),d=!!window&&void 0!==window.orientation,f=!(!navigator||!window)&&navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&!window.PointerEvent,p=navigator&&window?window.PointerEvent&&navigator.pointerEnabled&&navigator.maxTouchPoints:f,m=!!window&&window.opera,_=(a.indexOf("gecko"),-1!==a.indexOf("gecko")&&!c&&!m&&!o),g=(a.indexOf("chrome"),-1!==a.indexOf("edge/"));!!r&&o&&r.style,!!window&&"WebKitCSSMatrix"in window&&new window.WebKitCSSMatrix,!!r&&r.style,!!r&&r.style;window&&window.L_DISABLE_3D,d&&window.opera;var v=!!window&&"devicePixelRatio"in window&&window.devicePixelRatio>1;if(!v&&window&&"matchMedia"in window){var y=window.matchMedia("(min-resolution:144dpi)");v=y&&y.matches}var b=window&&!window.L_NO_TOUCH&&!s&&(p||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);function w(t){return"string"==typeof t?document.getElementById(t):t}function x(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n}function j(t){for(var e={x:0,y:0};t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e.x+=t.offsetLeft,e.y+=t.offsetTop,t=t.offsetParent;return e}function T(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function S(t,e){(function(t,e){return t.className.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)})(t,e)||(t.className+=(t.className?" ":"")+e)}function O(t,e){t.className=t.className.replace(/(\S+)\s*/g,(function(t,i){return i===e?"":t})).replace(/^\s+/,"")}T(["transition","webkitTransition","OTransition","MozTransition","msTransition"]),T(["transformProperty","WebkitTransform","OTransform","MozTransform","msTransform"]);var C=function(t){function e(t,i){var n;return Object(vi["a"])(this,e),n=Object(yi["a"])(this,e),n.name="TLError",n.message=t||"error",n.message_key=n.message,n.detail=i||"",n}return Object(bi["a"])(e,t),Object(gi["a"])(e)}(Object(ki["a"])(Error)),A={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function M(t){A[t.toLowerCase()]&&(t=A[t.toLowerCase()]),t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function L(t,e){var i;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function E(t){for(var e=Array.prototype.slice.call(arguments,1),i=0,n=e.length;i<n;i++)L(t,e[i]||{});return t}var R=[];function P(t){R.forEach((function(e){try{e(t)}catch(t){console&&console.log&&console.log("Error handling trace",t)}}))}function D(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var q,N,I=(q=0,N="_tl_id",function(t){return t[N]=t[N]||++q,t[N]});function F(t){return t&&"function"==typeof t.replace?t.replace(/^\s+|\s+$/g,""):""}function z(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var a=0,r=i;a<r.length;a++){var s,o=r[a],c=Object(_i["a"])(Object.getOwnPropertyNames(o.prototype));try{for(c.s();!(s=c.n()).done;){var l=s.value;t.prototype[l]=o.prototype[l]}}catch(u){c.e(u)}finally{c.f()}}}function H(t){t=(t=F(t)).toLowerCase();for(var e="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",i=0,n=e.length;i<n;i++)t=t.replace(new RegExp(e.charAt(i),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(i));return(t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")).replace(/^([0-9])/,"_$1")}function W(t,e){var i=function(){var t;return"abcdefghijklmnopqurstuvwxyz".substr((t=32,Math.floor(Math.random()*t)),1)},n=function(t){for(var e="",n=0;n<t;n++)e+=i();return e};return e?e+"-"+n(t):"tl-"+n(t)}function B(t){return t==parseFloat(t)?!(t%2):void 0}function U(t,e,i,n){for(var a=n||0,r=0;r<e.length;r++)e[r].data[i]==t&&(a=r);return a}function $(t){return t?t=(t=t.replace(/<a\b[^>]*>/i,"")).replace(/<\/a>/i,""):t}function G(t){return(t=t.replace(/(<[^>]*>)+/g,"")).replace('"',"'")}function Y(t,e,i){var n=function(t,e,i){return i||(i=""),e&&e.length>30&&(e=e.substring(0,30)+"…"),i+"<a class='tl-makelink' href='"+t+"' onclick='void(0)'>"+e+"</a>"};return t.replace(/\b(?:https?|ftp):\/\/([a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|])/gim,(function(t,e,i,a){if(i>0){var r=a[i-1];if('"'==r||"'"==r||"="==r)return t}return n(t,e)})).replace(/(^|[^\/>])(www\.[\S]+(\b|$))/gim,(function(t,e,i,a,r){return n("http://"+i,i,e)})).replace(/([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/gim,(function(t,e,i,a){return n("mailto:"+e,e)}))}function V(t){return t.replace(/(.*)www.dropbox.com\/(.*)/,"$1dl.dropboxusercontent.com/$2")}var J,Z,K=function(t){var e={w:0,h:0};return t.w>t.h&&t.h>0?(e.h=t.h,e.w=t.h):(e.w=t.w,e.h=t.w),e},X=function(t){return null!==t.w&&""!==t.w?Math.round(t.w/16*9):null!==t.h&&""!==t.h?Math.round(t.h/9*16):0},Q=(Z=(J="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ").length,{encode:function(t){if("number"!=typeof t||t!==parseInt(t))throw'"encode" only accepts integers.';for(var e="";t;){var i=t%Z;t=Math.floor(t/Z),e=J[i].toString()+e}return e},decode:function(t){if("string"!=typeof t)throw'"decode" only accepts strings.';for(var e=0;t;){var i=J.indexOf(t[0]);if(i<0)throw'"decode" can\'t find "'+t[0]+'" in the alphabet: "'+J+'"';var n=t.length-1;e+=i*Math.pow(Z,n),t=t.substring(1)}return e}});function tt(t){if("string"==typeof t){var e=t.match(/^\s*(\d+h)?(\d+m)?(\d+s)?\s*/i);if(e){var i=parseInt(e[1])||0,n=parseInt(e[2])||0;return(parseInt(e[3])||0)+60*n+60*i*60}}else if("number"==typeof t)return t;return 0}function et(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent||""}var it=[.42,0,1,1];function nt(t){}function at(t){return new nt(it).get(t)}function rt(t){return 1==t?1:1-Math.pow(2,-10*t)}function st(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}var ot=function(){};ot.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},i=function(){};i.prototype=this.prototype;var n=new i;for(var a in n.constructor=e,e.prototype=n,e.superclass=this.prototype,this)this.hasOwnProperty(a)&&"prototype"!==a&&"superclass"!==a&&(e[a]=this[a]);return t.statics&&(E(e,t.statics),delete t.statics),t.includes&&(E.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=E({},n.options,t.options)),E(n,t),e.extend=ot.extend,e.include=function(t){E(this.prototype,t)},e};var ct=function(){function t(){Object(vi["a"])(this,t)}return Object(gi["a"])(t,[{key:"on",value:function(t,e,i){if(!e)throw new C("No callback function provided");var n=this._tl_events=this._tl_events||{};return n[t]=n[t]||[],n[t].push({action:e,context:i||this}),this}},{key:"addEventListener",value:function(t,e,i){return this.on(t,e,i)}},{key:"hasEventListeners",value:function(t){var e="_tl_events";return e in this&&t in this[e]&&this[e][t].length>0}},{key:"removeEventListener",value:function(t,e,i){if(!this.hasEventListeners(t))return this;for(var n=0,a=this._tl_events,r=a[t].length;n<r;n++)if(a[t][n].action===e&&(!i||a[t][n].context===i))return a[t].splice(n,1),this;return this}},{key:"off",value:function(t,e,i){return this.removeEventListener(t,e,i)}},{key:"fire",value:function(t,e){if(!this.hasEventListeners(t))return this;for(var i=L({type:t,target:this},e),n=this._tl_events[t].slice(),a=0,r=n.length;a<r;a++)n[a].action?n[a].action.call(n[a].context||this,i):P("no action defined for ".concat(t," listener"));return this}}])}();function lt(t,e){return ut(t,e)}var ut=function(){var t=document,e=window,i=e.performance,n=i&&(i.now||i.webkitNow||i.msNow||i.mozNow),a=n?function(){return n.call(i)}:function(){return+new Date},r=t.documentElement,s=!1,o=/^rgb\(|#/,c=/^([+\-])=([\d\.]+)/,l=/^(?:[\+\-]=?)?\d+(?:\.\d+)?(%|in|cm|mm|em|ex|pt|pc|px)$/,u=/rotate\(((?:[+\-]=)?([\-\d\.]+))deg\)/,h=/scale\(((?:[+\-]=)?([\d\.]+))\)/,d=/skew\(((?:[+\-]=)?([\-\d\.]+))deg, ?((?:[+\-]=)?([\-\d\.]+))deg\)/,f=/translate\(((?:[+\-]=)?([\-\d\.]+))px, ?((?:[+\-]=)?([\-\d\.]+))px\)/,p={lineHeight:1,zoom:1,zIndex:1,opacity:1,transform:1},m=function(){var e,i=t.createElement("a").style,n=["webkitTransform","MozTransform","OTransform","msTransform","Transform"];for(e=0;e<n.length;e++)if(n[e]in i)return n[e]}(),_=void 0!==t.createElement("a").style.opacity,g=t.defaultView&&t.defaultView.getComputedStyle?function(e,i){i=T(i="transform"==i?m:i);var n=null,a=t.defaultView.getComputedStyle(e,"");return a&&(n=a[i]),e.style[i]||n}:r.currentStyle?function(t,e){if("opacity"==(e=T(e))){var i=100;try{i=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(e){try{i=t.filters("alpha").opacity}catch(t){}}return i/100}var n=t.currentStyle?t.currentStyle[e]:null;return t.style[e]||n}:function(t,e){return t.style[T(e)]},v=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||e.oRequestAnimationFrame||function(t){e.setTimeout((function(){t(+new Date)}),17)},y=[];function b(t){var e,i=y.length;for(n&&t>1e12&&(t=a()),s&&(t=a()),e=i;e--;)y[e](t);y.length&&v(b)}function k(t){var e,i=function(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e);for(i=0;i<t.length;++i)if(t[i]===e)return i}(y,t);i>=0&&(e=y.slice(i+1),y.length=i,y=y.concat(e))}function w(t,e){var i,n={};return(i=t.match(u))&&(n.rotate=L(i[1],e?e.rotate:null)),(i=t.match(h))&&(n.scale=L(i[1],e?e.scale:null)),(i=t.match(d))&&(n.skewx=L(i[1],e?e.skewx:null),n.skewy=L(i[3],e?e.skewy:null)),(i=t.match(f))&&(n.translatex=L(i[1],e?e.translatex:null),n.translatey=L(i[3],e?e.translatey:null)),n}function x(t){var e="";return"rotate"in t&&(e+="rotate("+t.rotate+"deg) "),"scale"in t&&(e+="scale("+t.scale+") "),"translatex"in t&&(e+="translate("+t.translatex+"px,"+t.translatey+"px) "),"skewx"in t&&(e+="skew("+t.skewx+"deg,"+t.skewy+"deg)"),e}function j(t){var e,i,n,a=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return(a?(e=a[1],i=a[2],n=a[3],"#"+(1<<24|e<<16|i<<8|n).toString(16).slice(1)):t).replace(/#(\w)(\w)(\w)$/,"#$1$1$2$2$3$3")}function T(t){return t.replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function S(t){return"function"==typeof t}function O(t){return Math.sin(t*Math.PI/2)}function C(t,e,i,n,r,s){n=S(n)?n:E.easings[n]||O;var o,c=t||1e3,l=this,u=s-r,h=a(),d=0,f=0;return o=function t(a){var o=a-h;if(o>c||d)return s=isFinite(s)?s:1,d?f&&e(s):e(s),k(t),i&&i.apply(l);isFinite(s)?e(u*n(o/c)+r):e(n(o/c))},1===y.push(o)&&v(b),{stop:function(t){d=1,f=t,t||(i=null)}}}function A(t,e){var i,n,a=t.length,r=[];for(i=0;i<a;++i)r[i]=[t[i][0],t[i][1]];for(n=1;n<a;++n)for(i=0;i<a-n;++i)r[i][0]=(1-e)*r[i][0]+e*r[parseInt(i+1,10)][0],r[i][1]=(1-e)*r[i][1]+e*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}function M(t,e,i,n,a,r,s){if("transform"==a){for(var o in s={},i[r][a])s[o]=o in n[r][a]?Math.round(1e3*((n[r][a][o]-i[r][a][o])*t+i[r][a][o]))/1e3:i[r][a][o];return s}return"string"==typeof i[r][a]?function(t,e,i){var n,a,r,s,o=[];for(n=0;n<6;n++)r=Math.min(15,parseInt(e.charAt(n),16)),s=Math.min(15,parseInt(i.charAt(n),16)),a=(a=Math.floor((s-r)*t+r))>15?15:a<0?0:a,o[n]=a.toString(16);return"#"+o.join("")}(t,i[r][a],n[r][a]):(s=Math.round(1e3*((n[r][a]-i[r][a])*t+i[r][a]))/1e3,a in p||(s+=e[r][a]||"px"),s)}function L(t,e,i,n,a){return(i=c.exec(t))?(a=parseFloat(i[2]))&&e+("+"==i[1]?1:-1)*a:parseFloat(t)}function E(t,e){var i,n,a,r=t?r=isFinite(t.length)?t:[t]:[],s=e.complete,c=e.duration,u=e.easing,h=e.bezier,d=[],f=[],p=[],v=[];for(h&&(n=e.left,a=e.top,delete e.right,delete e.bottom,delete e.left,delete e.top),i=r.length;i--;){if(d[i]={},f[i]={},p[i]={},h){var y=g(r[i],"left"),b=g(r[i],"top"),k=[L(S(n)?n(r[i]):n||0,parseFloat(y)),L(S(a)?a(r[i]):a||0,parseFloat(b))];v[i]=S(h)?h(r[i],k):h,v[i].push(k),v[i].unshift([parseInt(y,10),parseInt(b,10)])}for(var O in e){switch(O){case"complete":case"duration":case"easing":case"bezier":continue}var E,R=g(r[i],O),P=S(e[O])?e[O](r[i]):e[O];"string"!=typeof P||!o.test(P)||o.test(R)?(d[i][O]="transform"==O?w(R):"string"==typeof P&&o.test(P)?j(R).slice(1):parseFloat(R),f[i][O]="transform"==O?w(P,d[i][O]):"string"==typeof P&&"#"==P.charAt(0)?j(P).slice(1):L(P,parseFloat(R)),"string"==typeof P&&(E=P.match(l))&&(p[i][O]=E[1])):delete e[O]}}return C.apply(r,[c,function(t,n,a){for(i=r.length;i--;)for(var s in h&&(a=A(v[i],t),r[i].style.left=a[0]+"px",r[i].style.top=a[1]+"px"),e)n=M(t,p,d,f,s,i),"transform"==s?r[i].style[m]=x(n):"opacity"!=s||_?r[i].style[T(s)]=n:r[i].style.filter="alpha(opacity="+100*n+")"},s,u])}return v((function(t){s=t>1e12!=a()>1e12})),E.tween=C,E.getStyle=g,E.bezier=A,E.transform=m,E.parseTransform=w,E.formatTransform=x,E.easings={},E}(),ht=function(){function t(){Object(vi["a"])(this,t)}return Object(gi["a"])(t,[{key:"show",value:function(t){t||(this._el.container.style.display="block")}},{key:"hide",value:function(t){this._el.container.style.display="none"}},{key:"addTo",value:function(t){t.appendChild(this._el.container),this.onAdd()}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container),this.onRemove()}},{key:"animatePosition",value:function(t,e){var i={duration:this.options.duration,easing:this.options.ease};for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]+"px");this.animator&&this.animator.stop(),this.animator=lt(e,i)}},{key:"onLoaded",value:function(){this.fire("loaded",this.data)}},{key:"onAdd",value:function(){this.fire("added",this.data)}},{key:"onRemove",value:function(){this.fire("removed",this.data)}},{key:"setPosition",value:function(t,e){for(var i in t)t.hasOwnProperty(i)&&(e?e.style[i]=t[i]+"px":this._el.container.style[i]=t[i]+"px")}},{key:"getPosition",value:function(){return j(this._el.container)}}])}(),dt=function(){function t(e,i,n){Object(vi["a"])(this,t),this._el={drag:e,move:e},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},n&&(this._el.move=n),this.options={enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:!1,right:!1},momentum_multiplier:2e3,duration:1e3,ease:st},this.animator=null,this.dragevent=this.mousedrag,b&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},L(this.options,i)}return Object(gi["a"])(t,[{key:"enable",value:function(t){this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}},{key:"disable",value:function(){pt.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),pt.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}},{key:"stopMomentum",value:function(){this.animator&&this.animator.stop()}},{key:"updateConstraint",value:function(t){this.options.constraint=t}},{key:"_onDragStart",value:function(t){b?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x&&(this._el.move.style.left=this.data.pagex.start-this._el.move.offsetWidth/2+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.pagey.start-this._el.move.offsetHeight/2+"px"),this.data.pos.start=j(this._el.drag),this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),pt.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pt.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}},{key:"_onDragEnd",value:function(t){this.data.sliding=!1,pt.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pt.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}},{key:"_onDragMove",value:function(t){t.preventDefault(),this.data.sliding=!0,b?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),this.data.pos.end=j(this._el.drag),this.data.new_pos.x=-(this.data.pagex.start-this.data.pagex.end-this.data.pos.start.x),this.data.new_pos.y=-(this.data.pagey.start-this.data.pagey.end-this.data.pos.start.y),this.options.enable.x&&(this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&(this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}},{key:"_momentum",value:function(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i=!1;t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.pos.end.x+t.x),this.data.new_pos.y=Math.min(this.data.pos.end.y+t.y),this.options.enable.x?this.data.new_pos.x<0&&(this.data.new_pos.x=0):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<3e3&&(i=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right")),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down")),this._animateMomentum(),i&&this.fire("swipe_"+this.data.direction,this.data)}},{key:"_animateMomentum",value:function(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:rt};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&((this.options.constraint.left||this.options.constraint.right)&&(t.x>this.options.constraint.left?t.x=this.options.constraint.left:t.x<this.options.constraint.right&&(t.x=this.options.constraint.right)),e.left=Math.floor(t.x)+"px"),this.animator=lt(this._el.move,e),this.fire("momentum",this.data)}}])}();z(ct);var ft,pt={addListener:function(t,e,i,n){var a=I(i),r="_tl_"+e+a;if(!t[r]){var s=function(e){return i.call(n||t,e||pt._getEvent())};if(b&&"dblclick"===e&&this.addDoubleTapListener)this.addDoubleTapListener(t,s,a);else if("addEventListener"in t)if("mousewheel"===e)t.addEventListener("DOMMouseScroll",s,!1),t.addEventListener(e,s,!1);else if("mouseenter"===e||"mouseleave"===e){var o=s,c="mouseenter"===e?"mouseover":"mouseout";s=function(e){if(pt._checkMouse(t,e))return o(e)},t.addEventListener(c,s,!1)}else t.addEventListener(e,s,!1);else"attachEvent"in t&&t.attachEvent("on"+e,s);t[r]=s}},removeListener:function(t,e,i){var n=I(i),a="_tl_"+e+n,r=t[a];r&&(b&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",r,!1),t.removeEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1):t.removeEventListener(e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[a]=null)},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_getEvent:function(){var t=window.event;if(!t)for(var e=arguments.callee.caller;e&&(!(t=e.arguments[0])||window.Event!==t.constructor);)e=e.caller;return t},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},disableClickPropagation:function(t){pt.addListener(t,dt.START,pt.stopPropagation),pt.addListener(t,"click",pt.stopPropagation),pt.addListener(t,"dblclick",pt.stopPropagation)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stop:function(t){pt.preventDefault(t),pt.stopPropagation(t)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e}},mt=function(){var t,e,i,n,a,r=[],s=r.slice,o=r.filter,c=window.document,l={},u={},h={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},d=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/^(?:body|html)$/i,_=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],v=c.createElement("table"),y=c.createElement("tr"),b={tr:c.createElement("tbody"),tbody:v,thead:v,tfoot:v,td:y,th:y,"*":c.createElement("div")},k=/complete|loaded|interactive/,w=/^[\w-]*$/,x={},j=x.toString,T={},S=c.createElement("div"),O={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C=Array.isArray||function(t){return t instanceof Array};function A(t){return null==t?String(t):x[j.call(t)]||"object"}function M(t){return"function"==A(t)}function L(t){return null!=t&&t==t.window}function E(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function R(t){return"object"==A(t)}function P(t){return R(t)&&!L(t)&&Object.getPrototypeOf(t)==Object.prototype}function D(t){return"number"==typeof t.length}function q(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function N(t){return t in u?u[t]:u[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function I(t,e){return"number"!=typeof e||h[q(t)]?e:e+"px"}function F(t){return"children"in t?s.call(t.children):e.map(t.childNodes,(function(t){if(1==t.nodeType)return t}))}function z(e,i,n){for(t in i)n&&(P(i[t])||C(i[t]))?(P(i[t])&&!P(e[t])&&(e[t]={}),C(i[t])&&!C(e[t])&&(e[t]=[]),z(e[t],i[t],n)):void 0!==i[t]&&(e[t]=i[t])}function H(t,i){return null==i?e(t):e(t).filter(i)}function W(t,e,i,n){return M(e)?e.call(t,i,n):e}function B(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function U(t,e){var i=t.className,n=i&&void 0!==i.baseVal;if(void 0===e)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}function $(t){var i;try{return t?"true"==t||"false"!=t&&("null"==t?null:/^0/.test(t)||isNaN(i=Number(t))?/^[\[\{]/.test(t)?e.parseJSON(t):t:i):t}catch(e){return t}}function G(t,e){for(var i in e(t),t.childNodes)G(t.childNodes[i],e)}return T.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,a=t.parentNode,r=!a;return r&&(a=S).appendChild(t),n=~T.qsa(a,e).indexOf(t),r&&S.removeChild(t),n},n=function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},a=function(t){return o.call(t,(function(e,i){return t.indexOf(e)==i}))},T.fragment=function(t,i,n){var a,r,o;return f.test(t)&&(a=e(c.createElement(RegExp.$1))),a||(t.replace&&(t=t.replace(p,"<$1></$2>")),void 0===i&&(i=d.test(t)&&RegExp.$1),i in b||(i="*"),(o=b[i]).innerHTML=""+t,a=e.each(s.call(o.childNodes),(function(){o.removeChild(this)}))),P(n)&&(r=e(a),e.each(n,(function(t,e){g.indexOf(t)>-1?r[t](e):r.attr(t,e)}))),a},T.Z=function(t,i){return(t=t||[]).__proto__=e.fn,t.selector=i||"",t},T.isZ=function(t){return t instanceof T.Z},T.init=function(t,i){var n,a;if(!t)return T.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&d.test(t))n=T.fragment(t,RegExp.$1,i),t=null;else{if(void 0!==i)return e(i).find(t);n=T.qsa(c,t)}else{if(M(t))return e(c).ready(t);if(T.isZ(t))return t;if(C(t))a=t,n=o.call(a,(function(t){return null!=t}));else if(R(t))n=[t],t=null;else if(d.test(t))n=T.fragment(t.trim(),RegExp.$1,i),t=null;else{if(void 0!==i)return e(i).find(t);n=T.qsa(c,t)}}return T.Z(n,t)},(e=function(t,e){return T.init(t,e)}).extend=function(t){var e,i=s.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach((function(i){z(t,i,e)})),t},T.qsa=function(t,e){var i,n="#"==e[0],a=!n&&"."==e[0],r=n||a?e.slice(1):e,o=w.test(r);return E(t)&&o&&n?(i=t.getElementById(r))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:s.call(o&&!n?a?t.getElementsByClassName(r):t.getElementsByTagName(e):t.querySelectorAll(e))},e.contains=function(t,e){return t!==e&&t.contains(e)},e.type=A,e.isFunction=M,e.isWindow=L,e.isArray=C,e.isPlainObject=P,e.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},e.inArray=function(t,e,i){return r.indexOf.call(e,t,i)},e.camelCase=n,e.trim=function(t){return null==t?"":String.prototype.trim.call(t)},e.uuid=0,e.support={},e.expr={},e.map=function(t,i){var n,a,r,s,o=[];if(D(t))for(a=0;a<t.length;a++)null!=(n=i(t[a],a))&&o.push(n);else for(r in t)null!=(n=i(t[r],r))&&o.push(n);return(s=o).length>0?e.fn.concat.apply([],s):s},e.each=function(t,e){var i,n;if(D(t)){for(i=0;i<t.length;i++)if(!1===e.call(t[i],i,t[i]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t},e.grep=function(t,e){return o.call(t,e)},window.JSON&&(e.parseJSON=JSON.parse),e.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){x["[object "+e+"]"]=e.toLowerCase()})),e.fn={forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,indexOf:r.indexOf,concat:r.concat,map:function(t){return e(e.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return e(s.apply(this,arguments))},ready:function(t){return k.test(c.readyState)&&c.body?t(e):c.addEventListener("DOMContentLoaded",(function(){t(e)}),!1),this},get:function(t){return void 0===t?s.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(t){return r.every.call(this,(function(e,i){return!1!==t.call(e,i,e)})),this},filter:function(t){return M(t)?this.not(this.not(t)):e(o.call(this,(function(e){return T.matches(e,t)})))},add:function(t,i){return e(a(this.concat(e(t,i))))},is:function(t){return this.length>0&&T.matches(this[0],t)},not:function(t){var i=[];if(M(t)&&void 0!==t.call)this.each((function(e){t.call(this,e)||i.push(this)}));else{var n="string"==typeof t?this.filter(t):D(t)&&M(t.item)?s.call(t):e(t);this.forEach((function(t){n.indexOf(t)<0&&i.push(t)}))}return e(i)},has:function(t){return this.filter((function(){return R(t)?e.contains(this,t):e(this).find(t).size()}))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!R(t)?t:e(t)},last:function(){var t=this[this.length-1];return t&&!R(t)?t:e(t)},find:function(t){var i=this;return"object"==Object(wi["a"])(t)?e(t).filter((function(){var t=this;return r.some.call(i,(function(i){return e.contains(i,t)}))})):1==this.length?e(T.qsa(this[0],t)):this.map((function(){return T.qsa(this,t)}))},closest:function(t,i){var n=this[0],a=!1;for("object"==Object(wi["a"])(t)&&(a=e(t));n&&!(a?a.indexOf(n)>=0:T.matches(n,t));)n=n!==i&&!E(n)&&n.parentNode;return e(n)},parents:function(t){for(var i=[],n=this;n.length>0;)n=e.map(n,(function(t){if((t=t.parentNode)&&!E(t)&&i.indexOf(t)<0)return i.push(t),t}));return H(i,t)},parent:function(t){return H(a(this.pluck("parentNode")),t)},children:function(t){return H(this.map((function(){return F(this)})),t)},contents:function(){return this.map((function(){return s.call(this.childNodes)}))},siblings:function(t){return H(this.map((function(t,e){return o.call(F(e.parentNode),(function(t){return t!==e}))})),t)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(t){return e.map(this,(function(e){return e[t]}))},show:function(){return this.each((function(){var t,e,i;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(t=this.nodeName,l[t]||(e=c.createElement(t),c.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),l[t]=i),l[t]))}))},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=M(t);if(this[0]&&!i)var n=e(t).get(0),a=n.parentNode||this.length>1;return this.each((function(r){e(this).wrapAll(i?t.call(this,r):a?n.cloneNode(!0):n)}))},wrapAll:function(t){if(this[0]){var i;for(e(this[0]).before(t=e(t));(i=t.children()).length;)t=i.first();e(t).append(this)}return this},wrapInner:function(t){var i=M(t);return this.each((function(n){var a=e(this),r=a.contents(),s=i?t.call(this,n):t;r.length?r.wrapAll(s):a.append(s)}))},unwrap:function(){return this.parent().each((function(){e(this).replaceWith(e(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(t){return this.each((function(){var i=e(this);(void 0===t?"none"==i.css("display"):t)?i.show():i.hide()}))},prev:function(t){return e(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return e(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each((function(i){var n=this.innerHTML;e(this).empty().append(W(this,t,i,n))}))},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each((function(){this.textContent=void 0===t?"":""+t}))},attr:function(e,i){var n;return"string"==typeof e&&void 0===i?0==this.length||1!==this[0].nodeType?void 0:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:this.each((function(n){if(1===this.nodeType)if(R(e))for(t in e)B(this,t,e[t]);else B(this,e,W(this,i,n,this.getAttribute(e)))}))},removeAttr:function(t){return this.each((function(){1===this.nodeType&&B(this,t)}))},prop:function(t,e){return t=O[t]||t,void 0===e?this[0]&&this[0][t]:this.each((function(i){this[t]=W(this,e,i,this[t])}))},data:function(t,e){var i=this.attr("data-"+t.replace(_,"-$1").toLowerCase(),e);return null!==i?$(i):void 0},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?e(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value):this.each((function(e){this.value=W(this,t,e,this.value)}))},offset:function(t){if(t)return this.each((function(i){var n=e(this),a=W(this,t,i,n.offset()),r=n.offsetParent().offset(),s={top:a.top-r.top,left:a.left-r.left};"static"==n.css("position")&&(s.position="relative"),n.css(s)}));if(0==this.length)return null;var i=this[0].getBoundingClientRect();return{left:i.left+window.pageXOffset,top:i.top+window.pageYOffset,width:Math.round(i.width),height:Math.round(i.height)}},css:function(i,a){if(arguments.length<2){var r=this[0],s=getComputedStyle(r,"");if(!r)return;if("string"==typeof i)return r.style[n(i)]||s.getPropertyValue(i);if(C(i)){var o={};return e.each(C(i)?i:[i],(function(t,e){o[e]=r.style[n(e)]||s.getPropertyValue(e)})),o}}var c="";if("string"==A(i))a||0===a?c=q(i)+":"+I(i,a):this.each((function(){this.style.removeProperty(q(i))}));else for(t in i)i[t]||0===i[t]?c+=q(t)+":"+I(t,i[t])+";":this.each((function(){this.style.removeProperty(q(t))}));return this.each((function(){this.style.cssText+=";"+c}))},index:function(t){return t?this.indexOf(e(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&r.some.call(this,(function(t){return this.test(U(t))}),N(t))},addClass:function(t){return t?this.each((function(n){i=[];var a=U(this);W(this,t,n,a).split(/\s+/g).forEach((function(t){e(this).hasClass(t)||i.push(t)}),this),i.length&&U(this,a+(a?" ":"")+i.join(" "))})):this},removeClass:function(t){return this.each((function(e){if(void 0===t)return U(this,"");i=U(this),W(this,t,e,i).split(/\s+/g).forEach((function(t){i=i.replace(N(t)," ")})),U(this,i.trim())}))},toggleClass:function(t,i){return t?this.each((function(n){var a=e(this);W(this,t,n,U(this)).split(/\s+/g).forEach((function(t){(void 0===i?!a.hasClass(t):i)?a.addClass(t):a.removeClass(t)}))})):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return void 0===t?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return void 0===t?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],i=this.offsetParent(),n=this.offset(),a=m.test(i[0].nodeName)?{top:0,left:0}:i.offset();return n.top-=parseFloat(e(t).css("margin-top"))||0,n.left-=parseFloat(e(t).css("margin-left"))||0,a.top+=parseFloat(e(i[0]).css("border-top-width"))||0,a.left+=parseFloat(e(i[0]).css("border-left-width"))||0,{top:n.top-a.top,left:n.left-a.left}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||c.body;t&&!m.test(t.nodeName)&&"static"==e(t).css("position");)t=t.offsetParent;return t}))}},e.fn.detach=e.fn.remove,["width","height"].forEach((function(t){var i=t.replace(/./,(function(t){return t[0].toUpperCase()}));e.fn[t]=function(n){var a,r=this[0];return void 0===n?L(r)?r["inner"+i]:E(r)?r.documentElement["scroll"+i]:(a=this.offset())&&a[t]:this.each((function(i){(r=e(this)).css(t,W(this,n,i,r[t]()))}))}})),["after","prepend","before","append"].forEach((function(t,i){var n=i%2;e.fn[t]=function(){var t,a,r=e.map(arguments,(function(e){return"object"==(t=A(e))||"array"==t||null==e?e:T.fragment(e)})),s=this.length>1;return r.length<1?this:this.each((function(t,o){a=n?o:o.parentNode,o=0==i?o.nextSibling:1==i?o.firstChild:2==i?o:null,r.forEach((function(t){if(s)t=t.cloneNode(!0);else if(!a)return e(t).remove();G(a.insertBefore(t,o),(function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)}))}))}))},e.fn[n?t+"To":"insert"+(i?"Before":"After")]=function(i){return e(i)[t](this),this}})),T.Z.prototype=e.fn,T.uniq=a,T.deserializeValue=$,e.zepto=T,e}();window.Zepto=mt,void 0===window.$&&(window.$=mt),function(t){t.zepto.qsa;var e=1,i=Array.prototype.slice,n=t.isFunction,a=function(t){return"string"==typeof t},r={},s={},o="onfocusin"in window,c={focus:"focusin",blur:"focusout"},l={mouseenter:"mouseover",mouseleave:"mouseout"};function u(t){return t._zid||(t._zid=e++)}function h(t,e,i,n){if((e=d(e)).ns)var a=(s=e.ns,new RegExp("(?:^| )"+s.replace(" "," .* ?")+"(?: |$)"));var s;return(r[u(t)]||[]).filter((function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||a.test(t.ns))&&(!i||u(t.fn)===u(i))&&(!n||t.sel==n)}))}function d(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function f(t,e){return t.del&&!o&&t.e in c||!!e}function p(t){return l[t]||o&&c[t]||t}function m(e,i,n,a,s,o,c){var h=u(e),m=r[h]||(r[h]=[]);i.split(/\s/).forEach((function(i){if("ready"==i)return t(document).ready(n);var r=d(i);r.fn=n,r.sel=s,r.e in l&&(n=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return r.fn.apply(this,arguments)}),r.del=o;var u=o||n;r.proxy=function(t){if(!(t=k(t)).isImmediatePropagationStopped()){t.data=a;var i=u.apply(e,null==t._args?[t]:[t].concat(t._args));return!1===i&&(t.preventDefault(),t.stopPropagation()),i}},r.i=m.length,m.push(r),"addEventListener"in e&&e.addEventListener(p(r.e),r.proxy,f(r,c))}))}function _(t,e,i,n,a){var s=u(t);(e||"").split(/\s/).forEach((function(e){h(t,e,i,n).forEach((function(e){delete r[s][e.i],"removeEventListener"in t&&t.removeEventListener(p(e.e),e.proxy,f(e,a))}))}))}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.event={add:m,remove:_},t.proxy=function(e,i){if(n(e)){var r=function(){return e.apply(i,arguments)};return r._zid=u(e),r}if(a(i))return t.proxy(e[i],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var g=function(){return!0},v=function(){return!1},y=/^([A-Z]|returnValue$|layer[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function k(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(b,(function(t,n){var a=i[t];e[t]=function(){return this[n]=g,a&&a.apply(i,arguments)},e[n]=v})),(void 0!==i.defaultPrevented?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=g)),e}function w(t){var e,i={originalEvent:t};for(e in t)y.test(e)||void 0===t[e]||(i[e]=t[e]);return k(i,t)}t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,r,s,o,c){var l,u,h=this;return e&&!a(e)?(t.each(e,(function(t,e){h.on(t,r,s,e,c)})),h):(a(r)||n(o)||!1===o||(o=s,s=r,r=void 0),(n(s)||!1===s)&&(o=s,s=void 0),!1===o&&(o=v),h.each((function(n,a){c&&(l=function(t){return _(a,t.type,o),o.apply(this,arguments)}),r&&(u=function(e){var n,s=t(e.target).closest(r,a).get(0);if(s&&s!==a)return n=t.extend(w(e),{currentTarget:s,liveFired:a}),(l||o).apply(s,[n].concat(i.call(arguments,1)))}),m(a,e,o,s,r,u||l)})))},t.fn.off=function(e,i,r){var s=this;return e&&!a(e)?(t.each(e,(function(t,e){s.off(t,i,e)})),s):(a(i)||n(r)||!1===r||(r=i,i=void 0),!1===r&&(r=v),s.each((function(){_(this,e,r,i)})))},t.fn.trigger=function(e,i){return(e=a(e)||t.isPlainObject(e)?t.Event(e):k(e))._args=i,this.each((function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)}))},t.fn.triggerHandler=function(e,i){var n,r;return this.each((function(s,o){(n=w(a(e)?t.Event(e):e))._args=i,n.target=o,t.each(h(o,e.type||e),(function(t,e){if(r=e.proxy(n),n.isImmediatePropagationStopped())return!1}))})),r},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}})),["focus","blur"].forEach((function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each((function(){try{this[e]()}catch(t){}})),this}})),t.Event=function(t,e){a(t)||(t=(e=t).type);var i=document.createEvent(s[t]||"Events"),n=!0;if(e)for(var r in e)"bubbles"==r?n=!!e[r]:i[r]=e[r];return i.initEvent(t,n,!0),k(i)}}(mt),function(t){var e,i,n=0,a=window.document,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,o=/^(?:text|application)\/xml/i,c=/^\s*$/;function l(e,i,n,r){if(e.global)return function(e,i,n){var a=t.Event(i);return t(e).trigger(a,n),!a.isDefaultPrevented()}(i||a,n,r)}function u(t,e){var i=e.context;if(!1===e.beforeSend.call(i,t,e)||!1===l(e,i,"ajaxBeforeSend",[t,e]))return!1;l(e,i,"ajaxSend",[t,e])}function h(t,e,i,n){var a=i.context;i.success.call(a,t,"success",e),n&&n.resolveWith(a,[t,"success",e]),l(i,a,"ajaxSuccess",[e,i,t]),f("success",e,i)}function d(t,e,i,n,a){var r=n.context;n.error.call(r,i,e,t),a&&a.rejectWith(r,[i,e,t]),l(n,r,"ajaxError",[i,n,t||e]),f(e,i,n)}function f(e,i,n){var a=n.context;n.complete.call(a,i,e),l(n,a,"ajaxComplete",[i,n]),function(e){e.global&&!--t.active&&l(e,null,"ajaxStop")}(n)}function p(){}function m(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function _(e,i,n,a){var r=!t.isFunction(i);return{url:e,data:r?i:void 0,success:r?t.isFunction(n)?n:void 0:i,dataType:r&&a||n}}t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var r,s,o=e.jsonpCallback,c=(t.isFunction(o)?o():o)||"jsonp"+ ++n,l=a.createElement("script"),f=window[c],p=function(e){t(l).triggerHandler("error",e||"abort")},m={abort:p};return i&&i.promise(m),t(l).on("load error",(function(n,a){clearTimeout(s),t(l).off().remove(),"error"!=n.type&&r?h(r[0],m,e,i):d(null,a||"error",m,e,i),window[c]=f,r&&t.isFunction(f)&&f(r[0]),f=r=void 0})),!1===u(m,e)?(p("abort"),m):(window[c]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),a.head.appendChild(l),e.timeout>0&&(s=setTimeout((function(){p("timeout")}),e.timeout)),m)},t.ajaxSettings={type:"GET",beforeSend:p,success:p,error:p,complete:p,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(n){var a=t.extend({},n||{}),r=t.Deferred&&t.Deferred();for(e in t.ajaxSettings)void 0===a[e]&&(a[e]=t.ajaxSettings[e]);!function(e){e.global&&0==t.active++&&l(e,null,"ajaxStart")}(a),a.crossDomain||(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!=window.location.host),a.url||(a.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=m(e.url,e.data),e.data=void 0)}(a),!1===a.cache&&(a.url=m(a.url,"_="+Date.now()));var f=a.dataType,_=/\?.+=\?/.test(a.url);if("jsonp"==f||_)return _||(a.url=m(a.url,a.jsonp?a.jsonp+"=?":!1===a.jsonp?"":"callback=?")),t.ajaxJSONP(a,r);var g,v=a.accepts[f],y={},b=function(t,e){y[t.toLowerCase()]=[t,e]},k=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,w=a.xhr(),x=w.setRequestHeader;if(r&&r.promise(w),a.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",v||"*/*"),(v=a.mimeType||v)&&(v.indexOf(",")>-1&&(v=v.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(v)),(a.contentType||!1!==a.contentType&&a.data&&"GET"!=a.type.toUpperCase())&&b("Content-Type",a.contentType||"application/x-www-form-urlencoded"),a.headers)for(i in a.headers)b(i,a.headers[i]);if(w.setRequestHeader=b,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=p,clearTimeout(g);var e,i=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==k){f=f||function(t){return t&&(t=t.split(";",2)[0]),t&&("text/html"==t?"html":"application/json"==t?"json":s.test(t)?"script":o.test(t)&&"xml")||"text"}(a.mimeType||w.getResponseHeader("content-type")),e=w.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=w.responseXML:"json"==f&&(e=c.test(e)?null:t.parseJSON(e))}catch(t){i=t}i?d(i,"parsererror",w,a,r):h(e,w,a,r)}else d(w.statusText||null,w.status?"error":"abort",w,a,r)}},!1===u(w,a))return w.abort(),d(null,"abort",w,a,r),w;if(a.xhrFields)for(i in a.xhrFields)w[i]=a.xhrFields[i];var j=!("async"in a)||a.async;for(i in w.open(a.type,a.url,j,a.username,a.password),y)x.apply(w,y[i]);return a.timeout>0&&(g=setTimeout((function(){w.onreadystatechange=p,w.abort(),d(null,"timeout",w,a,r)}),a.timeout)),w.send(a.data?a.data:null),w},t.get=function(e,i,n,a){return t.ajax(_.apply(null,arguments))},t.post=function(e,i,n,a){var r=_.apply(null,arguments);return r.type="POST",t.ajax(r)},t.getJSON=function(e,i,n){var a=_.apply(null,arguments);return a.dataType="json",t.ajax(a)},t.fetchJSON=function(t){var e=new XMLHttpRequest;return new Promise((function(i,n){e.onreadystatechange=function(){if(4===e.readyState)if(e.status>=200&&e.status<300){var t=JSON.parse(e.responseText);i(t)}else n({status:e.status,statusText:e.statusText})},e.open("GET",t,!0),e.send()}))},t.fn.load=function(e,i,n){if(!this.length)return this;var a,s=this,o=e.split(/\s/),c=_(e,i,n),l=c.success;return o.length>1&&(c.url=o[0],a=o[1]),c.success=function(e){s.html(a?t("<div>").html(e.replace(r,"")).find(a):e),l&&l.apply(s,arguments)},t.ajax(c),this};var g=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(t,e){this.push(g(t)+"="+g(e))},function e(i,n,a,r){var s,o=t.isArray(n),c=t.isPlainObject(n);t.each(n,(function(n,l){s=t.type(l),r&&(n=a?r:r+"["+(c||"object"==s||"array"==s?n:"")+"]"),!r&&o?i.add(l.name,l.value):"array"==s||!a&&"object"==s?e(i,l,a,n):i.add(n,l)}))}(n,e,i),n.join("&").replace(/%20/g,"+")}}(mt),(ft=mt).fn.serializeArray=function(){var t,e=[];return ft([].slice.call(this.get(0).elements)).each((function(){var i=(t=ft(this)).attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&e.push({name:t.attr("name"),value:t.val()})})),e},ft.fn.serialize=function(){var t=[];return this.serializeArray().forEach((function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))})),t.join("&")},ft.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var e=ft.Event("submit");this.eq(0).trigger(e),e.isDefaultPrevented()||this.get(0).submit()}return this},function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return e=e||[],t.extend(e,t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t,i){try{return e(t,i)}catch(t){return null}}}}(mt);var _t=mt.getJSON,gt=mt.ajax,vt=mt.fetchJSON,yt=[["millisecond",1,function(t){}],["second",1e3,function(t){t.setMilliseconds(0)}],["minute",6e4,function(t){t.setSeconds(0)}],["hour",36e5,function(t){t.setMinutes(0)}],["day",864e5,function(t){t.setHours(0)}],["month",2592e6,function(t){t.setDate(1)}],["year",31536e6,function(t){t.setMonth(0)}],["decade",31536e7,function(t){var e=t.getFullYear();t.setFullYear(e-e%10)}],["century",31536e8,function(t){var e=t.getFullYear();t.setFullYear(e-e%100)}],["millennium",31536e9,function(t){var e=t.getFullYear();t.setFullYear(e-e%1e3)}]],bt=["millisecond","second","minute","hour","day","month","year"],kt=/^([\+-]?\d+?)(-\d{2}?)?(-\d{2}?)?$/,wt=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,xt={base:{millisecond:"time_short",second:"time",minute:"time_no_seconds_small_date",hour:"time_no_seconds_small_date",day:"full",month:"month",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"},short:{millisecond:"time_short",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"fallback",epoch:"fallback",era:"fallback",eon:"fallback",eon2:"fallback"}},jt=ot.extend({initialize:function(t,e,i){"number"==typeof t?this.data={format:"yyyy mmmm",date_obj:new Date(t)}:Date==t.constructor?this.data={format:"yyyy mmmm",date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},setDateFormat:function(t){this.data.format=t},getDisplayDate:function(t,e){if(this.data.display_date)return this.data.display_date;t||(t=Mt.fallback),t.constructor!=Mt&&(P("First argument to getDisplayDate must be type Language"),t=Mt.fallback);var i=e||this.data.format;return t.formatDate(this.data.date_obj,i)},getMillisecond:function(){return this.getTime()},getTime:function(){return this.data.date_obj.getTime()},isBefore:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new C("date_compare_err");return"isBefore"in this.data.date_obj?this.data.date_obj.isBefore(t.data.date_obj):this.data.date_obj<t.data.date_obj},isAfter:function(t){if(!this.data.date_obj.constructor==t.data.date_obj.constructor)throw new C("date_compare_err");return"isAfter"in this.data.date_obj?this.data.date_obj.isAfter(t.data.date_obj):this.data.date_obj>t.data.date_obj},floor:function(t){for(var e=new Date(this.data.date_obj.getTime()),i=0;i<yt.length;i++)if(yt[i][2](e),yt[i][0]==t)return new jt(e);throw new C("invalid_scale_err",t)},_getDateData:function(){var t={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0};for(var e in L(t,this.data),bt){if(!F(t[bt[e]]).match(/^-?\d*$/))throw new C("invalid_date_err",bt[e]+" = '"+t[bt[e]]+"'");var i=parseInt(t[bt[e]]);isNaN(i)&&(i=4==e||5==e?1:0),t[bt[e]]=i}return t.month>0&&t.month<=12&&(t.month=t.month-1),t},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond),this.data.date_obj.getFullYear()!=t.year&&this.data.date_obj.setFullYear(t.year)},findBestFormat:function(t){for(var e=bt,i=0;i<e.length;i++)if(this.data[e[i]])return t?t in xt||(t="short"):t="base",xt[t][e[i]];return""},_setFormat:function(t,e){t?this.data.format=t:this.data.format||(this.data.format=this.findBestFormat()),e?this.data.format_short=e:this.data.format_short||(this.data.format_short=this.findBestFormat(!0))}});function Tt(t){if(t.match(kt)){var e=t.match(kt).slice(1),i={year:e[0].replace("+","")};return e[1]&&(i.month=e[1].replace("-","")),e[2]&&(i.day=e[2].replace("-","")),i}if(t.match(wt))return cls.parseISODate(t);if(t.match(/^\-?\d+$/))return{year:t};var n={};if(t.match(/\d+\/\d+\/\d+/)){var a=t.match(/\d+\/\d+\/\d+/)[0];t=F(t.replace(a,""));var r=a.split("/");n.month=r[0],n.day=r[1],n.year=r[2]}if(t.match(/\d+\/\d+/)&&(a=t.match(/\d+\/\d+/)[0],t=F(t.replace(a,"")),r=a.split("/"),n.month=r[0],n.year=r[1]),t.match(":")){var s=t.split(":");if(n.hour=s[0],n.minute=s[1],s[2]){var o=s[2].split(".");n.second=o[0],n.millisecond=o[1]}}return n}var St=ot.extend({initialize:function(t){if(this.year=parseInt(t),isNaN(this.year))throw new C("invalid_year_err",t)},isBefore:function(t){return this.year<t.year},isAfter:function(t){return this.year>t.year},getTime:function(){return this.year}});function Ot(t){return function(e){var i=e.getTime();return new St(Math.floor(i/t)*t)}}var Ct=[["year",1,new Ot(1)],["decade",10,new Ot(10)],["century",100,new Ot(100)],["millennium",1e3,new Ot(1e3)],["age",1e6,new Ot(1e6)],["epoch",1e7,new Ot(1e7)],["era",1e8,new Ot(1e8)],["eon",1e9,new Ot(1e9)]],At=jt.extend({initialize:function(t,e,i){St==t.constructor?this.data={date_obj:t}:(this.data=JSON.parse(JSON.stringify(t)),this._createDateObj()),this._setFormat(e,i)},_createDateObj:function(){var t=this._getDateData();this.data.date_obj=new St(t.year)},floor:function(t){for(var e=0;e<Ct.length;e++)if(Ct[e][0]==t){var i=Ct[e][2](this.data.date_obj);return new At(i)}throw new C("invalid_scale_err",t)}}),Mt=function(){function t(e,i){for(var n in Object(vi["a"])(this,t),Et.en)this[n]=Et.en[n];if(e&&"string"==typeof e&&"en"!=e){var a=e;if(!(a in Et)){if(/\.json$/.test(a))var r=a;else{var s="/locale/"+a+".json";/\/$/.test(i=i)&&(s=s.substr(1)),r=i+s}var o=gt({url:r,async:!1});if(200!=o.status)throw"Could not load language ["+a+"]: "+o.statusText;Et[a]=JSON.parse(o.responseText)}L(this,Et[a])}}return Object(gi["a"])(t,[{key:"mergeData",value:function(t){for(k in Et.en)t[k]&&("object"==Object(wi["a"])(this[k])?L(t[k],this[k]):this[k]=t[k])}},{key:"formatBigYear",value:function(t,e){var i=t.year,n=this.bigdateformats[e]||this.bigdateformats.fallback;if(n){for(var a=0;a<n.length;a++){var r=n[a];if(Math.abs(i/r[0])>1)return Lt(Math.abs(i/r[0]),r[1])}return i.toString()}return P("Language file dateformats missing cosmological. Falling back."),Lt(i,e)}},{key:"_",value:function(e){return this.messages[e]||t.fallback.messages[e]||e}},{key:"formatDate",value:function(t,e){return t.constructor==Date?this.formatJSDate(t,e):t.constructor==St?this.formatBigYear(t,e):t.data&&t.data.date_obj?this.formatDate(t.data.date_obj,e):(P("Unfamiliar date presented for formatting"),t.toString())}},{key:"formatJSDate",value:function(e,i){var n=this,a=function(t,e){var i=n.period_labels[t];return i&&(t=e<12?i[0]:i[1]),"<span class='tl-timeaxis-timesuffix'>"+t+"</span>"};i||(i="full");var r=this.dateformats[i]||t.fallback.dateformats[i];r||(r=i);var s=e.getDate(),o=e.getDay(),c=e.getMonth(),l=e.getFullYear(),u=e.getHours(),h=e.getMinutes(),d=e.getSeconds(),f=e.getMilliseconds(),p=e.getTimezoneOffset(),m={d:s,dd:D(s),ddd:this.date.day_abbr[o],dddd:this.date.day[o],m:c+1,mm:D(c+1),mmm:this.date.month_abbr[c],mmmm:this.date.month[c],yy:String(l).slice(2),yyyy:l<0&&this.has_negative_year_modifier()?Math.abs(l):l,h:u%12||12,hh:D(u%12||12),H:u,HH:D(u),M:h,MM:D(h),s:d,ss:D(d),l:D(f,3),L:D(f>99?Math.round(f/10):f),t:a("t",u),tt:a("tt",u),T:a("T",u),TT:a("TT",u),Z:(String(e).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),o:(p>0?"-":"+")+D(100*Math.floor(Math.abs(p)/60)+Math.abs(p)%60,4),S:["th","st","nd","rd"][s%10>3?0:(s%100-s%10!=10)*s%10]},_=r.replace(t.DATE_FORMAT_TOKENS,(function(t){return t in m?m[t]:t.slice(1,t.length-1)}));return this._applyEra(_,l)}},{key:"has_negative_year_modifier",value:function(){return Boolean(this.era_labels.negative_year.prefix||this.era_labels.negative_year.suffix)}},{key:"_applyEra",value:function(t,e){var i=e<0?this.era_labels.negative_year:this.era_labels.positive_year,n="";return i.prefix&&(n+="<span>"+i.prefix+"</span> "),n+=t,i.suffix&&(n+=" <span>"+i.suffix+"</span>"),n}}])}();function Lt(t,e){if(e.match(/%(\.(\d+))?f/)){var i=e.match(/%(\.(\d+))?f/),n=i[0];return i[2]&&(t=t.toFixed(i[2])),e.replace(n,t)}return e}Mt.fallback={messages:{}},Mt.DATE_FORMAT_TOKENS=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;var Et={en:{name:"English",lang:"en",api:{wikipedia:"en"},messages:{loading:"Loading",wikipedia:"From Wikipedia, the free encyclopedia",error:"Error",contract_timeline:"Contract Timeline",return_to_title:"Return to Title",loading_content:"Loading Content",expand_timeline:"Expand Timeline",loading_timeline:"Loading Timeline... ",swipe_to_navigate:"Swipe to Navigate<br><span class='tl-button'>OK</span>",unknown_read_err:"An unexpected error occurred trying to read your spreadsheet data",invalid_url_err:"Unable to read Timeline data. Make sure your URL is for a Google Spreadsheet or a Timeline JSON file.",invalid_url_share_required:"Because of unexpected changes to Google's data access API, the creator of this timeline must enable 'anyone with the url can read' access for this spreadsheet. See timeline.knightlab.com for more information.",network_err:"Unable to read your Google Spreadsheet. Make sure you have published it to the web.",empty_feed_err:"No data entries found",missing_start_date_err:"Missing start_date",invalid_data_format_err:"Header row has been modified.",invalid_start_time_without_date:"Invalid configuration: time cannot be used without date.",invalid_end_time_without_date:"Invalid configuration: end time cannot be used without end date.",date_compare_err:"Can't compare timeline date objects on different scales",invalid_scale_err:"Invalid scale",invalid_date_err:"Invalid date: month, day and year must be numbers.",invalid_separator_error:"Invalid time: misuse of : or . as separator.",invalid_hour_err:"Invalid time (hour)",invalid_minute_err:"Invalid time (minute)",invalid_second_err:"Invalid time (second)",invalid_fractional_err:"Invalid time (fractional seconds)",invalid_second_fractional_err:"Invalid time (seconds and fractional seconds)",invalid_year_err:"Invalid year",flickr_notfound_err:"Photo not found or private",flickr_invalidurl_err:"Invalid Flickr URL",imgur_invalidurl_err:"Invalid Imgur URL",twitter_invalidurl_err:"Invalid Twitter URL",twitter_load_err:"Unable to load Tweet",twitterembed_invalidurl_err:"Invalid Twitter Embed url",wikipedia_load_err:"Unable to load Wikipedia entry",youtube_invalidurl_err:"Invalid YouTube URL",spotify_invalid_url:"Invalid Spotify URL",template_value_err:"No value provided for variable",invalid_rgb_err:"Invalid RGB argument",time_scale_scale_err:"Don't know how to get date from time for scale",axis_helper_no_options_err:"Axis helper must be configured with options",axis_helper_scale_err:"No AxisHelper available for scale",invalid_integer_option:"Invalid option value—must be a whole number.",instagram_bad_request:"Invalid or private Instagram URL"},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."]},era_labels:{positive_year:{prefix:"",suffix:""},negative_year:{prefix:"",suffix:"BCE"}},period_labels:{t:["a","p"],tt:["am","pm"],T:["A","P"],TT:["AM","PM"]},dateformats:{year:"yyyy",month_short:"mmm",month:"mmmm yyyy",full_short:"mmm d",full:"mmmm d',' yyyy",time:"h:MM:ss TT' <small>'mmmm d',' yyyy'</small>'",time_short:"h:MM:ss TT",time_no_seconds_short:"h:MM TT",time_no_minutes_short:"h TT",time_no_seconds_small_date:"h:MM TT' <small>'mmmm d',' yyyy'</small>'",time_milliseconds:"l",full_long:"mmm d',' yyyy 'at' h:MM TT",full_long_small_date:"h:MM TT' <small>mmm d',' yyyy'</small>'"},bigdateformats:{fallback:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]],compact:[[1e9,"%.2f bya"],[1e6,"%.1f mya"],[1e3,"%.1f kya"],[1,"%f years ago"]],verbose:[[1e9,"%.2f billion years ago"],[1e6,"%.1f million years ago"],[1e3,"%.1f thousand years ago"],[1,"%f years ago"]]}}},Rt=new Mt;Mt.fallback=Rt;var Pt=function(){function t(){Object(vi["a"])(this,t)}return Object(gi["a"])(t,[{key:"setLanguage",value:function(t){this.language=t}},{key:"getLanguage",value:function(){if(this.language){if("object"==Object(wi["a"])(this.language))return this.language;P("I18NMixins.getLanguage: this.language should be object, but is ".concat(Object(wi["a"])(this.language)))}return Rt}},{key:"_",value:function(t){return this.getLanguage()._(t)}}])}(),Dt=function(){function t(e,i,n){Object(vi["a"])(this,t),n&&this.setLanguage(n),this._el={parent:{},container:{},message_container:{},loading_icon:{},message:{}},this.options={width:600,height:600,message_class:"tl-message",message_icon_class:"tl-loading-icon"},this.container=e,L(this.options,i),this._el.container=x("div",this.options.message_class),e&&(e.appendChild(this._el.container),this._el.parent=e),this.animator={},this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"updateMessage",value:function(t){this._el.message.innerHTML=t||this._("loading"),!this._el.parent.atributes&&this.container.attributes&&(this.container.appendChild(this._el.container),this._el.parent=this.container)}},{key:"updateDisplay",value:function(t,e){}},{key:"_onMouseClick",value:function(){this.fire("clicked",this.options)}},{key:"_onRemove",value:function(){this._el.parent={}}},{key:"_initLayout",value:function(){this._el.message_container=x("div","tl-message-container",this._el.container),this._el.loading_icon=x("div",this.options.message_icon_class,this._el.message_container),this._el.message=x("div","tl-message-content",this._el.message_container),this.updateMessage()}},{key:"_initEvents",value:function(){pt.addListener(this._el.container,"click",this._onMouseClick,this),pt.addListener(this,"removed",this._onRemove,this)}}])}();function qt(t,e){e=e||"start_date",t.sort((function(t,i){return t[e].isBefore(i[e])?-1:t[e].isAfter(i[e])?1:0}))}function Nt(t){var e={hour:null,minute:null,second:null,millisecond:null},i=null,n=t.match(/(\s*[AaPp]\.?[Mm]\.?\s*)$/);n&&(i=F(n[0]),t=F(t.substring(0,t.lastIndexOf(i))));var a=[],r=t.match(/^\s*(\d{1,2})(\d{2})\s*$/);if(r?a=r.slice(1):1==(a=t.split(":")).length&&(a=t.split(".")),a.length>4)throw new C("invalid_separator_error");var s=a[0];if(e.hour=parseInt(s),i&&"p"==i.toLowerCase()[0]&&12!=e.hour?e.hour+=12:i&&"a"==i.toLowerCase()[0]&&12==e.hour&&(e.hour=0),isNaN(e.hour)||e.hour<0||e.hour>23)throw new C("invalid_hour_err",s);if(a.length>1){var o=a[1];if(e.minute=parseInt(o),isNaN(e.minute))throw new C("invalid_minute_err",o)}if(a.length>2){var c=a[2].split(/[\.,]/);if((a=c.concat(a.slice(3))).length>2)throw new C("invalid_second_fractional_err");if(e.second=parseInt(a[0]),isNaN(e.second))throw new C("invalid_second_err",a[0]);if(2==a.length){var l=parseInt(a[1]);if(isNaN(l))throw new C("invalid_fractional_err",a[1]);e.millisecond=100*l}}return e}z(Dt,Pt,ct,ht);var It=new RegExp("(^-?\\d+$|^$)");function Ft(t){try{return Object.keys(t).forEach((function(e){var i=t[e];if(i&&i.match&&!i.match(It))throw"invalid value ".concat(i," for ").concat(e)})),!0}catch(t){return!1}}var zt={human:jt,cosmological:At},Ht=i(0),Wt=i.n(Ht),Bt={text:["headline","text"],media:["caption","credit"]},Ut={start_date:["display_date"],end_date:["display_date"],slide:["display_date","group"],date:["display_date"]};function $t(t,e,i){Object.keys(i).forEach((function(n){var a="slide"==n?t:t[n];a&&i[n].forEach((function(t){void 0!==a[t]&&(a[t]=e(a[t]))}))}))}function Gt(t){return Wt.a.sanitize(t,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder"]})}var Yt=function(){function t(e){var i=this;if(Object(vi["a"])(this,t),this.title="",this.scale="",this.events=[],this.eras=[],this.event_dict={},this.messages={errors:[],warnings:[]},"object"==Object(wi["a"])(e)&&e.events){if(this.scale=e.scale,this.events=[],this._ensureValidScale(e.events),e.title){var n=this._assignID(e.title);this._tidyFields(e.title),this.title=e.title,this.event_dict[n]=this.title}for(var a=0;a<e.events.length;a++)try{this.addEvent(e.events[a],!0)}catch(e){this.logError(e)}e.eras&&e.eras.forEach((function(t,e){try{i.addEra(t)}catch(t){i.logError("Era "+e+": "+t)}})),qt(this.events),qt(this.eras)}}return Object(gi["a"])(t,[{key:"logError",value:function(t){P("logError: ".concat(t)),this.messages.errors.push(t)}},{key:"getErrors",value:function(t){return t?this.messages.errors.join(t):this.messages.errors}},{key:"validate",value:function(){void 0!==this.events&&void 0!==this.events.length&&0!=this.events.length||this.logError("Timeline configuration has no events.");for(var t=0;t<this.eras.length;t++){var e;void 0!==this.eras[t].start_date&&void 0!==this.eras[t].end_date||(e=this.eras[t].headline?this.eras[t].headline:"era "+(t+1),this.logError("All eras must have start and end dates. ["+e+"]"))}}},{key:"isValid",value:function(){return 0==this.messages.errors.length}},{key:"addEvent",value:function(t,e){var i=this._assignID(t);return void 0===t.start_date?(P("Missing start date, skipping event"),console.log(t),null):(this._processDates(t),this._tidyFields(t),this.events.push(t),this.event_dict[i]=t,e||qt(this.events),i)}},{key:"addEra",value:function(t){var e=this._assignID(t);if(void 0===t.start_date)throw new C("missing_start_date_err",e);this._processDates(t),this._tidyFields(t),this.eras.push({start_date:t.start_date,end_date:t.end_date,headline:t.text.headline})}},{key:"_assignID",value:function(t){var e=t.unique_id;return F(e)||(e=t.text?H(t.text.headline):null),t.unique_id=function(t,e){if(e||(e=W(6)),!(e in t))return e;var i=e.match(/^(.+)(-\d+)?$/)[1],n=[];for(var a in t)a.match(/^(.+?)(-\d+)?$/)[1]==i&&n.push(a);e=i+"-"+(n.length+1);for(var r=n.length;-1!=n.indexOf(e);r++)e=i+"-"+r;return e}(this.event_dict,e),t.unique_id}},{key:"_makeUniqueIdentifiers",value:function(t,e){for(var i=[t],n=0;n<e.length;n++)F(e[n].unique_id)&&(e[n].unique_id=H(e[n].unique_id),-1==i.indexOf(e[n].unique_id)?i.push(e[n].unique_id):e[n].unique_id="");if(i.length!=e.length+1)for(n=0;n<e.length;n++)if(!e[n].unique_id){var a=e[n].text?H(e[n].text.headline):null;a||(a=W(6)),-1!=i.indexOf(a)&&(a=a+"-"+n),i.push(a),e[n].unique_id=a}}},{key:"_ensureValidScale",value:function(t){if(!this.scale){this.scale="human";for(var e=0;e<t.length;e++){if("cosmological"==t[e].scale){this.scale="cosmological";break}if(t[e].start_date&&void 0!==t[e].start_date.year){var i=new At(t[e].start_date).data.date_obj.year;if(i<-271820||i>275759){this.scale="cosmological";break}}}P("Determining scale dynamically: ".concat(this.scale))}zt[this.scale]||this.logError("Don't know how to process dates on scale "+this.scale)}},{key:"_processDates",value:function(t){var e=zt[this.scale];if(!(t.start_date instanceof e)){var i=t.start_date;if(t.start_date=new e(i),void 0!==t.end_date&&!(t.end_date instanceof e)){var n=t.end_date,a=!0;for(var r in i)a=a&&i[r]==n[r];a?(P("End date same as start date is redundant; dropping end date"),delete t.end_date):t.end_date=new e(n)}}}},{key:"getEarliestDate",value:function(){var t=this.events[0].start_date;return this.eras&&this.eras.length>0&&this.eras[0].start_date.isBefore(t)?this.eras[0].start_date:t}},{key:"getLatestDate",value:function(){for(var t=[],e=0;e<this.events.length;e++)this.events[e].end_date?t.push({date:this.events[e].end_date}):t.push({date:this.events[e].start_date});for(e=0;e<this.eras.length;e++)this.eras[e].end_date?t.push({date:this.eras[e].end_date}):t.push({date:this.eras[e].start_date});return qt(t,"date"),t.slice(-1)[0].date}},{key:"_tidyFields",value:function(t){function e(t,e,i){i||(i=""),t.hasOwnProperty(e)||(t[e]=i)}t.group&&(t.group=F(t.group)),t.text||(t.text={}),e(t.text,"text"),e(t.text,"headline"),$t(t,Gt,Bt),$t(t,et,Ut)}}])}();function Vt(t){return Jt.apply(this,arguments)}function Jt(){return Jt=Object(u["a"])(Object(l["a"])().mark((function t(e){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){if(e.data){var n=Zt(Kt(e.data,e),e);n.useMemoryStore=!0,t(n)}else e.url&&window.fetch(e.url,{mode:"cors"}).then((function(t){if(200==t.status)return t.text?t.text():t;"application/json"==t.headers.get("content-type")?t.text().then((function(t){i(JSON.parse(t))})):i({status_code:t.status,message:"Error fetching CSV: [".concat(t.status," ").concat(t.statusText,"]")})})).then((function(i){if(i){var n=function(t,e){var i=Zt(Kt(t,e)),n=[];return i.records.forEach((function(t){var e={};i.fields.forEach((function(i,n){return e[i]=t[n]})),n.push(e)})),n}(i,e);n.useMemoryStore=!0,t(n)}})).catch((function(t){i({status_code:500,message:"Error fetching CSV: ".concat(t)})}))})));case 1:case"end":return t.stop()}}),t)}))),Jt.apply(this,arguments)}function Zt(t,e){return!0!==(e=e||{}).noHeaderRow&&t.length>0?{fields:t[0].map((function(t,e){return t&&t.trim?t.trim():"untitled".concat(e)})),records:t.slice(1)}:{records:t}}function Kt(t,e){(!e||e&&!e.lineterminator)&&(t=function(t,e){return e&&!e.lineterminator?t.replace(/(\r\n|\n|\r)/gm,"\n"):t}(t,e));var i=function(t){var e={delimiter:",",doublequote:!0,lineterminator:"\n",quotechar:'"',skipinitialspace:!0,skipinitialrows:0};for(var i in t)"trim"===i?e.skipinitialspace=t.trim:e[i.toLowerCase()]=t[i];return e}(e);t=function(t,e){return null==t?"":(e=e||"\n",t.charAt(t.length-e.length)!==e?t:t.substring(0,t.length-e.length))}(t,i.lineterminator);var n,a,r="",s=!1,o=!1,c="",l=[],u=[];for(a=function(t){return!0!==o&&(""===t?t=null:!0===i.skipinitialspace&&(t=t.trim())),t},n=0;n<t.length;n+=1)r=t.charAt(n),!1!==s||r!==i.delimiter&&r!==i.lineterminator?r!==i.quotechar?c+=r:s?t.charAt(n+1)===i.quotechar?(c+=i.quotechar,n+=1):s=!1:(s=!0,o=!0):(c=a(c),l.push(c),r===i.lineterminator&&(u.push(l),l=[]),c="",o=!1);return c=a(c),l.push(c),u.push(l),i.skipinitialrows&&(u=u.slice(i.skipinitialrows)),u}function Xt(t){if(t)return t.replace(/[\s,]+/g,"")}function Qt(t){var e={key:null,worksheet:0},i=/\bkey=([-_A-Za-z0-9]+)&?/i,n=/docs.google.com\/spreadsheets(.*?)\/d\//;if(t.match(i))e.key=t.match(i)[1];else if(t.match(n)){var a=t.search(n)+t.match(n)[0].length,r=t.substr(a);e.key=r.split("/")[0],t.match(/\?gid=(\d+)/)&&(e.worksheet=t.match(/\?gid=(\d+)/)[1])}else t.match(/^\b[-_A-Za-z0-9]+$/)&&(e.key=t);return e.key?e:null}function te(t,e){return ee.apply(this,arguments)}function ee(){return ee=Object(u["a"])(Object(l["a"])().mark((function t(e,i){var n,a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],e=function(t){if((t=t.trim()).match(/^[a-zA-Z0-9-_]+$/))return"https://docs.google.com/spreadsheets/d/".concat(t,"/pub?output=csv");if(t.startsWith("https://docs.google.com/spreadsheets/")){if(t.match(/\/pub\?output=csv$/))return t;var e=new URL(t),i=new URLSearchParams(e.search);i.set("output","csv"),i.get("gid")&&i.set("single","true"),e.search="?".concat(i.toString());var n=e.pathname.substr(0,e.pathname.lastIndexOf("/"));return e.pathname="".concat(n,"/pub"),e.toString()}throw new C("invalid_url_err",t)}(e),t.next=4,Vt({url:"".concat(i).concat(e)}).then((function(t){n=t})).catch((function(t){if("response_not_csv"==t.proxy_err_code)throw new C('Timeline could not read the data for your timeline. Make sure you have published AND shared your timeline. See <a href="https://timeline.knightlab.com">timeline.knightlab.com</a> for more information.');throw new C(t.message)}));case 4:return a={events:[],errors:[],warnings:[],eras:[]},t.abrupt("return",(n.forEach((function(t,e){try{(function(t){var e=[];if(Object.keys)e=Object.keys(t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);for(var n=0;n<e.length;n++){var a=e[n];if(null!=t[a]&&"string"!=typeof t[a])return!1;if(0!=F(t[a]).length)return!1}return!0})(t)||se(function(t){var e={};Object.keys(t).forEach((function(i){e[i]=F(t[i])}));var i,n={media:{caption:e["Media Caption"]||"",credit:e["Media Credit"]||"",url:e.Media||"",thumbnail:e["Media Thumbnail"]||""},text:{headline:e.Headline||"",text:e.Text||""},display_date:e["Display Date"]||"",group:e.Group||e.Tag||"",background:(i=e.Background,"string"!=typeof i?"":i.match(/^(https?:)?\/\/?/)?{url:i}:{color:i}),type:e.Type||""};if(Object.keys(e).includes("Start Date")||Object.keys(e).includes("End Date"))e["Start Date"]&&(n.start_date=Tt(e["Start Date"])),e["End Date"]&&(n.end_date=Tt(e["End Date"]));else{if(e.Year&&(n.start_date={year:Xt(e.Year),month:Xt(e.Month)||"",day:Xt(e.Day)||""}),e["End Year"]&&(n.end_date={year:Xt(e["End Year"])||"",month:Xt(e["End Month"])||"",day:Xt(e["End Day"])||""}),e.Time){if(!n.start_date)throw new C("invalid_start_time_without_date");L(n.start_date,Nt(e.Time))}if(e["End Time"]){if(!n.end_date)throw new C("invalid_end_time_without_date");L(n.end_date,Nt(e["End Time"]))}if(n.start_date&&!Ft(n.start_date))throw new C("invalid_date_err");if(n.end_date&&!Ft(n.end_date))throw new C("invalid_date_err")}return n}(t),a)}catch(n){if(n.constructor==C)a.errors.push(n);else{n.message&&(n=n.message);var i=t.Headline||e;a.errors.push(n+"[".concat(i,"]"))}}})),a));case 6:case"end":return t.stop()}}),t)}))),ee.apply(this,arguments)}function ie(t,e){return ne.apply(this,arguments)}function ne(){return ne=Object(u["a"])(Object(l["a"])().mark((function t(e,i){var n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.sheets_proxy){t.next=2;break}throw new C("Proxy option must be set to read data from Google");case 2:return t.next=4,te(e,i.sheets_proxy);case 4:return n=t.sent,t.abrupt("return",n||function(t){var e=function(t,e){return"v4"==e?"https://sheets.googleapis.com/v4/spreadsheets/"+t+"/values/A1:R1000?key=AIzaSyCInR0kjJJ2Co6aQAXjLBQ14CEHam3K0xg":"https://spreadsheets.google.com/feeds/list/"+t+"/1/public/values?alt=json"}(spreadsheet_key,"v4");P("trying v4 - "+t);var i=gt({url:e,async:!1});if(403==i.status)throw new C("invalid_url_share_required");if(200!=i.status)throw P(n="Error fetching data "+api_version+": "+i.status+" - "+i.statusText),new C("google_error",n);var n,a=JSON.parse(i.responseText);if(a.error)throw P(n="Error fetching data "+api_version+": "+i.status+" - "+i.statusText),P(a.error),new C("google_error",n);return re(a)}(e));case 6:case"end":return t.stop()}}),t)}))),ne.apply(this,arguments)}function ae(t,e){function i(t){if(t)return t.replace(/[\s,]+/g,"")}for(var n={},a=1;a<e.length;a++)t.length>=a&&(n[t[a].toLowerCase().replace(" ","")]=e[a]);var r={media:{caption:n.mediacaption||"",credit:n.mediacredit||"",url:n.media||"",thumbnail:n.mediathumbnail||""},text:{headline:n.headline||"",text:n.text||""},start_date:{year:i(e[0]),month:i(e[1])||"",day:i(e[2])||""},end_date:{year:i(n.endyear)||"",month:i(n.endmonth)||"",day:i(n.endday)||""},display_date:n.displaydate||"",type:n.type||""};if(n.time&&L(r.start_date,Nt(e[3])),n.endtime&&L(r.end_date,Nt(n.endtime)),n.group&&(r.group=n.group),""==r.end_date.year){var s=r.end_date;delete r.end_date,""==s.month&&""==s.day&&""==s.time||P("Invalid end date for spreadsheet row. Must have a year if any other date fields are specified.")}return n.background&&(n.background.match(/^(https?:)?\/\/?/)?r.background={url:n.background}:r.background={color:n.background}),r}var re=function(t){for(var e={events:[],errors:[],warnings:[],eras:[]},i=1;i<t.values.length;i++){var n=ae(t.values[0],t.values[i]);n&&se(n,e)}return e};function se(t,e){var i="event";void 0!==t.type&&(i=t.type,delete t.type),"title"==i?e.title?(e.warnings.push("Multiple title slides detected."),e.events.push(t)):e.title=t:"era"==i?e.eras.push(t):e.events.push(t)}var oe=function(){function t(e){if(Object(vi["a"])(this,t),!e)throw new C("axis_helper_no_options_err");this.scale=e.scale,this.minor=e.minor,this.major=e.major}return Object(gi["a"])(t,[{key:"getPixelsPerTick",value:function(t){return t*this.minor.factor}},{key:"getMajorTicks",value:function(t){return this._getTicks(t,this.major)}},{key:"getMinorTicks",value:function(t){return this._getTicks(t,this.minor)}},{key:"_getTicks",value:function(t,e){for(var i=t._scaled_padding*e.factor,n=t._earliest-i,a=t._latest+i,r=[],s=n;s<a;s+=e.factor)r.push(t.getDateFromTime(s).floor(e.name));return{name:e.name,ticks:r}}}])}(),ce={},le=function(t,e){ce[t]=[];for(var i=0;i<e.length-1;i++){var n=e[i],a=e[i+1];ce[t].push(new oe({scale:n[3],minor:{name:n[0],factor:n[1]},major:{name:a[0],factor:a[1]}}))}};le("human",yt),le("cosmological",Ct);var ue=function(){function t(e,i){Object(vi["a"])(this,t);var n=e.events;this._scale=e.scale,i=L({display_width:500,screen_multiplier:3,max_rows:null},i),this._display_width=i.display_width,this._screen_multiplier=i.screen_multiplier,this._pixel_width=this._screen_multiplier*this._display_width,this._group_labels=void 0,this._positions=[],this._pixels_per_milli=0,this._earliest=e.getEarliestDate().getTime(),this._latest=e.getLatestDate().getTime(),this._span_in_millis=this._latest-this._earliest,this._span_in_millis<=0&&(this._span_in_millis=this._computeDefaultSpan(e)),this._average=this._span_in_millis/n.length,this._pixels_per_milli=this.getPixelWidth()/this._span_in_millis,this._axis_helper=function(t,e){"number"!=typeof e&&(e=100);var i=t.getScale(),n=ce[i];if(!n)throw new C("axis_helper_scale_err",i);for(var a=null,r=0;r<n.length;r++){var s=n[r],o=s.getPixelsPerTick(t._pixels_per_milli);if(o>e)return null==a||Math.abs(e-o)<Math.abs(e-o)?s:a;a=s}return n[n.length-1]}(this),this._scaled_padding=1/this.getPixelsPerTick()*(this._display_width/2),this._computePositionInfo(n,i.max_rows)}return Object(gi["a"])(t,[{key:"_computeDefaultSpan",value:function(t){if("human"==t.scale){for(var e={},i=0;i<t.events.length;i++){var n=t.events[i].start_date.findBestFormat();e[n]=e[n]?e[n]+1:1}for(i=yt.length-1;i>=0;i--)if(e.hasOwnProperty(yt[i][0])){var a=yt[yt.length-1];return yt[i+1]&&(a=yt[i+1]),a[1]}return 31536e6}return 2e5}},{key:"getGroupLabels",value:function(){return this._group_labels||[]}},{key:"getScale",value:function(){return this._scale}},{key:"getNumberOfRows",value:function(){return this._number_of_rows}},{key:"getPixelWidth",value:function(){return this._pixel_width}},{key:"getPosition",value:function(t){return(t-this._earliest)*this._pixels_per_milli}},{key:"getPositionInfo",value:function(t){return this._positions[t]}},{key:"getPixelsPerTick",value:function(){return this._axis_helper.getPixelsPerTick(this._pixels_per_milli)}},{key:"getTicks",value:function(){return{major:this._axis_helper.getMajorTicks(this),minor:this._axis_helper.getMinorTicks(this)}}},{key:"getDateFromTime",value:function(t){if("human"==this._scale)return new jt(t);if("cosmological"==this._scale)return new At(new St(t));throw new C("time_scale_scale_err",this._scale)}},{key:"getMajorScale",value:function(){return this._axis_helper.major.name}},{key:"getMinorScale",value:function(){return this._axis_helper.minor.name}},{key:"_assessGroups",value:function(t){for(var e=[],i=!1,n=0;n<t.length;n++)t[n].group&&(e.indexOf(t[n].group)<0?e.push(t[n].group):i=!0);return e.length&&i&&e.push(""),e}},{key:"_computeRowInfo",value:function(t,e){for(var i=[],n=0,a=0;a<t.length;a++){var r=t[a],s=[];delete r.row;for(var o=0;o<i.length;o++)if(s.push(i[o].end-r.start),s[o]<=0){r.row=o,i[o]=r;break}if(void 0===r.row)if(null===e)r.row=i.length,i.push(r);else if(e>0)r.row=i.length,i.push(r),e--;else{var c=Math.min.apply(null,s),l=s.indexOf(c);r.row=l,r.end>i[l].end&&(i[l]=r),n++}}return{n_rows:i.length,n_overlaps:n}}},{key:"_computePositionInfo",value:function(t,e,i){i=i||100;for(var n=[],a=!1,r=0;r<t.length;r++){var s={start:this.getPosition(t[r].start_date.getTime())};if(this._positions.push(s),void 0!==t[r].end_date){var o=this.getPosition(t[r].end_date.getTime());s.width=o-s.start,s.width>i?s.end=s.start+s.width:s.end=s.start+i}else s.width=i,s.end=s.start+i;t[r].group?n.indexOf(t[r].group)<0&&n.push(t[r].group):a=!0}if(n.length){a&&n.push("");var c=[];for(r=0;r<n.length;r++)c[r]={label:n[r],idx:r,positions:[],n_rows:1,n_overlaps:0};for(r=0;r<this._positions.length;r++){(s=this._positions[r]).group=n.indexOf(t[r].group||""),s.row=0;for(var l=(d=c[s.group]).positions.length-1;l>=0;l--)d.positions[l].end>s.start&&d.n_overlaps++;d.positions.push(s)}for(var u=n.length;;){var h=Math.max(0,e-u);if(!h)break;if(c.sort((function(t,e){return t.n_overlaps>e.n_overlaps?-1:t.n_overlaps<e.n_overlaps?1:t.idx-e.idx})),!c[0].n_overlaps)break;for(u=0,r=0;r<c.length;r++){var d;if((d=c[r]).n_overlaps&&h){var f=this._computeRowInfo(d.positions,d.n_rows+1);d.n_rows=f.n_rows,d.n_overlaps=f.n_overlaps,h--}u+=d.n_rows}}this._number_of_rows=u,this._group_labels=[],c.sort((function(t,e){return t.idx-e.idx})),r=0;for(var p=0;r<c.length;r++){for(this._group_labels.push({label:c[r].label,rows:c[r].n_rows}),l=0;l<c[r].positions.length;l++)(s=c[r].positions[l]).row+=p;p+=c[r].n_rows}}else{var m=this._computeRowInfo(this._positions,e);this._number_of_rows=m.n_rows}}}])}(),he=function(){function t(e){Object(vi["a"])(this,t),this._el={parent:{},container:{},message:{}},this.options={width:600,height:600},this.data={label:"",rows:1},this._el.container=x("div","tl-timegroup"),L(this.data,e),this.animator={},this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"updateDisplay",value:function(t,e){}},{key:"setRowPosition",value:function(t,e){this.options.height=e*this.data.rows,this.setPosition({top:t}),this._el.container.style.height=this.options.height+"px"}},{key:"setAlternateRowColor",value:function(t,e){var i="tl-timegroup";t&&(i+=" tl-timegroup-alternate"),e&&(i+=" tl-timegroup-hidden"),this._el.container.className=i}},{key:"_onMouseClick",value:function(){this.fire("clicked",this.options)}},{key:"_initLayout",value:function(){this._el.message=x("div","tl-timegroup-message",this._el.container),this._el.message.innerHTML=this.data.label}},{key:"_initEvents",value:function(){pt.addListener(this._el.container,"click",this._onMouseClick,this)}},{key:"_updateDisplay",value:function(t,e,i){}}])}();z(he,ct,ht),i(2);var de=function(){function t(e,i,n,a){Object(vi["a"])(this,t),this.start_date=e,this.end_date=i,this.headline=n,this._el={container:{},background:{},content_container:{},content:{},text:{}},this._text={},this._state={loaded:!1},this.options={duration:1e3,ease:at,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,L(this.options,a),this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"setActive",value:function(t){}},{key:"addTo",value:function(t){t.appendChild(this._el.container)}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container)}},{key:"updateDisplay",value:function(t,e){this._updateDisplay(t,e)}},{key:"getLeft",value:function(){return this._el.container.style.left.slice(0,-2)}},{key:"getTime",value:function(){return this.start_date.getTime()}},{key:"getEndTime",value:function(){return!!this.end_date&&this.end_date.getTime()}},{key:"setHeight",value:function(t){var e=1;this._el.content_container.style.height=t+"px",this._el.content.className="tl-timeera-content",c?((e=Math.floor(t/14))<1&&(e=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=e):(e=t/12,this._text.className=e>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*e+"px")}},{key:"setWidth",value:function(t){this.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timeera-content-container tl-timeera-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timeera-content-container"))}},{key:"setClass",value:function(t){this._el.container.className=t}},{key:"setRowPosition",value:function(t,e){this.setPosition({top:t}),e<56&&O(this._el.content_container,"tl-timeera-content-container-small")}},{key:"setColor",value:function(t){this._el.container.className="tl-timeera tl-timeera-color"+t}},{key:"_initLayout",value:function(){this._el.container=x("div","tl-timeera"),this.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timeera tl-timeera-with-end"),this._el.content_container=x("div","tl-timeera-content-container",this._el.container),this._el.background=x("div","tl-timeera-background",this._el.content_container),this._el.content=x("div","tl-timeera-content",this._el.content_container),this._el.text=x("div","tl-timeera-text",this._el.content),this._text=x("h2","tl-headline",this._el.text),this.headline&&""!=this.headline&&(this._text.innerHTML=$(this.headline)),this.onLoaded()}},{key:"_initEvents",value:function(){}},{key:"_updateDisplay",value:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}])}();z(de,ct,ht);var fe=function(){function t(e,i,n){Object(vi["a"])(this,t),n&&this.setLanguage(n),this._el={container:{},content_container:{},major:{},minor:{}},this._text={},this._state={loaded:!1},this.data={},this.options={duration:1e3,ease:at,width:600,height:600},this.active=!1,this.animator={},this.axis_helper={},this.minor_ticks=[],this.major_ticks=[],this.dateformat_lookup={millisecond:"time_milliseconds",second:"time_short",minute:"time_no_seconds_short",hour:"time_no_minutes_short",day:"full_short",month:"month_short",year:"year",decade:"year",century:"year",millennium:"year",age:"compact",epoch:"compact",era:"compact",eon:"compact",eon2:"compact"},this._el.container="object"==Object(wi["a"])(e)?e:w(e),L(this.options,i),this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"addTo",value:function(t){t.appendChild(this._el.container)}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container)}},{key:"updateDisplay",value:function(t,e){this._updateDisplay(t,e)}},{key:"getLeft",value:function(){return this._el.container.style.left.slice(0,-2)}},{key:"drawTicks",value:function(t,e){var i=t.getTicks();this._el.minor,this.dateformat_lookup[i.minor.name],i.minor.ticks,this.minor_ticks,this._el.major,this.dateformat_lookup[i.major.name],i.major.ticks,this.major_ticks,this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor",this._el.major.style.opacity=0,this._el.minor.style.opacity=0,this.major_ticks=this._createTickElements(i.major.ticks,this._el.major,this.dateformat_lookup[i.major.name]),this.minor_ticks=this._createTickElements(i.minor.ticks,this._el.minor,this.dateformat_lookup[i.minor.name],i.major.ticks),this.positionTicks(t,e,!0),this._el.major.className="tl-timeaxis-major tl-animate-opacity tl-timeaxis-animate-opacity",this._el.minor.className="tl-timeaxis-minor tl-animate-opacity tl-timeaxis-animate-opacity",this._el.major.style.opacity=1,this._el.minor.style.opacity=1}},{key:"_createTickElements",value:function(t,e,i,n){e.innerHTML="";var a={};if(a[new Date(-1,13,-30).getTime()]=!0,n)for(var r=0;r<n.length;r++)a[n[r].getTime()]=!0;var s=[];for(r=0;r<t.length;r++){var o=t[r];if(!(o.getTime()in a)){var c=x("div","tl-timeaxis-tick",e),l=x("span","tl-timeaxis-tick-text tl-animate-opacity",c);l.innerHTML=o.getDisplayDate(this.getLanguage(),i),s.push({tick:c,tick_text:l,display_date:o.getDisplayDate(this.getLanguage(),i),date:o})}}return s}},{key:"positionTicks",value:function(t,e,i){i?(this._el.major.className="tl-timeaxis-major",this._el.minor.className="tl-timeaxis-minor"):(this._el.major.className="tl-timeaxis-major tl-timeaxis-animate",this._el.minor.className="tl-timeaxis-minor tl-timeaxis-animate"),this._positionTickArray(this.major_ticks,t,e),this._positionTickArray(this.minor_ticks,t,e)}},{key:"_positionTickArray",value:function(t,e,i){if(t[1]&&t[0]){var n=1;e.getPosition(t[1].date.getMillisecond())-e.getPosition(t[0].date.getMillisecond())<i&&(n=Math.round(i/e.getPixelsPerTick()));for(var a=1,r=0;r<t.length;r++){var s=t[r];s.tick.style.left=e.getPosition(s.date.getMillisecond())+"px",s.tick_text.innerHTML=s.display_date,n>1?a>=n?(a=1,s.tick_text.style.opacity=1,s.tick.className="tl-timeaxis-tick"):(a++,s.tick_text.style.opacity=0,s.tick.className="tl-timeaxis-tick tl-timeaxis-tick-hidden"):(s.tick_text.style.opacity=1,s.tick.className="tl-timeaxis-tick")}}}},{key:"_initLayout",value:function(){this._el.content_container=x("div","tl-timeaxis-content-container",this._el.container),this._el.major=x("div","tl-timeaxis-major",this._el.content_container),this._el.minor=x("div","tl-timeaxis-minor",this._el.content_container),this.onLoaded()}},{key:"_initEvents",value:function(){}},{key:"_updateDisplay",value:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}])}();z(fe,ct,ht,Pt);var pe=function(){function t(e,i,n){Object(vi["a"])(this,t),this._el={container:{},content_container:{},content:{},headline:{},date:{}},this.options={title:!1},this.data={unique_id:"",headline:"headline",text:"text"},function(t,e){t.data=E({},t.data,e),""===t.data.unique_id&&(t.data.unique_id=W(6))}(this,e),L(this.options,i),this._el.container=x("div","tl-text"),this._el.container.id=this.data.unique_id,this._initLayout(),n&&n.appendChild(this._el.container)}return Object(gi["a"])(t,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"addTo",value:function(t){t.appendChild(this._el.container)}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container)}},{key:"headlineHeight",value:function(){return this._el.headline.offsetHeight+40}},{key:"addDateText",value:function(t){this._el.date.innerHTML=t}},{key:"onLoaded",value:function(){this.fire("loaded",this.data)}},{key:"onAdd",value:function(){this.fire("added",this.data)}},{key:"onRemove",value:function(){this.fire("removed",this.data)}},{key:"_initLayout",value:function(){if(this._el.content_container=x("div","tl-text-content-container",this._el.container),this._el.date=x("h3","tl-headline-date",this._el.content_container),""!=this.data.headline){var t="tl-headline";this.options.title&&(t="tl-headline tl-headline-title"),this._el.headline=x("h2",t,this._el.content_container),this._el.headline.innerHTML=this.data.headline}if(""!=this.data.text){var e="";e+=(i=1==this.options.autolink?Y(this.data.text):this.data.text).match(/<p>[\s\S]*?<\/p>/)?i:"<p>"+i+"</p>",this._el.content=x("div","tl-text-content",this._el.content_container),this._el.content.innerHTML=e}var i;this.onLoaded()}}])}();z(pe,ct);var me=function(){function t(e,i,n){Object(vi["a"])(this,t),n&&this.setLanguage(n),this._el={container:{},content_container:{},content:{},content_item:{},content_link:{},caption:null,credit:null,parent:{},link:null},this.player=null,this.timer=null,this.load_timer=null,this.message=null,this.media_id=null,this._state={loaded:!1,show_meta:!1,media_loaded:!1},this.data={unique_id:null,url:null,credit:null,caption:null,credit_alternate:null,caption_alternate:null,link:null,link_target:null},this.options={api_key_flickr:"bd3a7c45ddd52f3101825d41563a6125",api_key_googlemaps:"AIzaSyB9dW8e_iRrATFa8g24qB6BDBGdkrLDZYI",api_key_embedly:"",credit_height:0,caption_height:0,background:0},this.animator={},L(this.options,i),L(this.data,e),this.options.background||(this._el.container=x("div","tl-media"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._initLayout())}return Object(gi["a"])(t,[{key:"loadMedia",value:function(){var t=this;if(!this._state.loaded)try{this.load_timer=setTimeout((function(){t.loadingMessage(),t._loadMedia(),t._updateDisplay()}),1200)}catch(t){trace("Error loading media for ",this._media),trace(t)}}},{key:"_updateMessage",value:function(t){this.message&&this.message.updateMessage(t)}},{key:"loadingMessage",value:function(){this._updateMessage(this._("loading")+" "+this.options.media_name)}},{key:"errorMessage",value:function(t){t=t?this._("error")+": "+t:this._("error"),this._updateMessage(t)}},{key:"updateMediaDisplay",value:function(t){this._state.loaded&&!this.options.background&&(this._el.content_item.style.maxHeight=d?this.options.height/2+"px":this.options.height-this.options.credit_height-this.options.caption_height-30+"px",this._el.container.style.maxWidth=this.options.width+"px",_&&(this._el.content_item.offsetWidth,this._el.content_item.offsetHeight),this._updateMediaDisplay(t),this._state.media_loaded&&(this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")))}},{key:"_loadMedia",value:function(){this.onLoaded()}},{key:"_updateMediaDisplay",value:function(t){_&&(this._el.content_item.style.maxWidth=this.options.width+"px",this._el.content_item.style.width="auto")}},{key:"_getMeta",value:function(){}},{key:"_getImageURL",value:function(t,e){return""}},{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"addTo",value:function(t){t.appendChild(this._el.container),this.onAdd()}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container),this.onRemove()}},{key:"getImageURL",value:function(t,e){return this._getImageURL(t,e)}},{key:"updateDisplay",value:function(t,e,i){this._updateDisplay(t,e,i)}},{key:"stopMedia",value:function(){this._stopMedia()}},{key:"loadErrorDisplay",value:function(t){try{this._el.content.removeChild(this._el.content_item)}catch(t){}this._el.content_item=x("div","tl-media-item tl-media-loaderror",this._el.content),this._el.content_item.innerHTML="<div class='tl-icon-"+this.options.media_type+"'></div><p>"+t+"</p>",this.onLoaded(!0)}},{key:"onLoaded",value:function(t){this._state.loaded=!0,this.fire("loaded",this.data),this.message&&this.message.hide(),t||this.options.background||this.showMeta(),this.updateDisplay()}},{key:"onMediaLoaded",value:function(t){this._state.media_loaded=!0,this.fire("media_loaded",this.data),this._el.credit&&(this._el.credit.style.width=this._el.content_item.offsetWidth+"px"),this._el.caption&&(this._el.caption.style.width=this._el.content_item.offsetWidth+"px")}},{key:"showMeta",value:function(t,e){this._state.show_meta=!0,this.data.credit&&""!=this.data.credit&&(this._el.credit=x("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=1==this.options.autolink?Y(this.data.credit):this.data.credit,this.options.credit_height=this._el.credit.offsetHeight),this.data.caption&&""!=this.data.caption&&(this._el.caption=x("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=1==this.options.autolink?Y(this.data.caption):this.data.caption,this.options.caption_height=this._el.caption.offsetHeight),this.data.caption&&this.data.credit||this.getMeta()}},{key:"getMeta",value:function(){this._getMeta()}},{key:"updateMeta",value:function(){!this.data.credit&&this.data.credit_alternate&&(this._el.credit=x("div","tl-credit",this._el.content_container),this._el.credit.innerHTML=this.data.credit_alternate,this.options.credit_height=this._el.credit.offsetHeight),!this.data.caption&&this.data.caption_alternate&&(this._el.caption=x("div","tl-caption",this._el.content_container),this._el.caption.innerHTML=this.data.caption_alternate,this.options.caption_height=this._el.caption.offsetHeight),this.updateDisplay()}},{key:"onAdd",value:function(){this.fire("added",this.data)}},{key:"onRemove",value:function(){this.fire("removed",this.data)}},{key:"_initLayout",value:function(){this.message=new Dt(this._el.container,this.options,this.getLanguage()),this._el.content_container=x("div","tl-media-content-container",this._el.container),this.data.link&&""!=this.data.link?(this._el.link=x("a","tl-media-link",this._el.content_container),this._el.link.href=this.data.link,this.data.link_target&&""!=this.data.link_target?this._el.link.target=this.data.link_target:this._el.link.target="_blank",this._el.content=x("div","tl-media-content",this._el.link)):this._el.content=x("div","tl-media-content",this._el.content_container)}},{key:"_updateDisplay",value:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e),i&&(this.options.layout=i),this._el.credit&&(this.options.credit_height=this._el.credit.offsetHeight),this._el.caption&&(this.options.caption_height=this._el.caption.offsetHeight+5),this.updateMediaDisplay(this.options.layout)}},{key:"domCreate",value:function(){return x.apply(void 0,arguments)}},{key:"_stopMedia",value:function(){}}])}();z(me,ct,Pt);var _e=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}},{key:"createMedia",value:function(){var t=this,e="tl-media-item tl-media-image tl-media-shadow";(this.data.url.match(/.png(\?.*)?$/)||this.data.url.match(/.svg(\?.*)?$/))&&(e="tl-media-item tl-media-image"),this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("img",e,this._el.content_link)):this._el.content_item=this.domCreate("img",e,this._el.content),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=G(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=G(this.data.caption)),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.content_item.src=this.getImageURL()}},{key:"getImageURL",value:function(t,e){return V(this.data.url)}},{key:"_updateMediaDisplay",value:function(t){_&&(this._el.content_item.style.width="auto")}}])}(me);function ge(t,e,i,n){ye.js(t,e,i,n)}function ve(t,e,i,n){ye.css(t,e,i,n)}var ye=new(function(){function t(e){Object(vi["a"])(this,t),this.doc=e,this.pending={},this.queue={css:[],js:[]},this.styleSheets=e.styleSheets,this.env=this.getEnv(),this.head=this.doc.head||this.doc.getElementsByTagName("head")[0],this.pollCount=0}return Object(gi["a"])(t,[{key:"createNode",value:function(t,e){var i,n=this.doc.createElement(t);for(i in e)e.hasOwnProperty(i)&&n.setAttribute(i,e[i]);return n}},{key:"finish",value:function(t){var e,i,n=this.pending[t];n&&(e=n.callback,(i=n.urls).shift(),this.pollCount=0,i.length||(e&&e.call(n.context,n.obj),this.pending[t]=null,this.queue[t].length&&this.load(t)))}},{key:"getEnv",value:function(){var t=navigator.userAgent,e={async:!0===this.doc.createElement("script").async};return(e.webkit=/AppleWebKit\//.test(t))||(e.ie=/MSIE/.test(t))||(e.opera=/Opera/.test(t))||(e.gecko=/Gecko\//.test(t))||(e.unknown=!0),e}},{key:"load",value:function(t,e,i,n,a){var r,s,o,c,l,u,h=function(){this.finish(t)}.bind(this),d="css"===t,f=[];if(e)if(e="string"==typeof e?[e]:e.concat(),d||this.env.async||this.env.gecko||this.env.opera)this.queue[t].push({urls:e,callback:i,obj:n,context:a});else for(r=0,s=e.length;r<s;++r)this.queue[t].push({urls:[e[r]],callback:r===s-1?i:null,obj:n,context:a});if(!this.pending[t]&&(c=this.pending[t]=this.queue[t].shift())){for(r=0,s=(l=c.urls).length;r<s;++r)u=l[r],d?o=this.env.gecko?this.createNode("style"):this.createNode("link",{href:u,rel:"stylesheet"}):(o=this.createNode("script",{src:u})).async=!1,o.className="lazyload",o.setAttribute("charset","utf-8"),this.env.ie&&!d?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,h())}:d&&(this.env.gecko||this.env.webkit)?this.env.webkit?(c.urls[r]=o.href,this.pollWebKit()):(o.innerHTML='@import "'+u+'";',this.pollGecko(o)):o.onload=o.onerror=h,f.push(o);for(r=0,s=f.length;r<s;++r)this.head.appendChild(f[r])}}},{key:"pollGecko",value:function(t){var e;try{e=!!t.sheet.cssRules}catch(n){if(this.pollCount+=1,this.pollCount<200){var i=this;setTimeout((function(){i.pollGecko(t)}),50)}else e&&this.finish("css");return}this.finish("css")}},{key:"pollWebKit",value:function(){var t,e=this.pending.css;if(e){for(t=this.styleSheets.length;--t>=0;)if(this.styleSheets[t].href===e.urls[0]){this.finish("css");break}this.pollCount+=1,e&&(this.pollCount<200?setTimeout(this.pollWebKit.bind(this),50):this.finish("css"))}}},{key:"css",value:function(t,e,i,n){this.load("css",t,e,i,n)}},{key:"js",value:function(t,e,i,n){this.load("js",t,e,i,n)}}])}())(document),be=function(e){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,e),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){var t,e=this;this.youtube_loaded=!1,this._el.content_item=this.domCreate("div","tl-media-item tl-media-youtube tl-media-shadow",this._el.content),this._el.content_item.id=W(7),t=function(t){var e,i,n,a=[];(e=t.toString()).match("&#038;")?e=e.replace("&#038;","&"):e.match("&#38;")?e=e.replace("&#38;","&"):e.match("&amp;")&&(e=e.replace("&amp;","&")),n=e.slice(e.indexOf("?")+1).split("&");for(var r=0;r<n.length;r++)i=n[r].split("="),a.push(i[0]),a[i[0]]=i[1];return a}(this.data.url),this.media_id={},this.data.url.match("v=")?this.media_id.id=t.v:this.data.url.match("/embed/")?this.media_id.id=this.data.url.split("embed/")[1].split(/[?&]/)[0]:this.data.url.match(/v\/|v=|youtu\.be\//)?this.media_id.id=this.data.url.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0]:P("YOUTUBE IN URL BUT NOT A VALID VIDEO"),this.data.url.match("start=")?this.media_id.start=tt(this.data.url.split("start=")[1]):this.data.url.match("t=")&&(this.media_id.start=tt(this.data.url.split("t=")[1])),this.data.url.match("end=")&&(this.media_id.end=tt(this.data.url.split("end=")[1])),this.media_id.hd=Boolean(void 0!==t.hd),ge("https://www.youtube.com/iframe_api",(function(){e.createMedia()}))}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=X({w:this.options.width})+"px",this._el.content_item.style.width=this.options.width+"px"}},{key:"_stopMedia",value:function(){if(this.youtube_loaded)try{this.player.getPlayerState()==YT.PlayerState.PLAYING&&this.player.pauseVideo()}catch(t){P(t)}}},{key:"createMedia",value:function(){var t=this;clearTimeout(this.timer),"undefined"!=typeof YT&&void 0!==YT.Player?this.player=new YT.Player(this._el.content_item.id,{playerVars:{enablejsapi:1,color:"white",controls:1,start:this.media_id.start,end:this.media_id.end,fs:1},videoId:this.media_id.id,events:{onReady:function(){t.onPlayerReady(),t.onLoaded()},onStateChange:t.onStateChange}}):this.timer=setTimeout((function(){t.createMedia()}),1e3)}},{key:"onPlayerReady",value:function(t){this.youtube_loaded=!0,this._el.content_item=document.getElementById(this._el.content_item.id),this.onMediaLoaded()}},{key:"onStateChange",value:function(t){t.data==YT.PlayerState.ENDED&&(t.target.seekTo(0),t.target.pauseVideo())}}])}(me),ke=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-map tl-media-shadow",this._el.content),this.media_id=this.data.url,this.mapframe=this.domCreate("iframe","",this._el.content_item),this.mapframe.width="100%",this.mapframe.height="100%",this.mapframe.frameBorder="0",this.mapframe.src=this.makeGoogleMapsEmbedURL(this.media_id,this.options.api_key_googlemaps),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){if(this._state.loaded){var t=K({w:this._el.content_item.offsetWidth});this._el.content_item.style.height=t.h+"px"}}},{key:"makeGoogleMapsEmbedURL",value:function(t,e){var i=!1,n={view:["center"],place:["q","center"],directions:["origin","destination","center"],search:["q","center"],streetview:["fov","heading","pitch"]},a=/(https:\/\/.+google.+?\/maps)/,r=/@([-\d.]+),([-\d.]+)/,s=/([\w\W]+)/,o=/,((?:[-\d.]+[zmayht],?)*)/,c={view:new RegExp(a.source+"/"+r.source+o.source),place:new RegExp(a.source+"/place/"+s.source+"/"+r.source+o.source),directions:new RegExp(a.source+"/dir/"+s.source+"/"+s.source+"/"+r.source+o.source),search:new RegExp(a.source+"/search/"+s.source+"/"+r.source+o.source)};return function(t){function a(e,a){if("z"==e.slice(-1))a.zoom=e;else if("m"==e.slice(-1))a.zoom=14,a.maptype="satellite";else if("t"==e.slice(-1)){if(i=!0,"place"==r)var s=t.match(c.place)[3]+","+t.match(c.place)[4];else s=a.center,delete a.center;for(var o in(a={}).location=s,streetview_params=e.split(","),n.streetview){var l=parseInt(o)+1;"pitch"==n.streetview[o]&&"90t"==streetview_params[l]?a[n.streetview[o]]=0:a[n.streetview[o]]=streetview_params[l].slice(0,-1)}}return a}var r="view";return t.match(c.place)?r="place":t.match(c.directions)?r="directions":t.match(c.search)&&(r="search"),function(t,r){var s={},o=r[1],c=r[r.length-1];for(var l in n[t]){var u=parseInt(l)+2;"center"==n[t][l]?s[n[t][l]]=r[u]+","+r[++u]:s[n[t][l]]=r[u]}return(s=a(c,s)).key=e,1==i&&(t="streetview"),o+"/embed/v1/"+t+function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+"="+t[i]);return"?"+e.join("&")}(s)}(r,t.match(c[r]))}(t)}}])}(me),we=function(t){function e(t,i,n){var a;return Object(vi["a"])(this,e),a=Object(yi["a"])(this,e,[t,i,n]),a.blockquote=Wt.a.sanitize(a.data.url),a}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-blockquote",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this._el.content_item.innerHTML=this.blockquote,this.onLoaded()}},{key:"updateMediaDisplay",value:function(){}}])}(me),xe=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-wikipedia",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.media_id=this.data.url.split("wiki/")[1].split("#")[0].replace("_"," "),this.media_id=this.media_id.replace(" ","%20"),t="https://"+this.data.url.split("//")[1].split(".wikipedia")[0]+".wikipedia.org/w/api.php?action=query&prop=extracts|pageimages&redirects=&titles="+this.media_id+"&exintro=1&format=json&callback=?",gt({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("wikipedia_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})}},{key:"createMedia",value:function(t){var e="";if(t.query){var i="";(e={entry:{},title:"",text:"",extract:"",paragraphs:1,page_image:"",text_array:[]}).entry=function(t,e){if(void 0!==t){var i=0;for(var n in t){if(e===i)return t[n];i++}return""}return""}(t.query.pages,0),e.extract=e.entry.extract,e.title=e.entry.title,e.page_image=e.entry.thumbnail,e.extract.match("<p>")?e.text_array=e.extract.split("<p>"):e.text_array.push(e.extract);for(var n=0;n<e.text_array.length;n++)n+1<=e.paragraphs&&n+1<e.text_array.length&&(e.text+="<p>"+e.text_array[n+1]);i+="<span class='tl-icon-wikipedia'></span>",i+="<div class='tl-wikipedia-title'><h4><a href='"+this.data.url+"' target='_blank'>"+e.title+"</a></h4>",i+="<span class='tl-wikipedia-source'>"+this._("wikipedia")+"</span></div>",e.page_image,i+=e.text,e.extract.match("REDIRECT")||(this._el.content_item.innerHTML=i,this.onLoaded())}}},{key:"updateMediaDisplay",value:function(){}}])}(me),je=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-soundcloud tl-media-shadow",this._el.content),this.media_id=this.data.url,t="https://soundcloud.com/oembed?url="+this.media_id+"&format=js&callback=?",_t(t,(function(t){ge("https://w.soundcloud.com/player/api.js",(function(){e.createMedia(t)}))}))}},{key:"createMedia",value:function(t){this._el.content_item.innerHTML=t.html,self.widget=SC.Widget(this._el.content_item.querySelector("iframe")),this.soundCloudCreated=!0,this.onLoaded()}},{key:"_stopMedia",value:function(){this.soundCloudCreated&&self.widget.pause()}}])}(me),Te=function(e){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,e),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vimeo tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0];var i=null;this.data.url.match(/#t=([^&]+).*/)&&(i=this.data.url.match(/#t=([^&]+).*/)[1]),t="https://player.vimeo.com/video/"+this.media_id+"?api=1&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff",i&&(t=t+="&amp;#t="+i),this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",(function(t){e.onMediaLoaded()})),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=X({w:this._el.content_item.offsetWidth})+"px"}},{key:"_stopMedia",value:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){P(t)}}}])}(me),Se=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-dailymotion",this._el.content),this.data.url.match("video")?this.media_id=this.data.url.split("video/")[1].split(/[?&]/)[0]:this.media_id=this.data.url.split("embed/")[1].split(/[?&]/)[0],t="https://www.dailymotion.com/embed/video/"+this.media_id+"?api=postMessage",this._el.content_item.innerHTML="<iframe autostart='false' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._state.loaded&&(this._el.content_item.style.height=X({w:this._el.content_item.offsetWidth})+"px")}},{key:"_stopMedia",value:function(){this._state.loaded&&this._el.content_item.querySelector("iframe").contentWindow.postMessage('{"command":"pause","parameters":[]}',"*")}}])}(me),Oe=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-vine tl-media-shadow",this._el.content),this.media_id=this.data.url.split("vine.co/v/")[1],t="https://vine.co/v/"+this.media_id+"/embed/simple",this._el.content_item.innerHTML="<iframe frameborder='0' width='100%' height='100%' src='"+t+"'></iframe><script async src='https://platform.vine.co/static/scripts/embed.js' charset='utf-8'><\/script>",this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){var t=K({w:this._el.content_item.offsetWidth,h:this.options.height});this._el.content_item.style.height=t.h+"px"}},{key:"_stopMedia",value:function(){this._el.content_item.querySelector("iframe").contentWindow.postMessage("pause","*")}}])}(me),Ce=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t,e=this;if(this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text",this.data.url.match("^(https?:)?/*(www.)?twitter.com"))this.data.url.match("status/")?this.media_id=this.data.url.split("status/")[1]:this.data.url.match("statuses/")?this.media_id=this.data.url.split("statuses/")[1]:this.media_id="";else if(this.data.url.match("<blockquote class=['\"]twitter-tweet['\"]")){var i=this.data.url.match(/(status|statuses)\/(\d+)/);if(!(i&&i.length>2))return void e.loadErrorDisplay(e._("twitterembed_invalidurl_err"));this.media_id=i[2]}t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",gt({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})}},{key:"createMedia",value:function(t){var e,i,n,a="",r="",s="",o=this;r=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",e=t.author_url.split("twitter.com/")[1],i=(s=t.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=s.split('">')[1].split("</a>")[0],(r=r.replace(/<a href/gi,'<a target="_blank" href')).includes("pic.twitter.com")?(ge("https://platform.twitter.com/widgets.js",(function(){twttr.widgets.createTweet(o.media_id,o._el.content_item,{conversation:"none",linkColor:"#cc0000",theme:"light"})})),this.onLoaded()):(a+=r,a+="<div class='vcard'>",a+="<a href='"+i+"' class='twitter-date' target='_blank'>"+n+"</a>",a+="<img src='' class='tl-media-item tl-media-image' target='_blank'></a>",a+="<div class='author'>",a+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",a+="<span class='avatar'></span>",a+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",a+="<span class='nickname'>@"+e+"<span class='thumbnail-inline'></span></span>",a+="</a>",a+="</div>",a+="</div>",this._el.content_item.innerHTML=a,this.onLoaded())}},{key:"updateMediaDisplay",value:function(){}},{key:"_updateMediaDisplay",value:function(){}}])}(me),Ae=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-twitter",this._el.content),this._el.content_container.className="tl-media-content-container tl-media-content-container-text";var i,n,a,r,s,o,c=this.data.url.match(/(status|statuses)\/(\d+)/);c&&c.length>2?(this.media_id=c[2],t="https://api.twitter.com/1/statuses/oembed.json?id="+this.media_id+"&omit_script=true&include_entities=true&callback=?",window.twttr=(i=document,n="script",a="twitter-wjs",s=i.getElementsByTagName(n)[0],o=window.twttr||{},i.getElementById(a)||((r=i.createElement(n)).id=a,r.src="https://platform.twitter.com/widgets.js",s.parentNode.insertBefore(r,s),o._e=[],o.ready=function(t){o._e.push(t)}),o),gt({type:"GET",url:t,dataType:"json",success:function(t){e.createMedia(t)},error:function(t,i){var n="";n+=e._("twitter_load_err")+"<br/>"+e.media_id+"<br/>"+i,e.loadErrorDisplay(n)}})):e.loadErrorDisplay(e._("twitterembed_invalidurl_err"))}},{key:"createMedia",value:function(t){var e,i,n,a="",r="",s="";r=t.html.split("</p>&mdash;")[0]+"</p></blockquote>",e=t.author_url.split("twitter.com/")[1],i=(s=t.html.split("</p>&mdash;")[1].split('<a href="')[1]).split('">')[0],n=s.split('">')[1].split("</a>")[0],r=r.replace(/<a href/gi,'<a target="_blank" href');var o=this.media_id;r.includes("pic.twitter.com")?(twttr.ready((function(t){a=document.getElementsByClassName("tl-media-twitter")[0];var e=String(o);twttr.widgets.createTweet(e,a,{conversation:"none",linkColor:"#cc0000",theme:"light"}).then((function(t){this.onLoaded()}))})),this._el.content_item.innerHTML=a,this.onLoaded()):(a+=r,a+="<div class='vcard'>",a+="<a href='"+i+"' class='twitter-date' target='_blank'>"+n+"</a>",a+="<div class='author'>",a+="<a class='screen-name url' href='"+t.author_url+"' target='_blank'>",a+="<span class='avatar'></span>",a+="<span class='fn'>"+t.author_name+" <span class='tl-icon-twitter'></span></span>",a+="<span class='nickname'>@"+e+"<span class='thumbnail-inline'></span></span>",a+="</a>",a+="</div>",a+="</div>",this._el.content_item.innerHTML=a,this.onLoaded())}},{key:"updateMediaDisplay",value:function(){}},{key:"_updateMediaDisplay",value:function(){}}])}(me),Me=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t,e=this;try{this.establishMediaID(),t="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",_t(t,(function(t){"ok"==t.stat?(e.sizes=t.sizes.size,e.options.background||e.createMedia(),e.onLoaded()):e.loadErrorDisplay(e._("flickr_notfound_err"))}))}catch(t){e.loadErrorDisplay(e._(t.message_key))}}},{key:"establishMediaID",value:function(){if(this.data.url.match(/flic.kr\/.+/i)){var t=this.data.url.split("/").slice(-1)[0];this.media_id=Q.decode(t)}else{var e=this.data.url.indexOf("flickr.com/photos/");if(-1==e)throw new C("flickr_invalidurl_err");var i=e+"flickr.com/photos/".length;this.media_id=this.data.url.substr(i).split("/")[1]}}},{key:"createMedia",value:function(){var t=this;this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-flickr tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=G(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=G(this.data.caption)),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.content_item.src=this.getImageURL(this.options.width,this.options.height)}},{key:"getImageURL",value:function(t,e){for(var i=this.size_label(e),n=this.sizes[this.sizes.length-2].source,a=0;a<this.sizes.length;a++)this.sizes[a].label==i&&(n=this.sizes[a].source);return n}},{key:"_getMeta",value:function(){var t,e=this;t="https://api.flickr.com/services/rest/?method=flickr.photos.getInfo&api_key="+this.options.api_key_flickr+"&photo_id="+this.media_id+"&format=json&jsoncallback=?",_t(t,(function(t){e.data.credit_alternate="<a href='"+e.data.url+"' target='_blank'>"+t.photo.owner.realname+"</a>",e.data.caption_alternate=t.photo.title._content+" "+t.photo.description._content,e.updateMeta()}))}},{key:"size_label",value:function(t){return t<=75?t<=0?"Large":"Thumbnail":t<=180?"Small":t<=240?"Small 320":t<=375?"Medium":t<=480?"Medium 640":"Large"}}])}(me),Le=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-documentcloud tl-media-shadow",this._el.content),this._el.content_item.id=W(7),this.data.url.match(/\.html$/)?this.data.url=this._transformURL(this.data.url):this.data.url.match(/.(json|js)$/)||P("DOCUMENT CLOUD IN URL BUT INVALID SUFFIX"),ge(["https://assets.documentcloud.org/viewer/loader.js","https://assets.documentcloud.org/viewer/viewer.js"],(function(){t.createMedia()}))}},{key:"_transformURL",value:function(t){return t.replace(/(.*)\.html$/,"$1.js")}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}},{key:"createMedia",value:function(){DV.load(this.data.url,{container:"#"+this._el.content_item.id,showSidebar:!1}),this.onLoaded()}}])}(me),Ee="https://graph.facebook.com/v8.0/instagram_oembed?access_token=704270473831239|830b21071290df4f81a35c56abbea096&fields=html,thumbnail_url,author_name&url=";function Re(t){this.oembed_response=t,this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.url,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-instagram tl-media-shadow",this._el.content_link),this.data.alt?this._el.content_item.alt=this.data.alt:this.data.caption&&(this._el.content_item.alt=G(this.data.caption)),this.data.title?this._el.content_item.title=this.data.title:this.data.caption&&(this._el.content_item.title=G(this.data.caption)),this._el.content_item.addEventListener("load",function(t){this.onMediaLoaded()}.bind(this)),this._el.content_item.src=t.thumbnail_url,this.onLoaded()}function Pe(t){var e="".concat(t.statusText," [").concat(t.status,"]");400==t.status&&(e=this._("instagram_bad_request")),this.loadErrorDisplay(e)}var De=function(t){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,t),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){this.media_id=this.data.url.split("/p/")[1].split("/")[0],this.options.background||this.createMedia()}},{key:"createMedia",value:function(){this.oembed_response=null;var t="".concat(Ee).concat(this.data.url);try{gt({url:t,dataType:"json",success:Re,error:Pe,context:this})}catch(e){console.log("Instagram: error fetching ".concat(t)),console.log(e)}}},{key:"getImageURL",value:function(){if(this.oembed_response&&this.oembed_response.thumbnail_url)return this.oembed_response.thumbnail_url;vt("".concat(Ee).concat(this.data.url)).then((function(t){return t.thumbnail_url})).catch((function(t){P("Instagram getImageURL Error: ".concat(t.status," ").concat(t.statusText))}))}},{key:"_getMeta",value:function(){this.oembed_response&&this.oembed_response.author_name&&(this.data.credit_alternate='Instagram: <a href="https://instagram.com/'.concat(this.oembed_response.author_name,'" target="_blank">@').concat(this.oembed_response.author_name,"</a>")),this.updateMeta()}},{key:"sizes",value:function(t){return t<=150?"t":t<=306?"m":"l"}}])}(me),qe=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("img","tl-media-item tl-media-image tl-media-profile tl-media-shadow",this._el.content),this._el.content_item.src=this.data.url,this.onLoaded()}},{key:"_updateMediaDisplay",value:function(t){_&&(this._el.content_item.style.maxWidth=this.options.width/2-40+"px")}}])}(me),Ne=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),t=this.data.url.match(/open\?id=([^&]+)/)?"https://drive.google.com/file/d/"+this.data.url.match(/open\?id=([^&]+)/)[1]+"/preview":this.data.url.match(/file\/d\/([^/]*)\/?/)?"https://drive.google.com/file/d/"+this.data.url.match(/file\/d\/([^/]*)\/?/)[1]+"/preview":this.data.url,this._el.content_item.innerHTML="<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}}])}(me),Ie=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t;if(this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-spotify",this._el.content),(this.data.url.match(/^spotify:track/)||this.data.url.match(/^spotify:album/)||this.data.url.match(/^spotify:user:.+:playlist:/))&&(this.media_id=this.data.url),this.data.url.match(/spotify\.com\/track\/(.+)/))this.media_id="spotify:track:"+this.data.url.match(/spotify\.com\/track\/(.+)/)[1];else if(this.data.url.match(/spotify\.com\/album\/(.+)/))this.media_id="spotify:album:"+this.data.url.match(/spotify\.com\/album\/(.+)/)[1];else if(this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)){var e=this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)[1],i=this.data.url.match(/spotify\.com\/user\/(.+?)\/playlist\/(.+)/)[2];this.media_id="spotify:user:"+e+":playlist:"+i}else if(this.data.url.match(/spotify\.com\/artist\/(.+)/)){var n=this.data.url.match(/spotify\.com\/artist\/(.+)/)[1];this.media_id="spotify:artist:"+n}this.media_id?(t="https://embed.spotify.com/?uri="+this.media_id+"&theme=white&view=coverart",this.player=this.domCreate("iframe","tl-media-shadow",this._el.content_item),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.onLoaded()):this.loadErrorDisplay(this._("spotify_invalid_url"))}},{key:"_updateMediaDisplay",value:function(t){var e=this.options.height,i=0,n=0;e=d?this.options.height/2:this.options.height-this.options.credit_height-this.options.caption_height-30,this._el.content_item.style.maxHeight="none",P(e),P(this.options.width),e>this.options.width?(P("height is greater"),i=this.options.width+80+"px",n=this.options.width+"px"):(P("width is greater"),P(this.options.width),i=e+"px",n=e-80+"px"),this.player.style.width=n,this.player.style.height=i,this._el.credit&&(this._el.credit.style.width=n),this._el.caption&&(this._el.caption.style.width=n)}},{key:"_stopMedia",value:function(){}}])}(me),Fe=function(t){function e(t,i,n){var a;return Object(vi["a"])(this,e),a=Object(yi["a"])(this,e,[t,i,n]),a.iframe=Wt.a.sanitize(a.data.url,{ADD_TAGS:["iframe"],ADD_ATTR:["frameborder"]}),a}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content),this._el.content_item.innerHTML=this.iframe,this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}}])}(me),ze=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){try{var t=this;if(this.data.url.match("<blockquote class=['\"]imgur-embed-pub['\"]")){var e=this.data.url.match(/(imgur\.com)\/(\w+)/);this.media_id=e[2],this.data.url="http://imgur.com/gallery/"+this.media_id}else this.data.url&&(this.media_id=this.data.url.split("/").slice(-1)[0]);ge(["https://s.imgur.com/min/embed.js"],(function(){t.createMedia()}))}catch(t){this.loadErrorDisplay(this._("imgur_invalidurl_err"))}}},{key:"createMedia",value:function(){var t=this,e="https://api.imgur.com/oembed.json?url="+this.data.url;this._el.content_item=this.domCreate("div","tl-media-item tl-media-image tl-media-imgur",this._el.content),gt({type:"GET",url:e,dataType:"json",success:function(e){try{t._el.content_item.innerHTML=e.html,setInterval((function(){null==document.querySelector("blockquote.imgur-embed-pub")?clearInterval():(imgurEmbed.createIframe(),document.getElementById("imageElement").removeAttribute("style"),document.getElementById("image").removeAttribute("style"))}),2e3)}catch(t){P("Error processing imgur ajax response")}},error:function(e,i,n){"parsererror"==i?t.loadErrorDisplay(t._("imgur_invalidurl_err")):t.loadErrorDisplay(t._("unknown_read_err",i))}}),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.width=this.options.width+"px",this._el.content_item.style.height=X({w:this.options.width})+"px"}}])}(me),He=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){var t=V(this.data.url);this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe",this._el.content);var e="";e=o||g||t.match(/dl.dropboxusercontent.com/)?"<iframe class='doc' frameborder='0' width='100%' height='100%' src='//docs.google.com/viewer?url="+t+"&amp;embedded=true'></iframe>":"<iframe class='doc' frameborder='0' width='100%' height='100%' src='"+t+"'></iframe>",this._el.content_item.innerHTML=e,this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=this.options.height+"px"}}])}(me),We=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}},{key:"createMedia",value:function(){var t=this,e="tl-media-item tl-media-audio tl-media-shadow";this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("audio",e,this._el.content_link)):this._el.content_item=this.domCreate("audio",e,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 audio with "+this._el.source_item.type}},{key:"_updateMediaDisplay",value:function(t){_&&(this._el.content_item.style.width="auto")}},{key:"_getType",value:function(t,e){var i="audio/";switch(t.match(e)[1]){case"mp3":i+="mpeg";break;case"wav":i+="wav";break;case"m4a":i+="mp4";break;default:i="audio"}return i}}])}(me),Be=function(t){function e(){return Object(vi["a"])(this,e),Object(yi["a"])(this,e,arguments)}return Object(bi["a"])(e,t),Object(gi["a"])(e,[{key:"_loadMedia",value:function(){this.loadingMessage(),this.options.background||this.createMedia(),this.onLoaded()}},{key:"createMedia",value:function(){var t=this,e="tl-media-item tl-media-video tl-media-shadow";this.data.link?(this._el.content_link=this.domCreate("a","",this._el.content),this._el.content_link.href=this.data.link,this._el.content_link.target="_blank",this._el.content_item=this.domCreate("video",e,this._el.content_link)):this._el.content_item=this.domCreate("video",e,this._el.content),this._el.content_item.controls=!0,this._el.source_item=this.domCreate("source","",this._el.content_item),this._el.content_item.addEventListener("load",(function(e){t.onMediaLoaded()})),this._el.source_item.src=this.data.url,this._el.source_item.type=this._getType(this.data.url,this.data.mediatype.match_str),this._el.content_item.innerHTML+="Your browser doesn't support HTML5 video with "+this._el.source_item.type}},{key:"_updateMediaDisplay",value:function(t){_&&(this._el.content_item.style.width="auto")}},{key:"_getType",value:function(t,e){var i="video/";switch(t.match(e)[1]){case"mp4":i+="mp4";break;default:i="video"}return i}}])}(me),Ue=function(e){function i(){return Object(vi["a"])(this,i),Object(yi["a"])(this,i,arguments)}return Object(bi["a"])(i,e),Object(gi["a"])(i,[{key:"_loadMedia",value:function(){var t,e=this;this._el.content_item=this.domCreate("div","tl-media-item tl-media-iframe tl-media-wistia tl-media-shadow",this._el.content),this.media_id=this.data.url.split(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/medias\/(.*)/)[3],P("Wistia: media_id: ".concat(this.media_id)),t="https://fast.wistia.com/embed/iframe/"+this.media_id+"?version=v1&controlsVisibleOnLoad=true&playerColor=aae3d8",this.player=this.domCreate("iframe","",this._el.content_item),this.player.addEventListener("load",(function(t){e.onMediaLoaded()})),this.player.width="100%",this.player.height="100%",this.player.frameBorder="0",this.player.src=t,this.player.setAttribute("allowfullscreen",""),this.player.setAttribute("webkitallowfullscreen",""),this.player.setAttribute("mozallowfullscreen",""),this.onLoaded()}},{key:"_updateMediaDisplay",value:function(){this._el.content_item.style.height=X({w:this._el.content_item.offsetWidth})+"px"}},{key:"_stopMedia",value:function(){try{this.player.contentWindow.postMessage(JSON.stringify({method:"pause"}),"https://player.vimeo.com")}catch(t){P(t)}}}])}(me);function $e(t,e){var i=[{type:"youtube",name:"YouTube",match_str:"^(https?:)?/*(www.)?youtube|youtu.be",cls:be},{type:"vimeo",name:"Vimeo",match_str:"^(https?:)?/*(player.)?vimeo.com",cls:Te},{type:"dailymotion",name:"DailyMotion",match_str:"^(https?:)?/*(www.)?dailymotion.com",cls:Se},{type:"vine",name:"Vine",match_str:"^(https?:)?/*(www.)?vine.co",cls:Oe},{type:"soundcloud",name:"SoundCloud",match_str:"^(https?:)?/*(player.)?soundcloud.com",cls:je},{type:"twitter",name:"Twitter",match_str:"^(https?:)?/*(www.)?twitter.com",cls:Ce},{type:"twitterembed",name:"TwitterEmbed",match_str:"<blockquote class=['\"]twitter-tweet['\"]",cls:Ae},{type:"googlemaps",name:"Google Map",match_str:/google.+?\/maps\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/search\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/place\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)|google.+?\/maps\/dir\/([\w\W]+)\/([\w\W]+)\/@([-\d.]+),([-\d.]+),((?:[-\d.]+[zmayht],?)*)/,cls:ke},{type:"flickr",name:"Flickr",match_str:"^(https?:)?/*(www.)?flickr.com/photos",cls:Me},{type:"flickr",name:"Flickr",match_str:"^(https?://)?flic.kr/.*",cls:Me},{type:"instagram",name:"Instagram",match_str:/^(https?:)?\/*(www.)?(instagr.am|^(https?:)?\/*(www.)?instagram.com)\/p\//,cls:De},{type:"profile",name:"Profile",match_str:/^(https?:)?\/*(www.)?instagr.am\/[a-zA-Z0-9]{2,}|^(https?:)?\/*(www.)?instagram.com\/[a-zA-Z0-9]{2,}/,cls:qe},{type:"documentcloud",name:"Document Cloud",match_str:/documentcloud.org\//,cls:Le},{type:"image",name:"Image",match_str:/(jpg|jpeg|png|gif|svg)(\?.*)?$/i,cls:_e},{type:"imgur",name:"Imgur",match_str:/^.*imgur.com\/.+$|<blockquote class=['\"]imgur-embed-pub['\"]/i,cls:ze},{type:"googledocs",name:"Google Doc",match_str:"^(https?:)?/*[^.]*.google.com/[^/]*/d/[^/]*/[^/]*?usp=sharing|^(https?:)?/*drive.google.com/open?id=[^&]*&authuser=0|^(https?:)?//*drive.google.com/open\\?id=[^&]*|^(https?:)?/*[^.]*.googledrive.com/host/[^/]*/",cls:Ne},{type:"pdf",name:"PDF",match_str:/^.*\.pdf(\?.*)?(\#.*)?/,cls:He},{type:"wikipedia",name:"Wikipedia",match_str:"^(https?:)?/*(www.)?wikipedia.org|^(https?:)?/*([a-z][a-z].)?wikipedia.org",cls:xe},{type:"spotify",name:"spotify",match_str:"spotify",cls:Ie},{type:"iframe",name:"iFrame",match_str:"iframe",cls:Fe},{type:"blockquote",name:"Quote",match_str:"blockquote",cls:we},{type:"video",name:"Video",match_str:/(mp4)(\?.*)?$/i,cls:Be},{type:"wistia",name:"Wistia",match_str:/https?:\/\/(.+)?(wistia\.com|wi\.st)\/.*/i,cls:Ue},{type:"audio",name:"Audio",match_str:/(mp3|wav|m4a)(\?.*)?$/i,cls:We},{type:"imageblank",name:"Imageblank",match_str:"",cls:_e}];if(e){if(t instanceof Array)return!1;for(var n=0;n<i.length;n++)switch(i[n].type){case"flickr":case"image":case"instagram":if(t.url.match(i[n].match_str))return i[n]}}else for(n=0;n<i.length;n++)if(t.url.match(i[n].match_str))return i[n];return!1}var Ge=function(){function t(e,i){Object(vi["a"])(this,t),this._el={container:{},content_container:{},media_container:{},timespan:{},line_left:{},line_right:{},content:{},text:{},media:{}},this._text={},this._state={loaded:!1},this.data={unique_id:"",background:null,date:{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,thumbnail:"",format:""},text:{headline:"",text:""},media:null},this.options={duration:1e3,ease:at,width:600,height:600,marker_width_min:100},this.active=!1,this.animator={},this.has_end_date=!1,L(this.options,i),L(this.data,e),this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"show",value:function(){}},{key:"hide",value:function(){}},{key:"setActive",value:function(t){this.active=t,this.active&&this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end tl-timemarker-active":this.active?this._el.container.className="tl-timemarker tl-timemarker-active":this.has_end_date?this._el.container.className="tl-timemarker tl-timemarker-with-end":this._el.container.className="tl-timemarker"}},{key:"addTo",value:function(t){t.appendChild(this._el.container)}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container)}},{key:"updateDisplay",value:function(t,e){this._updateDisplay(t,e)}},{key:"loadMedia",value:function(){this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0)}},{key:"stopMedia",value:function(){this._media&&this._state.loaded&&this._media.stopMedia()}},{key:"getLeft",value:function(){return this._el.container.style.left.slice(0,-2)}},{key:"getTime",value:function(){return this.data.start_date.getTime()}},{key:"getEndTime",value:function(){return!!this.data.end_date&&this.data.end_date.getTime()}},{key:"setHeight",value:function(t){var e=1;this._el.content_container.style.height=t+"px",this._el.timespan_content.style.height=t+"px",this._el.content.className=t<=30?"tl-timemarker-content tl-timemarker-content-small":"tl-timemarker-content",t<=56?S(this._el.content_container,"tl-timemarker-content-container-small"):O(this._el.content_container,"tl-timemarker-content-container-small"),c?((e=Math.floor(t/14))<1&&(e=1),this._text.className="tl-headline",this._text.style.webkitLineClamp=e):(e=t/12,this._text.className=e>1?"tl-headline tl-headline-fadeout":"tl-headline",this._text.style.height=12*e+"px")}},{key:"setWidth",value:function(t){this.data.end_date&&(this._el.container.style.width=t+"px",t>this.options.marker_width_min?(this._el.content_container.style.width=t+"px",this._el.content_container.className="tl-timemarker-content-container tl-timemarker-content-container-long"):(this._el.content_container.style.width=this.options.marker_width_min+"px",this._el.content_container.className="tl-timemarker-content-container"))}},{key:"setClass",value:function(t){this._el.container.className=t}},{key:"setRowPosition",value:function(t,e){this.setPosition({top:t}),this._el.timespan.style.height=e+"px"}},{key:"_onMarkerClick",value:function(t){this.fire("markerclick",{unique_id:this.data.unique_id})}},{key:"_initLayout",value:function(){if(this._el.container=x("div","tl-timemarker"),this.data.unique_id&&(this._el.container.id=this.data.unique_id+"-marker"),this.data.end_date&&(this.has_end_date=!0,this._el.container.className="tl-timemarker tl-timemarker-with-end"),this._el.timespan=x("div","tl-timemarker-timespan",this._el.container),this._el.timespan_content=x("div","tl-timemarker-timespan-content",this._el.timespan),this._el.content_container=x("div","tl-timemarker-content-container",this._el.container),this._el.content=x("div","tl-timemarker-content",this._el.content_container),this._el.line_left=x("div","tl-timemarker-line-left",this._el.timespan),this._el.line_right=x("div","tl-timemarker-line-right",this._el.timespan),this.data.media){this._el.media_container=x("div","tl-timemarker-media-container",this._el.content);var t={url:this.data.media.thumbnail},e=this.data.media.thumbnail?$e(t,!0):null;if(e){var i=new e.cls(t);i.on("loaded",function(){this._el.media=x("img","tl-timemarker-media",this._el.media_container),this._el.media.src=i.getImageURL()}.bind(this)),i.loadMedia()}else{var n=$e(this.data.media).type;this._el.media=x("span","tl-icon-"+n,this._el.media_container)}}this._el.text=x("div","tl-timemarker-text",this._el.content),this._text=x("h2","tl-headline",this._el.text),this.data.text.headline&&""!=this.data.text.headline?this._text.innerHTML=$(this.data.text.headline):this.data.text.text&&""!=this.data.text.text?this._text.innerHTML=$(this.data.text.text):this.data.media&&this.data.media.caption&&""!=this.data.media.caption&&(this._text.innerHTML=$(this.data.media.caption)),this.onLoaded()}},{key:"_initEvents",value:function(){pt.addListener(this._el.container,"click",this._onMarkerClick,this)}},{key:"_updateDisplay",value:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}])}();z(Ge,ct,ht);var Ye=function(){function t(e,i,n){Object(vi["a"])(this,t),this._el={drag:e,move:e},this.mousedrag={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},this.touchdrag={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},i&&(this._el.move=i),this.options={snap:!1,enable:{x:!0,y:!0},constraint:{top:!1,bottom:!1,left:0,right:!1},momentum_multiplier:2e3,duration:1e3,ease:st},this.animator=null,this.dragevent=this.mousedrag,b&&(this.dragevent=this.touchdrag),this.data={sliding:!1,direction:"none",pagex:{start:0,end:0},pagey:{start:0,end:0},pos:{start:{x:0,y:0},end:{x:0,y:0}},new_pos:{x:0,y:0},new_pos_parent:{x:0,y:0},time:{start:0,end:0},touch:!1},L(this.options,n)}return Object(gi["a"])(t,[{key:"enable",value:function(t){pt.addListener(this._el.drag,this.dragevent.down,this._onDragStart,this),pt.addListener(this._el.drag,this.dragevent.up,this._onDragEnd,this),this.data.pos.start=0,this._el.move.style.left=this.data.pos.start.x+"px",this._el.move.style.top=this.data.pos.start.y+"px",this._el.move.style.position="absolute"}},{key:"disable",value:function(){pt.removeListener(this._el.drag,this.dragevent.down,this._onDragStart,this),pt.removeListener(this._el.drag,this.dragevent.up,this._onDragEnd,this)}},{key:"stopMomentum",value:function(){this.animator&&this.animator.stop()}},{key:"updateConstraint",value:function(t){this.options.constraint=t}},{key:"_onDragStart",value:function(t){this.animator&&this.animator.stop(),b?t.originalEvent?(this.data.pagex.start=t.originalEvent.touches[0].screenX,this.data.pagey.start=t.originalEvent.touches[0].screenY):(this.data.pagex.start=t.targetTouches[0].screenX,this.data.pagey.start=t.targetTouches[0].screenY):(this.data.pagex.start=t.pageX,this.data.pagey.start=t.pageY),this.options.enable.x,this.options.enable.y,this.data.pos.start={x:this._el.move.offsetLeft,y:this._el.move.offsetTop},this.data.time.start=(new Date).getTime(),this.fire("dragstart",this.data),pt.addListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pt.addListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this)}},{key:"_onDragEnd",value:function(t){this.data.sliding=!1,pt.removeListener(this._el.drag,this.dragevent.move,this._onDragMove,this),pt.removeListener(this._el.drag,this.dragevent.leave,this._onDragEnd,this),this.fire("dragend",this.data),this._momentum()}},{key:"_onDragMove",value:function(t){var e={x:0,y:0};this.data.sliding=!0,b?t.originalEvent?(this.data.pagex.end=t.originalEvent.touches[0].screenX,this.data.pagey.end=t.originalEvent.touches[0].screenY):(this.data.pagex.end=t.targetTouches[0].screenX,this.data.pagey.end=t.targetTouches[0].screenY):(this.data.pagex.end=t.pageX,this.data.pagey.end=t.pageY),e.x=this.data.pagex.start-this.data.pagex.end,e.y=this.data.pagey.start-this.data.pagey.end,this.data.pos.end={x:this._el.drag.offsetLeft,y:this._el.drag.offsetTop},this.data.new_pos.x=-(e.x-this.data.pos.start.x),this.data.new_pos.y=-(e.y-this.data.pos.start.y),this.options.enable.x&&Math.abs(e.x)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.left=this.data.new_pos.x+"px"),this.options.enable.y&&Math.abs(e.y)>Math.abs(e.y)&&(t.preventDefault(),this._el.move.style.top=this.data.new_pos.y+"px"),this.fire("dragmove",this.data)}},{key:"_momentum",value:function(){var t={x:0,y:0,time:0},e={x:0,y:0,time:0},i={x:!1,y:!1},n=!1;this.data.direction=null,t.time=10*((new Date).getTime()-this.data.time.start),e.time=10*((new Date).getTime()-this.data.time.start),e.x=this.options.momentum_multiplier*(Math.abs(this.data.pagex.end)-Math.abs(this.data.pagex.start)),e.y=this.options.momentum_multiplier*(Math.abs(this.data.pagey.end)-Math.abs(this.data.pagey.start)),t.x=Math.round(e.x/e.time),t.y=Math.round(e.y/e.time),this.data.new_pos.x=Math.min(this.data.new_pos.x+t.x),this.data.new_pos.y=Math.min(this.data.new_pos.y+t.y),this.options.enable.x?this.options.constraint.left&&this.data.new_pos.x>this.options.constraint.left&&(this.data.new_pos.x=this.options.constraint.left):this.data.new_pos.x=this.data.pos.start.x,this.options.enable.y?this.data.new_pos.y<0&&(this.data.new_pos.y=0):this.data.new_pos.y=this.data.pos.start.y,e.time<2e3&&(n=!0),this.options.enable.x&&this.options.enable.y?Math.abs(e.x)>Math.abs(e.y)?i.x=!0:i.y=!0:this.options.enable.x?Math.abs(e.x)>Math.abs(e.y)&&(i.x=!0):Math.abs(e.y)>Math.abs(e.x)&&(i.y=!0),i.x&&(Math.abs(e.x)>this._el.drag.offsetWidth/2&&(n=!0),Math.abs(e.x)>1e4&&(this.data.direction="left",e.x>0&&(this.data.direction="right"))),i.y&&(Math.abs(e.y)>this._el.drag.offsetHeight/2&&(n=!0),Math.abs(e.y)>1e4&&(this.data.direction="up",e.y>0&&(this.data.direction="down"))),e.time<1e3||this._animateMomentum(),n&&this.data.direction?this.fire("swipe_"+this.data.direction,this.data):this.data.direction?this.fire("swipe_nodirection",this.data):this.options.snap&&(this.animator.stop(),this.animator=lt(this._el.move,{top:this.data.pos.start.y,left:this.data.pos.start.x,duration:this.options.duration,easing:rt}))}},{key:"_animateMomentum",value:function(){var t={x:this.data.new_pos.x,y:this.data.new_pos.y},e={duration:this.options.duration,easing:rt};this.options.enable.y&&((this.options.constraint.top||this.options.constraint.bottom)&&(t.y>this.options.constraint.bottom?t.y=this.options.constraint.bottom:t.y<this.options.constraint.top&&(t.y=this.options.constraint.top)),e.top=Math.floor(t.y)+"px"),this.options.enable.x&&(this.options.constraint.left&&t.x>=this.options.constraint.left&&(t.x=this.options.constraint.left),this.options.constraint.right&&t.x<this.options.constraint.right&&(t.x=this.options.constraint.right),e.left=Math.floor(t.x)+"px"),this.animator=lt(this._el.move,e),this.fire("momentum",this.data)}}])}();z(Ye,ct);var Ve=function(){function t(e,i,n,a){Object(vi["a"])(this,t),this.language=a,this._el={parent:{},container:{},slider:{},slider_background:{},line:{},marker_container_mask:{},marker_container:{},marker_item_container:{},timeaxis:{},timeaxis_background:{},attribution:{}},this.collapsed=!1,this._el.container="object"==Object(wi["a"])(e)?e:w(e),this.config=i,this.options={width:600,height:600,duration:1e3,ease:st,has_groups:!1,optimal_tick_width:50,scale_factor:2,marker_padding:5,timenav_height_min:150,marker_height_min:30,marker_width_min:100,zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89]},this.animator=null,this.ready=!1,this._markers=[],this._eras=[],this.has_eras=!1,this._groups=[],this._calculated_row_height=100,this.current_id="",this.timescale={},this.timeaxis={},this.max_rows=6,this.animate_css=!1,this._swipable,L(this.options,n)}return Object(gi["a"])(t,[{key:"init",value:function(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this._onLoaded()}},{key:"positionMarkers",value:function(t){for(var e=0;e<this._markers.length;e++){var i=this.timescale.getPositionInfo(e);t?this._markers[e].setClass("tl-timemarker tl-timemarker-fast"):this._markers[e].setClass("tl-timemarker"),this._markers[e].setPosition({left:i.start}),this._markers[e].setWidth(i.width)}}},{key:"updateDisplay",value:function(t,e,i){var n=!1;t&&(0==this.options.width&&t>0&&(n=!0),this.options.width=t),e&&e!=this.options.height&&(this.options.height=e,this.timescale=this._getTimeScale()),this._assignRowsToMarkers(),this._el.slider_background.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._el.slider_background.style.left=-this.options.width/2+"px",this._el.slider.style.width=this.timescale.getPixelWidth()+this.options.width+"px",this._swipable.updateConstraint({top:!1,bottom:!1,left:this.options.width/2,right:-(this.timescale.getPixelWidth()-this.options.width/2)}),n&&this._drawTimeline(),this.goToId(this.current_id,!0)}},{key:"_getTimeScale",value:function(){var t=0;try{t=parseInt(this.options.marker_height_min)}catch(e){P("Invalid value for marker_height_min option."),t=30}return 0==t&&(P("marker_height_min option must not be zero."),t=30),this.max_rows=Math.round((this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding)/t),this.max_rows<1&&(this.max_rows=1),new ue(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows})}},{key:"_updateTimeScale",value:function(t){this.options.scale_factor=t,this._updateDrawTimeline()}},{key:"zoomIn",value:function(){var t=function(t,e,i){for(var n=0;n<t.length;n++)if(e<t[n])return t[n];return i||e}(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)}},{key:"zoomOut",value:function(){var t=function(t,e,i){for(var n=t.length-1;n>=0;n--)if(e>t[n])return t[n];return i||e}(this.options.zoom_sequence,this.options.scale_factor);this.setZoomFactor(t)}},{key:"setZoom",value:function(t){var e=this.options.zoom_sequence[t];"number"==typeof e?this.setZoomFactor(e):console.warn("Invalid zoom level. Please use an index number between 0 and "+(this.options.zoom_sequence.length-1))}},{key:"setZoomFactor",value:function(t){t<=this.options.zoom_sequence[0]?this.fire("zoomtoggle",{zoom:"out",show:!1}):this.fire("zoomtoggle",{zoom:"out",show:!0}),t>=this.options.zoom_sequence[this.options.zoom_sequence.length-1]?this.fire("zoomtoggle",{zoom:"in",show:!1}):this.fire("zoomtoggle",{zoom:"in",show:!0}),0==t&&(console.warn("Zoom factor must be greater than zero. Using 0.1"),t=.1),this.options.scale_factor=t,this.goToId(this.current_id,!this._updateDrawTimeline(!0),!0)}},{key:"_createGroups",value:function(){this._groups=[];var t=this.timescale.getGroupLabels();if(t){this.options.has_groups=!0;for(var e=0;e<t.length;e++)this._createGroup(t[e])}}},{key:"_createGroup",value:function(t){var e=new he(t);this._addGroup(e),this._groups.push(e)}},{key:"_addGroup",value:function(t){t.addTo(this._el.container)}},{key:"_positionGroups",value:function(){if(this.options.has_groups)for(var t=this.options.height-this._el.timeaxis_background.offsetHeight,e=Math.floor(t/this.timescale.getNumberOfRows()-this.options.marker_padding),i=(this.timescale.getGroupLabels(),0),n=0;i<this._groups.length;i++){var a=Math.floor(n*(e+this.options.marker_padding)),r=!1;a>t-this.options.marker_padding&&(r=!0),this._groups[i].setRowPosition(a,this._calculated_row_height+this.options.marker_padding/2),this._groups[i].setAlternateRowColor(B(i),r),n+=this._groups[i].data.rows}}},{key:"_addMarker",value:function(t){t.addTo(this._el.marker_item_container),t.on("markerclick",this._onMarkerClick,this),t.on("added",this._onMarkerAdded,this)}},{key:"_createMarker",value:function(t,e){var i=new Ge(t,this.options);this._addMarker(i),e<0?this._markers.push(i):this._markers.splice(e,0,i)}},{key:"_createMarkers",value:function(t){for(var e=0;e<t.length;e++)this._createMarker(t[e],-1)}},{key:"_removeMarker",value:function(t){t.removeFrom(this._el.marker_item_container)}},{key:"_destroyMarker",value:function(t){this._removeMarker(this._markers[t]),this._markers.splice(t,1)}},{key:"_calculateMarkerHeight",value:function(t){return t/this.timescale.getNumberOfRows()-this.options.marker_padding}},{key:"_calculateRowHeight",value:function(t){return t/this.timescale.getNumberOfRows()}},{key:"_calculateAvailableHeight",value:function(){return this.options.height-this._el.timeaxis_background.offsetHeight-this.options.marker_padding}},{key:"_calculateMinimumTimeNavHeight",value:function(){return this.timescale.getNumberOfRows()*this.options.marker_height_min+this._el.timeaxis_background.offsetHeight+this.options.marker_padding}},{key:"getMinimumHeight",value:function(){return this._calculateMinimumTimeNavHeight()}},{key:"_assignRowsToMarkers",value:function(){var t=this._calculateAvailableHeight(),e=this._calculateMarkerHeight(t);this._positionGroups(),this._calculated_row_height=this._calculateRowHeight(t);for(var i=0;i<this._markers.length;i++){this._markers[i].setHeight(e);var n=this.timescale.getPositionInfo(i).row,a=Math.floor(n*(e+this.options.marker_padding))+this.options.marker_padding,r=t-a+this.options.marker_padding;this._markers[i].setRowPosition(a,r)}}},{key:"_resetMarkersActive",value:function(){for(var t=0;t<this._markers.length;t++)this._markers[t].setActive(!1)}},{key:"_findMarkerIndex",value:function(t){var e=-1;return("string"==typeof t||t instanceof String)&&(e=U(t,this._markers,"unique_id",e)),e}},{key:"_createEras",value:function(t){for(var e=0;e<t.length;e++){var i=t[e],n=new de(i.start_date,i.end_date,i.headline,this.options);this._eras.push(n),n.addTo(this._el.marker_item_container),n.on("added",this._onEraAdded,this)}}},{key:"_positionEras",value:function(t){for(var e=0,i=0;i<this._eras.length;i++){var n={start:0,end:0,width:0};n.start=this.timescale.getPosition(this._eras[i].start_date.getTime()),n.end=this.timescale.getPosition(this._eras[i].end_date.getTime()),n.width=n.end-n.start,t?this._eras[i].setClass("tl-timeera tl-timeera-fast"):this._eras[i].setClass("tl-timeera"),this._eras[i].setPosition({left:n.start}),this._eras[i].setWidth(n.width),++e>5&&(e=0),this._eras[i].setColor(e)}}},{key:"createMarker",value:function(t,e){this._createMarker(t,e)}},{key:"createMarkers",value:function(t){this._createMarkers(t)}},{key:"destroyMarker",value:function(t){this._destroyMarker(t)}},{key:"destroyMarkerId",value:function(t){this.destroyMarker(this._findMarkerIndex(t))}},{key:"goTo",value:function(t,e,i){var n=this.options.ease,a=this.options.duration,r=t<0?0:t;this._resetMarkersActive(),t>=0&&t<this._markers.length&&this._markers[t].setActive(!0),this.animator&&this.animator.stop(),e?(this._el.slider.className="tl-timenav-slider",this._el.slider.style.left=-this._markers[r].getLeft()+this.options.width/2+"px"):i?(this._el.slider.className="tl-timenav-slider tl-timenav-slider-animate",this.animate_css=!0,this._el.slider.style.left=-this._markers[r].getLeft()+this.options.width/2+"px"):(this._el.slider.className="tl-timenav-slider",this.animator=lt(this._el.slider,{left:-this._markers[r].getLeft()+this.options.width/2+"px",duration:a,easing:n})),t>=0&&t<this._markers.length?this.current_id=this._markers[t].data.unique_id:this.current_id=""}},{key:"goToId",value:function(t,e,i){this.goTo(this._findMarkerIndex(t),e,i)}},{key:"_onLoaded",value:function(){this.ready=!0,this.fire("loaded",this.config)}},{key:"_onMarkerAdded",value:function(t){this.fire("dateAdded",this.config)}},{key:"_onEraAdded",value:function(t){this.fire("eraAdded",this.config)}},{key:"_onMarkerRemoved",value:function(t){this.fire("dateRemoved",this.config)}},{key:"_onMarkerClick",value:function(t){this.goToId(t.unique_id),this.fire("change",{unique_id:t.unique_id})}},{key:"_onMouseScroll",value:function(t){var e=0,i=0,n={right:-(this.timescale.getPixelWidth()-this.options.width/2),left:this.options.width/2};t||(t=window.event),t.originalEvent&&(t=t.originalEvent),void 0!==t.wheelDeltaX&&(e=t.wheelDeltaY/6,e=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX/6:0),e&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1),(i=parseInt(this._el.slider.style.left.replace("px",""))+e)>n.left?i=n.left:i<n.right&&(i=n.right),this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1),this._el.slider.style.left=i+"px"}},{key:"_onDragMove",value:function(t){this.animate_css&&(this._el.slider.className="tl-timenav-slider",this.animate_css=!1)}},{key:"_drawTimeline",value:function(t){this.timescale=this._getTimeScale(),this.timeaxis.drawTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(t),this._assignRowsToMarkers(),this._createGroups(),this._positionGroups(),this.has_eras&&this._positionEras(t)}},{key:"_updateDrawTimeline",value:function(t){var e=!1;if(t){var i=new ue(this.config,{display_width:this._el.container.offsetWidth,screen_multiplier:this.options.scale_factor,max_rows:this.max_rows});this.timescale.getMajorScale()==i.getMajorScale()&&this.timescale.getMinorScale()==i.getMinorScale()&&(e=!0)}else e=!0;return e?(this.timescale=this._getTimeScale(),this.timeaxis.positionTicks(this.timescale,this.options.optimal_tick_width),this.positionMarkers(),this._assignRowsToMarkers(),this._positionGroups(),this.has_eras&&this._positionEras(),this.updateDisplay()):this._drawTimeline(!0),e}},{key:"_initLayout",value:function(){this._el.attribution=x("div","tl-attribution",this._el.container),this._el.line=x("div","tl-timenav-line",this._el.container),this._el.slider=x("div","tl-timenav-slider",this._el.container),this._el.slider_background=x("div","tl-timenav-slider-background",this._el.slider),this._el.marker_container_mask=x("div","tl-timenav-container-mask",this._el.slider),this._el.marker_container=x("div","tl-timenav-container",this._el.marker_container_mask),this._el.marker_item_container=x("div","tl-timenav-item-container",this._el.marker_container),this._el.timeaxis=x("div","tl-timeaxis",this._el.slider),this._el.timeaxis_background=x("div","tl-timeaxis-background",this._el.container),this._el.attribution.innerHTML="<a href='http://timeline.knightlab.com' target='_blank'><span class='tl-knightlab-logo'></span>TimelineJS</a>",this.timeaxis=new fe(this._el.timeaxis,this.options,this.language),this._swipable=new Ye(this._el.slider_background,this._el.slider,{enable:{x:!0,y:!1},constraint:{top:!1,bottom:!1,left:this.options.width/2,right:!1},snap:!1}),this._swipable.enable()}},{key:"_initEvents",value:function(){this._swipable.on("dragmove",this._onDragMove,this),pt.addListener(this._el.container,"mousewheel",this._onMouseScroll,this),pt.addListener(this._el.container,"DOMMouseScroll",this._onMouseScroll,this)}},{key:"_initData",value:function(){this._createMarkers(this.config.events),this.config.eras&&this.config.eras.length>0&&(this.has_eras=!0,this._createEras(this.config.eras)),this._drawTimeline()}}])}();z(Ve,ct,ht);var Je=function(){function t(e,i,n,a){Object(vi["a"])(this,t),a&&this.setLanguage(a),this._el={container:{},scroll_container:{},background:{},content_container:{},content:{}},this._media=null,this._mediaclass={},this._text={},this._background_media=null,this._state={loaded:!1},this.has={headline:!1,text:!1,media:!1,title:!1,background:{image:!1,color:!1,color_value:""}},this.has.title=n,this.data={unique_id:null,background:null,start_date:null,end_date:null,location:null,text:null,media:null,autolink:!0},this.options={duration:1e3,slide_padding_lr:40,ease:at,width:600,height:600,skinny_size:650,media_name:""},this.active=!1,this.animator={},L(this.options,i),L(this.data,e),this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"show",value:function(){this.animator=lt(this._el.slider_container,{left:-this._el.container.offsetWidth*n+"px",duration:this.options.duration,easing:this.options.ease})}},{key:"hide",value:function(){}},{key:"setActive",value:function(t){this.active=t,this.active?(this.data.background&&this.fire("background_change",this.has.background),this.loadMedia()):this.stopMedia()}},{key:"addTo",value:function(t){t.appendChild(this._el.container)}},{key:"removeFrom",value:function(t){t.removeChild(this._el.container)}},{key:"updateDisplay",value:function(t,e,i){var n,a=this.options.slide_padding_lr,r=this.options.slide_padding_lr;this.options.width=t||this._el.container.offsetWidth,n=this.options.width-2*this.options.slide_padding_lr,d&&this.options.width<=this.options.skinny_size?(a=0,r=0,n=this.options.width):"landscape"==i||this.options.width<=this.options.skinny_size&&(a=50,r=50,n=this.options.width-a-r),this._el.content.style.paddingLeft=a+"px",this._el.content.style.paddingRight=r+"px",this._el.content.style.width=n+"px",this.options.height=e||this._el.container.offsetHeight,this._media&&(!this.has.text&&this.has.headline?this._media.updateDisplay(n,this.options.height-this._text.headlineHeight(),i):this.has.text||this.has.headline?this.options.width<=this.options.skinny_size?this._media.updateDisplay(n,this.options.height,i):this._media.updateDisplay(n/2,this.options.height,i):this._media.updateDisplay(n,this.options.height,i)),this._updateBackgroundDisplay()}},{key:"loadMedia",value:function(){var t=this;this._media&&!this._state.loaded&&(this._media.loadMedia(),this._state.loaded=!0),this._background_media&&!this._background_media._state.loaded&&(this._background_media.on("loaded",(function(){t._updateBackgroundDisplay()})),this._background_media.loadMedia())}},{key:"stopMedia",value:function(){this._media&&this._state.loaded&&this._media.stopMedia()}},{key:"getBackground",value:function(){return this.has.background}},{key:"scrollToTop",value:function(){this._el.container.scrollTop=0}},{key:"getFormattedDate",value:function(){if(F(this.data.display_date).length>0)return this.data.display_date;var t="";return this.has.title||(this.data.end_date&&(t=" &mdash; "+this.data.end_date.getDisplayDate(this.getLanguage())),this.data.start_date&&(t=this.data.start_date.getDisplayDate(this.getLanguage())+t)),t}},{key:"_initLayout",value:function(){if(this._el.container=x("div","tl-slide"),this.has.title&&(this._el.container.className="tl-slide tl-slide-titleslide"),this.data.unique_id&&(this._el.container.id=this.data.unique_id),this._el.scroll_container=x("div","tl-slide-scrollable-container",this._el.container),this._el.content_container=x("div","tl-slide-content-container",this._el.scroll_container),this._el.content=x("div","tl-slide-content",this._el.content_container),this._el.background=x("div","tl-slide-background",this._el.container),this.data.background){if(this.data.background.url){var t=$e(this.data.background,!0);t&&(this._background_media=new t.cls(this.data.background,{background:1}),this.has.background.image=!0,this._el.container.className+=" tl-full-image-background",this.has.background.color_value="#000",this._el.background.style.display="block")}this.data.background.color&&(this.has.background.color=!0,this._el.container.className+=" tl-full-color-background",this.has.background.color_value=this.data.background.color),this.data.background.text_background&&(this._el.container.className+=" tl-text-background")}this.data.media&&this.data.media.url&&""!=this.data.media.url&&(this.has.media=!0),this.data.text&&this.data.text.text&&(this.has.text=!0),this.data.text&&this.data.text.headline&&(this.has.headline=!0),this.has.media&&(this.data.media.mediatype=$e(this.data.media),this.options.media_name=this.data.media.mediatype.name,this.options.media_type=this.data.media.mediatype.type,this.options.autolink=this.data.autolink,this._media=new this.data.media.mediatype.cls(this.data.media,this.options,this.getLanguage())),(this.has.text||this.has.headline)&&(this._text=new pe(this.data.text,{title:this.has.title,language:this.options.language,autolink:this.data.autolink}),this._text.addDateText(this.getFormattedDate())),this.has.text||this.has.headline||!this.has.media?this.has.headline&&this.has.media&&!this.has.text?(S(this._el.container,"tl-slide-media-only"),this._text.addTo(this._el.content),this._media.addTo(this._el.content)):this.has.text&&this.has.media?(this._media.addTo(this._el.content),this._text.addTo(this._el.content)):(this.has.text||this.has.headline)&&(S(this._el.container,"tl-slide-text-only"),this._text.addTo(this._el.content)):(S(this._el.container,"tl-slide-media-only"),this._media.addTo(this._el.content)),this.onLoaded()}},{key:"_initEvents",value:function(){}},{key:"_updateBackgroundDisplay",value:function(){this._background_media&&this._background_media._state.loaded&&(this._el.background.style.backgroundImage="url('"+this._background_media.getImageURL(this.options.width,this.options.height)+"')")}}])}();z(Je,Pt,ct,ht);var Ze=function(){function t(e,i,n){Object(vi["a"])(this,t),this._el={container:{},content_container:{},icon:{},title:{},description:{}},this.mediatype={},this.data={title:"Navigation",description:"Description",date:"Date"},this.options={direction:"previous"},this.animator=null,L(this.options,i),L(this.data,e),this._el.container=x("div","tl-slidenav-"+this.options.direction),d&&this._el.container.setAttribute("ontouchstart"," "),this._initLayout(),this._initEvents(),n&&n.appendChild(this._el.container)}return Object(gi["a"])(t,[{key:"update",value:function(t){var e={title:"",description:"",date:t.getFormattedDate()};t.data.text&&t.data.text.headline&&(e.title=t.data.text.headline),this._update(e)}},{key:"setColor",value:function(t){this._el.content_container.className=t?"tl-slidenav-content-container tl-slidenav-inverted":"tl-slidenav-content-container"}},{key:"_onMouseClick",value:function(){this.fire("clicked",this.options)}},{key:"_update",value:function(t){this.data=L(this.data,t),this._el.title.innerHTML=$(this.data.title),this._el.description.innerHTML=$(this.data.date)}},{key:"_initLayout",value:function(){this._el.content_container=x("div","tl-slidenav-content-container",this._el.container),this._el.icon=x("div","tl-slidenav-icon",this._el.content_container),this._el.title=x("div","tl-slidenav-title",this._el.content_container),this._el.description=x("div","tl-slidenav-description",this._el.content_container),this._el.icon.innerHTML="&nbsp;",this._update()}},{key:"_initEvents",value:function(){pt.addListener(this._el.container,"click",this._onMouseClick,this)}}])}();z(Ze,ht,ct);var Ke=function(){function t(e,i,n,a){Object(vi["a"])(this,t),a&&this.setLanguage(a),this._el={container:{},background:{},slider_container_mask:{},slider_container:{},slider_item_container:{}},this._nav={},this._nav.previous={},this._nav.next={},this.slide_spacing=0,this._slides=[],this._swipable,this.preloadTimer,this._message,this.current_id="",this.data={},this.options={id:"",layout:"portrait",width:600,height:600,default_bg_color:{r:255,g:255,b:255},slide_padding_lr:40,start_at_slide:1,slide_default_fade:"0%",duration:1e3,ease:st,dragging:!0,trackResize:!0},"object"==Object(wi["a"])(e)?(this._el.container=e,this.options.id=W(6,"tl")):(this.options.id=e,this._el.container=w(e)),this._el.container.id||(this._el.container.id=this.options.id),this.animator=null,L(this.options,n),L(this.data,i)}return Object(gi["a"])(t,[{key:"init",value:function(){this._initLayout(),this._initEvents(),this._initData(),this.updateDisplay(),this.goTo(this.options.start_at_slide),this._onLoaded()}},{key:"_addSlide",value:function(t){t.addTo(this._el.slider_item_container),t.on("added",this._onSlideAdded,this),t.on("background_change",this._onBackgroundChange,this)}},{key:"_createSlide",value:function(t,e,i){var n=new Je(t,this.options,e,this.getLanguage());this._addSlide(n),i<0?this._slides.push(n):this._slides.splice(i,0,n)}},{key:"_createSlides",value:function(t){for(var e=0;e<t.length;e++)""==t[e].unique_id&&(t[e].unique_id=W(6,"tl-slide")),this._createSlide(t[e],!1,-1)}},{key:"_removeSlide",value:function(t){t.removeFrom(this._el.slider_item_container),t.off("added",this._onSlideRemoved,this),t.off("background_change",this._onBackgroundChange)}},{key:"_destroySlide",value:function(t){this._removeSlide(this._slides[t]),this._slides.splice(t,1)}},{key:"_findSlideIndex",value:function(t){var e=t;return("string"==typeof t||t instanceof String)&&(e=U(t,this._slides,"unique_id")),e}},{key:"updateDisplay",value:function(t,e,i,n){var a,r;r=void 0===n?this.options.layout:n,this.options.layout=r,this.options.width=t||this._el.container.offsetWidth,this.options.height=e||this._el.container.offsetHeight,this.slide_spacing=2*this.options.width,a=this.options.height/2,this._nav.next.setPosition({top:a}),this._nav.previous.setPosition({top:a});for(var s=0;s<this._slides.length;s++)this._slides[s].updateDisplay(this.options.width,this.options.height,r),this._slides[s].setPosition({left:this.slide_spacing*s,top:0});this.goToId(this.current_id,!0,!0)}},{key:"createSlide",value:function(t,e){this._createSlide(t,!1,e)}},{key:"createSlides",value:function(t){this._createSlides(t)}},{key:"destroySlide",value:function(t){this._destroySlide(t)}},{key:"destroySlideId",value:function(t){this.destroySlide(this._findSlideIndex(t))}},{key:"goTo",value:function(t,e,i){t=parseInt(t),isNaN(t)&&(t=0);var n=this;this.changeBackground({color_value:"",image:!1}),this.preloadTimer&&clearTimeout(this.preloadTimer);for(var a=0;a<this._slides.length;a++)this._slides[a].setActive(!1);t<this._slides.length&&t>=0&&(this.current_id=this._slides[t].data.unique_id,this.animator&&this.animator.stop(),this._swipable&&this._swipable.stopMomentum(),e?(this._el.slider_container.style.left=-this.slide_spacing*t+"px",this._onSlideChange(i)):this.animator=lt(this._el.slider_container,{left:-this.slide_spacing*t+"px",duration:this.options.duration,easing:this.options.ease,complete:this._onSlideChange(i)}),this._slides[t].setActive(!0),this._slides[t+1]?(this.showNav(this._nav.next,!0),this._nav.next.update(this._slides[t+1])):this.showNav(this._nav.next,!1),this._slides[t-1]?(this.showNav(this._nav.previous,!0),this._nav.previous.update(this._slides[t-1])):this.showNav(this._nav.previous,!1),this.preloadTimer=setTimeout((function(){n.preloadSlides(t)}),this.options.duration))}},{key:"goToId",value:function(t,e,i){this.goTo(this._findSlideIndex(t),e,i)}},{key:"preloadSlides",value:function(t){this._slides[t+1]&&(this._slides[t+1].loadMedia(),this._slides[t+1].scrollToTop()),this._slides[t+2]&&(this._slides[t+2].loadMedia(),this._slides[t+2].scrollToTop()),this._slides[t-1]&&(this._slides[t-1].loadMedia(),this._slides[t-1].scrollToTop()),this._slides[t-2]&&(this._slides[t-2].loadMedia(),this._slides[t-2].scrollToTop())}},{key:"next",value:function(){var t=this._findSlideIndex(this.current_id);t+1<this._slides.length?this.goTo(t+1):this.goTo(t)}},{key:"previous",value:function(){var t=this._findSlideIndex(this.current_id);t-1>=0?this.goTo(t-1):this.goTo(t)}},{key:"showNav",value:function(t,e){this.options.width<=500&&d||(e?t.show():t.hide())}},{key:"changeBackground",value:function(t){var e={r:256,g:256,b:256};t.color_value&&""!=t.color_value?(e=M(t.color_value))||(P("Invalid color value "+t.color_value),e=this.options.default_bg_color):(e=this.options.default_bg_color,t.color_value="rgb("+e.r+" , "+e.g+", "+e.b+")"),e.r,e.g,e.b,this._el.background.style.backgroundImage="none",t.color_value?this._el.background.style.backgroundColor=t.color_value:this._el.background.style.backgroundColor="transparent",e.r<255||e.g<255||e.b<255||t.image?(this._nav.next.setColor(!0),this._nav.previous.setColor(!0)):(this._nav.next.setColor(!1),this._nav.previous.setColor(!1))}},{key:"_updateDrawSlides",value:function(){for(var t=this.options.layout,e=0;e<this._slides.length;e++)this._slides[e].updateDisplay(this.options.width,this.options.height,t),this._slides[e].setPosition({left:this.slide_spacing*e,top:0});this.goToId(this.current_id,!0,!1)}},{key:"_initLayout",value:function(){S(this._el.container,"tl-storyslider"),this._el.slider_container_mask=x("div","tl-slider-container-mask",this._el.container),this._el.background=x("div","tl-slider-background tl-animate",this._el.container),this._el.slider_container=x("div","tl-slider-container tlanimate",this._el.slider_container_mask),this._el.slider_item_container=x("div","tl-slider-item-container",this._el.slider_container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this._nav.previous=new Ze({title:"Previous",description:"description"},{direction:"previous"}),this._nav.next=new Ze({title:"Next",description:"description"},{direction:"next"}),this._nav.next.addTo(this._el.container),this._nav.previous.addTo(this._el.container),this._el.slider_container.style.left="0px",b&&(this._swipable=new Ye(this._el.slider_container_mask,this._el.slider_container,{enable:{x:!0,y:!1},snap:!0}),this._swipable.enable(),this._message=new Dt(this._el.container,{message_class:"tl-message-full",message_icon_class:"tl-icon-swipe-left"},this.getLanguage()),this._message.updateMessage(this._("swipe_to_navigate")),this._message.addTo(this._el.container))}},{key:"_initEvents",value:function(){this._nav.next.on("clicked",this._onNavigation,this),this._nav.previous.on("clicked",this._onNavigation,this),this._message&&this._message.on("clicked",this._onMessageClick,this),this._swipable&&(this._swipable.on("swipe_left",this._onNavigation,this),this._swipable.on("swipe_right",this._onNavigation,this),this._swipable.on("swipe_nodirection",this._onSwipeNoDirection,this))}},{key:"_initData",value:function(){this.data.title&&this._createSlide(this.data.title,!0,-1),this._createSlides(this.data.events)}},{key:"_onBackgroundChange",value:function(t){var e=this._findSlideIndex(this.current_id),i=this._slides[e].getBackground();this.changeBackground(t),this.fire("colorchange",i)}},{key:"_onMessageClick",value:function(t){this._message.hide()}},{key:"_onSwipeNoDirection",value:function(t){this.goToId(this.current_id)}},{key:"_onNavigation",value:function(t){"next"==t.direction||"left"==t.direction?this.next():"previous"!=t.direction&&"right"!=t.direction||this.previous(),this.fire("nav_"+t.direction,this.data)}},{key:"_onSlideAdded",value:function(t){P("slideadded"),this.fire("slideAdded",this.data)}},{key:"_onSlideRemoved",value:function(t){this.fire("slideRemoved",this.data)}},{key:"_onSlideChange",value:function(t){t||this.fire("change",{unique_id:this.current_id})}},{key:"_onMouseClick",value:function(t){}},{key:"_fireMouseEvent",value:function(t){if(this._loaded){var e=t.type;e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)&&("contextmenu"===e&&pt.preventDefault(t),this.fire(e,{latlng:"something",layerPoint:"something else"}))}}},{key:"_onLoaded",value:function(){this.fire("loaded",this.data)}}])}();z(Ke,Pt,ct);var Xe=function(){function t(e,i,n){Object(vi["a"])(this,t),this._el={parent:{},container:{},button_backtostart:{},button_zoomin:{},button_zoomout:{},arrow:{},line:{},coverbar:{},grip:{}},this.collapsed=!1,this._el.container="object"==Object(wi["a"])(e)?e:w(e),i&&(this._el.parent=i),this.options={width:600,height:600,duration:1e3,ease:st,menubar_default_y:0},this.animator={},L(this.options,n),this._initLayout(),this._initEvents()}return Object(gi["a"])(t,[{key:"show",value:function(t){this.options.duration}},{key:"hide",value:function(t){}},{key:"toogleZoomIn",value:function(t){t?O(this._el.button_zoomin,"tl-menubar-button-inactive"):S(this._el.button_zoomin,"tl-menubar-button-inactive")}},{key:"toogleZoomOut",value:function(t){t?O(this._el.button_zoomout,"tl-menubar-button-inactive"):S(this._el.button_zoomout,"tl-menubar-button-inactive")}},{key:"setSticky",value:function(t){this.options.menubar_default_y=t}},{key:"setColor",value:function(t){this._el.container.className=t?"tl-menubar tl-menubar-inverted":"tl-menubar"}},{key:"updateDisplay",value:function(t,e,i,n){this._updateDisplay(t,e,i,n)}},{key:"_onButtonZoomIn",value:function(t){this.fire("zoom_in",t)}},{key:"_onButtonZoomOut",value:function(t){this.fire("zoom_out",t)}},{key:"_onButtonBackToStart",value:function(t){this.fire("back_to_start",t)}},{key:"_initLayout",value:function(){this._el.button_zoomin=x("span","tl-menubar-button",this._el.container),this._el.button_zoomout=x("span","tl-menubar-button",this._el.container),this._el.button_backtostart=x("span","tl-menubar-button",this._el.container),d&&this._el.container.setAttribute("ontouchstart"," "),this._el.button_backtostart.innerHTML="<span class='tl-icon-goback'></span>",this._el.button_zoomin.innerHTML="<span class='tl-icon-zoom-in'></span>",this._el.button_zoomout.innerHTML="<span class='tl-icon-zoom-out'></span>"}},{key:"_initEvents",value:function(){pt.addListener(this._el.button_backtostart,"click",this._onButtonBackToStart,this),pt.addListener(this._el.button_zoomin,"click",this._onButtonZoomIn,this),pt.addListener(this._el.button_zoomout,"click",this._onButtonZoomOut,this)}},{key:"_updateDisplay",value:function(t,e,i){t&&(this.options.width=t),e&&(this.options.height=e)}}])}();z(Xe,ht,ct);var Qe=null;if(document){var ti=document.getElementsByTagName("script");ti&&ti.length>0&&(Qe=ti[ti.length-1].src)}var ei=function(){function t(e,i,n){if(Object(vi["a"])(this,t),n||(n={}),this.ready=!1,this._el={container:w(e),storyslider:{},timenav:{},menubar:{}},n.lang&&!n.language&&(n.language=n.lang),this.language=Rt,this._storyslider={},this._timenav={},this._menubar={},this._loaded={storyslider:!1,timenav:!1},this.config=null,this.options={script_path:"https://cdn.knightlab.com/libs/timeline3/latest/js/",height:this._el.container.offsetHeight,width:this._el.container.offsetWidth,debug:!1,font:"default",is_embed:!1,is_full_embed:!1,hash_bookmark:!1,default_bg_color:{r:255,g:255,b:255},scale_factor:2,layout:"landscape",timenav_position:"bottom",optimal_tick_width:60,base_class:"tl-timeline",timenav_height:null,timenav_height_percentage:25,timenav_mobile_height_percentage:40,timenav_height_min:175,marker_height_min:30,marker_width_min:100,marker_padding:5,start_at_slide:0,start_at_end:!1,menubar_height:0,skinny_size:650,medium_size:800,use_bc:!1,duration:1e3,ease:st,dragging:!0,trackResize:!0,map_type:"stamen:toner-lite",slide_padding_lr:100,slide_default_fade:"0%",zoom_sequence:[.5,1,2,3,5,8,13,21,34,55,89],language:"en",ga_property_id:null,track_events:["back_to_start","nav_next","nav_previous","zoom_in","zoom_out"],theme:null,sheets_proxy:"https://sheets-proxy.knightlab.com/proxy/",soundcite:!1},this.animator_timenav=null,this.animator_storyslider=null,this.animator_menubar=null,this.message=new Dt(this._el.container,{message_class:"tl-message-full"}),"string"==typeof n.default_bg_color){var a=M(n.default_bg_color);a?n.default_bg_color=a:(delete n.default_bg_color,P("Invalid default background color. Ignoring."))}var r,s;L(this.options,n),this.options.script_path||(this.options.script_path=this.determineScriptPath()),n.soundcite&&this.on("ready",(function(){P("Loading Soundcite resources "),ve("https://cdn.knightlab.com/libs/soundcite/latest/css/player.css"),ge("https://cdn.knightlab.com/libs/soundcite/latest/js/soundcite.min.js")})),this._loadStyles(),document.addEventListener("keydown",(r=this,function(t){if(r.config){var e=t.key,i=r._getSlideIndex(self.current_id),n=r.config.events.length-1,a=r.config.title?n+1:n;"ArrowLeft"==e?0!=i&&r.goToPrev():"ArrowRight"==e&&i!=a&&r.goToNext()}})),window.addEventListener("resize",function(t){this.updateDisplay()}.bind(this)),this.options.debug&&(s=console.log,R.push(s)),S(this._el.container,"tl-timeline"),this.options.is_embed&&S(this._el.container,"tl-timeline-embed"),this.options.is_full_embed&&S(this._el.container,"tl-timeline-full-embed"),this._loadLanguage(i)}return Object(gi["a"])(t,[{key:"_loadStyles",value:function(){var t=null,e=null;if(this.options.font&&(0==this.options.font.indexOf("http")||this.options.font.match(/\.css$/)))t=this.options.font;else if(this.options.font){var i="../css/fonts/font."+this.options.font.toLowerCase()+".css";t=new URL(i,this.options.script_path).toString()}if(t&&ve(t),this.options.theme&&(0==this.options.theme.indexOf("http")||this.options.theme.match(/\.css$/)))e=this.options.theme;else if(this.options.theme){var n="../css/themes/timeline.theme."+this.options.theme.toLowerCase()+".css";e=new URL(n,this.options.script_path).toString()}e&&ve(e)}},{key:"_loadLanguage",value:function(t){try{var e=this.options.language,i=this.options.script_path;this.language=new Mt(e,i),this.message.setLanguage(this.language),this.options.language=this.language,this.showMessage(this._("loading_timeline")),this._initData(t)}catch(t){this.showMessage(this._translateError(t))}}},{key:"_initData",value:function(t){"string"==typeof t?function(){var t=Object(u["a"])(Object(l["a"])().mark((function t(e,i){var n,a,r,s,o;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=null,a={},"function"==typeof i?n=i:"object"==Object(wi["a"])(i)&&(a=i,n=i.callback,"function"==typeof a.callback&&(n=a.callback)),n){t.next=3;break}throw new C("Second argument to makeConfig must be either a function or an object which includes a 'callback' property with a 'function' type value");case 3:if(!Qt(e)){t.next=17;break}return t.prev=4,t.next=7,ie(e,a);case 7:s=t.sent,t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](4),t.abrupt("return",(r=new Yt,"NetworkError"==t.t0.name?r.logError(new C("network_err")):"TLError"==t.t0.name?r.logError(t.t0):r.logError(new C("unknown_read_err",t.t0.name)),void n(r)));case 13:if(r=new Yt(s),s.errors)for(o=0;o<s.errors.length;o++)r.logError(s.errors[o]);n(r),t.next=18;break;case 17:gt({url:e,dataType:"json",success:function(t){try{r=new Yt(t)}catch(t){(r=new Yt).logError(t)}n(r)},error:function(t,e,i){r=new Yt,i="parsererror"==e?new C("invalid_url_err"):new C("unknown_read_err",e),r.logError(i),n(r)}});case 18:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,i){return t.apply(this,arguments)}}()(t,{callback:function(t){this.setConfig(t)}.bind(this),sheets_proxy:this.options.sheets_proxy}):Yt==t.constructor?this.setConfig(t):this.setConfig(new Yt(t))}},{key:"_translateError",value:function(t){return t.hasOwnProperty("stack")&&P(t.stack),t.message_key?this._(t.message_key)+(t.detail?" ["+t.detail+"]":""):t}},{key:"showMessage",value:function(t){this.message?this.message.updateMessage(t):(P("No message display available."),P(t))}},{key:"determineScriptPath",value:function(){var t=null;if(Qe)t=Qe;else{var e=document.getElementById("timeline-script-tag");e&&(t=e.src)}if(!t)for(var i=document.getElementsByTagName("script"),n=i.length-1;n>=0;n--)if(i[n].src){t=i[n].src;break}return t?t.substr(0,t.lastIndexOf("/")+1):""}},{key:"setConfig",value:function(t){if(this.config=t,this.config.isValid()&&(this.config.validate(),this._validateOptions()),this.config.isValid())try{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this._onDataLoaded.bind(this)):this._onDataLoaded()}catch(t){this.showMessage("<strong>"+this._("error")+":</strong> "+this._translateError(t))}else{for(var e=[],i=0,n=this.config.getErrors();i<n.length;i++)e.push(this._translateError(n[i]));this.showMessage("<strong>"+this._("error")+":</strong> "+e.join("<br>"))}}},{key:"_onDataLoaded",value:function(){var t=this;this.fire("dataloaded"),this._initLayout(),this._initEvents(),this._initAnalytics(),this.message&&this.message.hide(),new IntersectionObserver(function(e,i){e.reduce((function(t,e){return t||e.isIntersecting}),!1)&&t.updateDisplay()}.bind(this)).observe(this._el.container),this.ready=!0,this.fire("ready")}},{key:"_initLayout",value:function(){this.message.removeFrom(this._el.container),this._el.container.innerHTML="","top"==this.options.timenav_position?(this._el.timenav=x("div","tl-timenav",this._el.container),this._el.storyslider=x("div","tl-storyslider",this._el.container)):(this._el.storyslider=x("div","tl-storyslider",this._el.container),this._el.timenav=x("div","tl-timenav",this._el.container)),this._el.menubar=x("div","tl-menubar",this._el.container),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.timenav_height=this._calculateTimeNavHeight(this.options.timenav_height),this._timenav=new Ve(this._el.timenav,this.config,this.options,this.language),this._timenav.on("loaded",this._onTimeNavLoaded,this),this._timenav.options.height=this.options.timenav_height,this._timenav.init(),this.options.initial_zoom&&this.setZoom(this.options.initial_zoom),this._storyslider=new Ke(this._el.storyslider,this.config,this.options,this.language),this._storyslider.on("loaded",this._onStorySliderLoaded,this),this._storyslider.init(),this._menubar=new Xe(this._el.menubar,this._el.container,this.options),"portrait"==this.options.layout?this.options.storyslider_height=this.options.height-this.options.timenav_height-1:this.options.storyslider_height=this.options.height-1,this._updateDisplay(this._timenav.options.height,!0,2e3)}},{key:"_initEvents",value:function(){this._timenav.on("change",this._onTimeNavChange,this),this._timenav.on("zoomtoggle",this._onZoomToggle,this),this._storyslider.on("change",this._onSlideChange,this),this._storyslider.on("colorchange",this._onColorChange,this),this._storyslider.on("nav_next",this._onStorySliderNext,this),this._storyslider.on("nav_previous",this._onStorySliderPrevious,this),this._menubar.on("zoom_in",this._onZoomIn,this),this._menubar.on("zoom_out",this._onZoomOut,this),this._menubar.on("back_to_start",this._onBackToStart,this)}},{key:"_onColorChange",value:function(t){this.fire("color_change",{unique_id:this.current_id},this)}},{key:"_onSlideChange",value:function(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._timenav.goToId(this.current_id),this._onChange(t))}},{key:"_onTimeNavChange",value:function(t){this.current_id!=t.unique_id&&(this.current_id=t.unique_id,this._storyslider.goToId(this.current_id),this._onChange(t))}},{key:"_onZoomToggle",value:function(t){"in"==t.zoom?this._menubar.toogleZoomIn(t.show):"out"==t.zoom&&this._menubar.toogleZoomOut(t.show)}},{key:"_onChange",value:function(t){this.fire("change",{unique_id:this.current_id},this),this.options.hash_bookmark&&this.current_id&&this._updateHashBookmark(this.current_id)}},{key:"_onBackToStart",value:function(t){this._storyslider.goTo(0),this.fire("back_to_start",{unique_id:this.current_id},this)}},{key:"_onZoomIn",value:function(t){this._timenav.zoomIn(),this.fire("zoom_in",{zoom_level:this._timenav.options.scale_factor},this)}},{key:"_onZoomOut",value:function(t){this._timenav.zoomOut(),this.fire("zoom_out",{zoom_level:this._timenav.options.scale_factor},this)}},{key:"_onTimeNavLoaded",value:function(){this._loaded.timenav=!0,this._onLoaded()}},{key:"_onStorySliderLoaded",value:function(){this._loaded.storyslider=!0,this._onLoaded()}},{key:"_onStorySliderNext",value:function(t){this.fire("nav_next",t)}},{key:"_onStorySliderPrevious",value:function(t){this.fire("nav_previous",t)}},{key:"_updateDisplay",value:function(t,e,i){var n,a=this.options.duration,r=this.options.base_class,s=0;i&&(a=i),this.options.width=this._el.container.offsetWidth,this.options.height=this._el.container.offsetHeight,this.options.width<=this.options.skinny_size?(r+=" tl-skinny",this.options.layout="portrait"):this.options.width<=this.options.medium_size?(r+=" tl-medium",this.options.layout="landscape"):this.options.layout="landscape",b&&(this.options.layout=(n="portrait",window.innerWidth>window.innerHeight&&(n="landscape"),Math.abs(window.orientation),n)),d?(r+=" tl-mobile",this.options.timenav_height=this._calculateTimeNavHeight(t,this.options.timenav_mobile_height_percentage)):this.options.timenav_height=this._calculateTimeNavHeight(t),"portrait"==this.options.layout?r+=" tl-layout-portrait":r+=" tl-layout-landscape",this.options.storyslider_height=this.options.height-this.options.timenav_height,s="top"==this.options.timenav_position?Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-19.5:Math.round(this.options.storyslider_height+1+Math.ceil(this.options.timenav_height)/2-this._el.menubar.offsetHeight/2-17.5),e?(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this.animator_storyslider&&this.animator_storyslider.stop(),this.animator_storyslider=lt(this._el.storyslider,{height:this.options.storyslider_height+"px",duration:a/2,easing:rt}),this.animator_menubar&&this.animator_menubar.stop(),this.animator_menubar=lt(this._el.menubar,{top:s+"px",duration:a/2,easing:rt})):(this._el.timenav.style.height=Math.ceil(this.options.timenav_height)+"px",this._el.storyslider.style.height=this.options.storyslider_height+"px",this._el.menubar.style.top=s+"px"),this.message&&this.message.updateDisplay(this.options.width,this.options.height),this._timenav.updateDisplay(this.options.width,this.options.timenav_height,e),this._storyslider.updateDisplay(this.options.width,this.options.storyslider_height,e,this.options.layout),"rtl"==this.options.language.direction&&(r+=" tl-rtl"),this._el.container.className=r}},{key:"_calculateTimeNavHeight",value:function(t,e){var i=0;return t?i=t:(this.options.timenav_height_percentage||e)&&(i=e?Math.round(this.options.height/100*e):Math.round(this.options.height/100*this.options.timenav_height_percentage)),this._timenav.ready&&this.options.timenav_height_min<this._timenav.getMinimumHeight()&&(this.options.timenav_height_min=this._timenav.getMinimumHeight()),i<this.options.timenav_height_min&&(i=this.options.timenav_height_min),i-2*this.options.marker_padding}},{key:"_validateOptions",value:function(){for(var t=["timenav_height","timenav_height_min","marker_height_min","marker_width_min","marker_padding","start_at_slide","slide_padding_lr"],e=0;e<t.length;e++){var i=t[e],n=this.options[i],a=!0;"number"==typeof n?a=n==parseInt(n):"string"==typeof n&&(a=n.match(/^\s*(\-?\d+)?\s*$/)),a||this.config.logError({message_key:"invalid_integer_option",detail:i})}}},{key:"_getSlideIndex",value:function(t){if(this.config){if(this.config.title&&this.config.title.unique_id==t)return 0;for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return this.config.title?e+1:e}return-1}},{key:"_getEventIndex",value:function(t){for(var e=0;e<this.config.events.length;e++)if(t==this.config.events[e].unique_id)return e;return-1}},{key:"_onLoaded",value:function(){var t;this._loaded.storyslider&&this._loaded.timenav&&(this.fire("loaded",this.config),this.options.hash_bookmark&&""!=window.location.hash?this.goToId(window.location.hash.replace("#event-","")):(null!=(t=this.options.start_at_end)&&(1==t||"true"==String(t).toLowerCase()||1==Number(t))||this.options.start_at_slide>this.config.events.length?this.goToEnd():this.goTo(this.options.start_at_slide),this.options.hash_bookmark&&this._updateHashBookmark(this.current_id)))}},{key:"_updateHashBookmark",value:function(t){var e="#event-"+t.toString();window.history.replaceState(null,"Browsing TimelineJS",e),this.fire("hash_updated",{unique_id:this.current_id,hashbookmark:"#event-"+t.toString()},this)}},{key:"zoomIn",value:function(){this._timenav.zoomIn()}},{key:"zoomOut",value:function(){this._timenav.zoomOut()}},{key:"setZoom",value:function(t){this._timenav.setZoom(t)}},{key:"goToId",value:function(t){this.current_id!=t&&(this.current_id=t,this._timenav.goToId(this.current_id),this._storyslider.goToId(this.current_id,!1,!0),this.fire("change",{unique_id:this.current_id},this))}},{key:"goTo",value:function(t){this.config.title?0==t?this.goToId(this.config.title.unique_id):this.goToId(this.config.events[t-1].unique_id):this.goToId(this.config.events[t].unique_id)}},{key:"goToStart",value:function(){this.goTo(0)}},{key:"goToEnd",value:function(){var t=this.config.events.length-1;this.goTo(this.config.title?t+1:t)}},{key:"goToPrev",value:function(){this.goTo(this._getSlideIndex(this.current_id)-1)}},{key:"goToNext",value:function(){this.goTo(this._getSlideIndex(this.current_id)+1)}},{key:"add",value:function(t){var e=this.config.addEvent(t),i=this._getEventIndex(e),n=this.config.events[i];this._storyslider.createSlide(n,this.config.title?i+1:i),this._storyslider._updateDrawSlides(),this._timenav.createMarker(n,i),this._timenav._updateDrawTimeline(!1),this.fire("added",{unique_id:e})}},{key:"remove",value:function(t){if(t>=0&&t<this.config.events.length){this.config.events[t].unique_id==this.current_id&&(t<this.config.events.length-1?this.goTo(t+1):this.goTo(t-1));var e=this.config.events.splice(t,1);delete this.config.event_dict[e[0].unique_id],this._storyslider.destroySlide(this.config.title?t+1:t),this._storyslider._updateDrawSlides(),this._timenav.destroyMarker(t),this._timenav._updateDrawTimeline(!1),this.fire("removed",{unique_id:e[0].unique_id})}}},{key:"removeId",value:function(t){this.remove(this._getEventIndex(t))}},{key:"getData",value:function(t){if(this.config.title){if(0==t)return this.config.title;if(t>0&&t<=this.config.events.length)return this.config.events[t-1]}else if(t>=0&&t<this.config.events.length)return this.config.events[t];return null}},{key:"getDataById",value:function(t){return this.getData(this._getSlideIndex(t))}},{key:"getSlide",value:function(t){return t>=0&&t<this._storyslider._slides.length?this._storyslider._slides[t]:null}},{key:"getSlideById",value:function(t){return this.getSlide(this._getSlideIndex(t))}},{key:"getCurrentSlide",value:function(){return this.getSlideById(this.current_id)}},{key:"updateDisplay",value:function(){this.ready?this._updateDisplay():P("updateDisplay called but timeline is not in ready state")}},{key:"_initGoogleAnalytics",value:function(){var t,e,i,n,a,r;t=window,e=document,i="script",n="ga",t.GoogleAnalyticsObject=n,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,a=e.createElement(i),r=e.getElementsByTagName(i)[0],a.async=1,a.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(a,r),ga("create",this.options.ga_property_id,"auto"),ga("set","anonymizeIp",!0)}},{key:"_initAnalytics",value:function(){if(null!==this.options.ga_property_id){this._initGoogleAnalytics(),ga("send","pageview");for(var t=this.options.track_events,e=0;e<t.length;e++){var i=t[e];this.addEventListener(i,(function(t){ga("send","event",t.type,"clicked")}))}}}}])}();z(ei,Pt,ct),i(1)}])),ji={name:"Timeline",data:function(){return{options:{hash_bookmark:!0,zoom_sequence:[.1,1,2,3,5,8,13,21,34,55,89],initial_zoom:0,scale_factor:1,marker_height_min:50,marker_width_min:150,timenav_height_min:300,dragging:!0,optimal_tick_width:150}}},computed:Object(d["c"])(["timelineData"]),methods:Object(h["a"])(Object(h["a"])({},Object(d["b"])(["fetchTimelineData"])),{},{loadTimeline:function(){var t=Object(u["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTimelineData();case 2:new xi.Timeline("timeline-embed",this.timelineData,this.options);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),mounted:function(){this.$nextTick((function(){this.loadTimeline()}))}},Ti=ji,Si=(i("9d08"),Object(m["a"])(Ti,pi,mi,!1,null,null,null)),Oi=Si.exports,Ci={name:"TimelinePage",components:{TheBreadcrumbs:tt,Timeline:Oi},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Ai=Ci,Mi=Object(m["a"])(Ai,di,fi,!1,null,null,null),Li=Mi.exports,Ei=function(){var t=this,e=t._self._c;return e("main",{staticClass:"secondary"},[e("div",{staticClass:"container"},[e("the-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),e("h1",{staticClass:"page-title"},[t._v("Privacy & Cookie Policy")]),e("p"),e("p",[t._v("King’s College London (KCL) through its department King's Digital Lab (KDL) is committed to protecting your\n      privacy.")]),e("p",[t._v("This statement is made in the light of the requirements of the Data Protection Act 1998 and the General Data\n      Protection Regulation, in order to alert you to the data processing practices which will govern the processing\n      of your data.")]),e("p"),t._m(0),e("p"),e("p",[t._v("If you have any queries about this statement please contact:")]),e("p"),t._m(1),e("p"),e("h2",[t._v("1 How do we collect information?")]),e("p"),e("p",[t._v("We will obtain personal information from you when you enquire about our activities or report a problem with a\n      service that we maintain through through direct contact via an e-mail or conventional mail or otherwise provide\n      us with personal information. We\n      may also receive information about you from third parties, for example from a friend who wants to tell you about\n      our website.")]),e("p"),e("h2",[t._v("2 What information do we collect?")]),e("p"),e("p",[t._v("The types of information collected might include names, e-mail address, institutional postal address, telephone\n      number and your research interests. Via third-parties, for instance Google, we will have limited access to see\n      IP addresses from which our website has been accessed (see Cookies, below).")]),e("p"),e("h2",[t._v("3 How do we use this information?")]),e("p"),t._m(2),e("p",[t._v("KDL may use your personal data to resolve technical issues you encounter, to respond to your requests for\n      assistance, and to repair and improve our service.")]),e("p"),e("h2",[t._v("4 How long do we retain this information for?")]),t._m(3),e("h2",[t._v("5 Do we use 'Cookies'?")]),e("p"),e("p",[t._v("Cookies are text files, which identify a user's computer to our server. Cookies in themselves do not identify\n      the individual user, just the computer used. The KDL website uses cookies for collecting user information.")]),e("p"),e("p",[t._v("The KDL website uses persistent cookies - these are used to track returning visitors. They expire after 12\n      months and enable us to compare website traffic from month to month.")]),e("h2",[t._v("Cookies used at sharc.kcl.ac.uk")]),e("h3",[t._v("Session cookies")]),t._m(4),e("p"),t._m(5),e("p"),t._m(6),t._m(7),e("h3",[t._v("Persistent cookies")]),e("p"),t._m(8),e("p"),e("p",[t._v("These cookies allow Google Analytics to track the usage of the site. ")]),e("p"),t._m(9),e("p",[t._v("These shorter lived cookies persist for 2 years, 24 hours and 1 minute respectively.")]),e("p"),e("p",[t._v("We use Google Analytics to better understand how our customers navigate to and through our website and how\n      often they return. Google Analytics help us to track the effectiveness of digital marketing (advertising)\n      campaigns.  Find out more about the Google Cookies from Google support.")]),e("h3",[t._v("Blocking cookies")]),t._m(10),e("p"),t._m(11),e("h2",[t._v("6 How do we protect personal information?")]),e("p"),e("p",[t._v("We also take appropriate measures to ensure that the information disclosed to us is kept secure, accurate and\n      up to date and kept only for so long as is necessary for the purposes for which it is used. These measures\n      include, but are not limited to, password protected server access, limited firewall access to servers, and a\n      regular server and software update and patch cycle to mitigate against evolving security risks.")]),e("p"),e("h2",[t._v("7 Will we disclose the information we collect to outside parties?")]),e("p"),e("p",[t._v("We may store some of your information with external service providers.")]),e("p"),t._m(12),t._m(13),e("p"),e("p"),e("p"),e("p",[t._v("We may also need to disclose your information if required to do so by law.")]),e("p"),e("h2",[t._v("8 Your consent")]),e("p"),e("p",[t._v("By providing us with your personal data, including sensitive personal data such as on your health, you consent\n      to the collection and use of any information you provide in accordance with the above purposes and this privacy\n      statement.")]),e("p"),e("p"),e("p"),e("p"),e("p"),t._m(14),e("p"),e("h2",[t._v("9 Right of access")]),e("p"),t._m(15),e("p"),e("p"),e("h2",[t._v("10 Changes")]),e("p",[t._v("If your personal details change, please help us to keep your information up to date by notifying us at the\n      above address.")]),e("p"),e("p",[t._v("We reserve the right to amend this privacy statement. If we do so, we will post notice of the change on our\n      website and you will be deemed to have accepted such changes.")]),e("p"),e("p"),e("h2",[t._v("11 Marketing")]),e("p"),e("p",[t._v("If you register an interest with KDL you will be given the opportunity to opt in to receive future marketing\n      communications. This is done at the point where your personal information is first collected.")]),e("p"),e("p",[t._v("If you register to attend an event or you apply to King’s College London, your personal information might be\n      passed to us by third parties to fulfil your request. As part of this process you can opt-in to receive\n      marketing communications.")]),e("p"),e("p",[t._v("Within any marketing communications you will be provided with a simple and transparent way to unsubscribe. Any\n      changes you request to how your personal information is processed for the purposes of marketing and/or the\n      provision of service updates will be acted on promptly.")]),t._m(16),t._m(17)],1)])},Ri=[function(){var t=this,e=t._self._c;return e("p",[t._v("This privacy statement should be considered subordinate to the organisational KCL privacy statement available\n      "),e("a",{attrs:{href:"https://www.kcl.ac.uk/terms/privacy.aspx"}},[t._v("here")]),t._v(", though KDL’s direct interaction with personal data\n      is less broad.")])},function(){var t=this,e=t._self._c;return e("p",[t._v("Information Compliance team"),e("br"),e("span",[t._v("King's College London - Waterloo Campus"),e("br")]),e("span",[t._v("Room 5.20 James Clerk Maxwell Building"),e("br")]),e("span",[t._v("57 Waterloo Road"),e("br")]),e("span",[t._v("London"),e("br")]),e("span",[t._v("SE1 8WA"),e("br"),e("br")]),e("span",[t._v("email: "),e("a",{attrs:{href:"mailto:kdl-info@kcl.ac.uk"}},[t._v("kdl-info@kcl.ac.uk")])])])},function(){var t=this,e=t._self._c;return e("p",[t._v("We will use your personal information to provide you with the services, products or information you have\n      requested and for administration purposes "),e("span",[t._v("(e.g. College reporting activities)")]),e("span",[t._v(". We may need to share your information with our service providers, associated organisations and agents for these purposes.")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("In the case of research projects we will retain correspondence indefinitely, as it constitutes a record of\n      works undertaken and may be important for legitimate business purposes of demonstrating meeting contractual\n      obligations. For further information on KCL's data retention, please see this "),e("a",{attrs:{href:"https://www.kcl.ac.uk/aboutkings/orgstructure/ps/audit/records/retention/rdrs-v7.pdf"}},[t._v("document")]),e("span",{staticClass:"sendToPdfFillerEmpty"})])},function(){var t=this,e=t._self._c;return e("p",[e("span",[t._v("These cookies are deleted when you close your browser.  Nothing is retained on your computer.")]),e("br")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("b",[t._v("csrftoken, sessionid")]),e("br")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("Any cookie identified as "),e("b",[t._v("csrftoken ")]),t._v("is used for the purposes of validating forms submitted on the website\n      and no data will be retained. The cookie "),e("b",[t._v("sessionid ")]),t._v(" is necessary for the correct functioning of\n      the website. ")])},function(){var t=this,e=t._self._c;return e("p",[e("span",[t._v("These are session cookies that identifies a unique visit to the site. ")]),e("br")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("strong",[t._v("_utma, _utmb, _utmc, _utmz")]),e("br")])])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("b",[t._v("_ga, _gid, _gat")])])])},function(){var t=this,e=t._self._c;return e("p",[e("span",[t._v("You can block cookies by activating the setting on your browser that allows you to refuse the setting of all or some cookies. We have set out below links to the 'Help' pages of some major browsers which explain how you can do this. However, if you use your browser settings to block all cookies (including essential cookies) you may not be able to access all or parts of our site.")]),e("br")])},function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("a",{attrs:{href:"https://support.microsoft.com/en-gb/help/17442/windows-internet-explorer-delete-manage-cookies"}},[t._v("Internet\n        Explorer")])]),e("li",[e("a",{attrs:{href:"https://support.google.com/accounts/answer/61416?co=GENIE.Platform%3DDesktop&hl=en"}},[t._v("Google\n        Chrome")])]),e("li",[e("a",{attrs:{href:"https://support.mozilla.org/en-US/kb/enable-and-disable-cookies-website-preferences"}},[t._v("Firefox")])]),e("li",[e("a",{attrs:{href:"https://support.apple.com/kb/ph21411?locale=en_US"}},[t._v("Safari")])])])},function(){var t=this,e=t._self._c;return e("p",[t._v("To ensure we provide the best user experience we may use the services of external providers for project\n      management tools and workflow. We use ActiveCollab to track project progress and record tasks and issues.\n      ActiveCollab’s security measures can be found here: "),e("a",{attrs:{href:"https://activecollab.com/security"}},[t._v("https://activecollab.com/security")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("Some personal information may also be stored securely using Google's Google Drive service. Their Privacy Policy\n      can be viewed here: "),e("a",{attrs:{href:"https://policies.google.com/privacy"}},[t._v("https://policies.google.com/privacy")])])},function(){var t=this,e=t._self._c;return e("p",[e("span",[t._v("If you wish to withdraw consent for your data to be stored as described above, please contact us at the e-mail address: kdl-info@kcl.ac.uk, and we will take action to remove your details from our storage and from third-party storage if applicable. Please note that once requested, this may take up to 28 days to action fully and we cannot change cached search results that appear in search engines such as Google, Bing or Yahoo etc.")]),e("br")])},function(){var t=this,e=t._self._c;return e("p",[t._v("You have the right to ask for a copy of the information we hold about you (for which we may charge a small fee)\n      and to have any inaccuracies in your information corrected."),e("br"),e("br")])},function(){var t=this,e=t._self._c;return e("h2",[e("br")])},function(){var t=this,e=t._self._c;return e("p",[e("br")])}],Pi={name:"Secondary",components:{TheBreadcrumbs:tt},data:function(){return{breadcrumbs:[]}},methods:{updatePage:function(){this.breadcrumbs=[{text:"Home",url:"/"}],this.$route.meta.breadcrumb&&this.breadcrumbs.push({text:this.$route.meta.breadcrumb,url:"/"+this.$route.meta.breadcrumb.toLowerCase()})}},created:function(){this.updatePage()},watch:{$route:function(){this.updatePage()}}},Di=Pi,qi=Object(m["a"])(Di,Ei,Ri,!1,null,null,null),Ni=qi.exports;a["a"].use(E["a"]);var Ii=new E["a"]({mode:"history",routes:[{path:"/",name:"home",component:G},{path:"/search",name:"search-results",component:Ye},{path:"/objects",name:"objects",component:dt},{path:"/objects/:id",name:"object",meta:{breadcrumb:"Objects"},component:Dt},{path:"/objects/rct/:reference+",name:"rct-object",meta:{breadcrumb:"Objects"},component:Dt},{path:"/story/:subpage",name:"story",component:re},{path:"/connection/:subpage",name:"theme",meta:{breadcrumb:"Connections"},component:he,props:{pageType:"editor.ThemeObjectCollection"}},{path:"/stories",name:"object-stories",component:hi},{path:"/connections",name:"connections",component:hi,props:{pageType:"editor.ThemeObjectCollection"}},{path:"/timeline",name:"timeline",component:Li},{path:"/resources",name:"resources",component:xe},{path:"/about",name:"about",component:De},{path:"/about/acknowledgements",name:"acknowledgements",meta:{breadcrumb:"About"},component:Qe},{path:"/resources/bibliography",name:"bibliography",meta:{breadcrumb:"Resources"},component:Qe},{path:"/resources/glossary",name:"glossary",meta:{breadcrumb:"Resources"},component:Qe},{path:"/accessibility",name:"accessibility",component:Qe},{path:"/events",name:"events",component:Qe},{path:"/privacy-policy",name:"privacy",component:Ni},{path:"/information/:id",name:"information",component:Qe},{path:"*",name:"not-found",component:ri}],scrollBehavior:function(t,e,i){return i||(t.hash?{selector:t.hash}:e.path===t.path?{}:{x:0,y:0})}}),Fi=i("fc02"),zi=i.n(Fi),Hi=i("cee4"),Wi="/api";Object({NODE_ENV:"production",VUE_APP_API_URL:"/api",VUE_APP_WAGTAIL_HOME_SLUG:"sharc-home",VUE_APP_WAGTAIL_ABOUT_SLUG:"about",VUE_APP_WAGTAIL_OBJECTS_SLUG:"objects",VUE_APP_WAGTAIL_ACCESSIBILITY_SLUG:"accessibility",VUE_APP_WAGTAIL_EVENTS_SLUG:"events",VUE_APP_WAGTAIL_RESOURCES_SLUG:"resources",VUE_APP_WAGTAIL_GLOSSARY_SLUG:"glossary",VUE_APP_WAGTAIL_BIBLIOGRAPHY_SLUG:"bibliography",VUE_APP_WAGTAIL_ACKNOWLEDGEMENTS_SLUG:"acknowledgements",VUE_APP_WAGTAIL_EXHIBITION_SLUG:"exhibition",BASE_URL:"/"}).VUE_APP_API_TOKEN;function Bi(t){return t.indexOf("api")>-1?"/"+t.substring(t.indexOf("api")):t}var Ui={events:[{start_date:{year:1648,display_date:1648},display_date:"1648",text:{headline:"Comedies, histories and tragedies,\npublished according\nto the true originall copies",text:"In the lead-up to his execution, while imprisoned at Windsor Castle, Charles I annotates his copy of Shakespeare's Second Folio. "},unique_id:"1080415"},{start_date:{year:1735,display_date:1735},display_date:"1735",text:{headline:"The Henry the Fifth Club, or The Gang",text:"In the midst of a longstanding dispute with his father, Frederick, Prince of Wales commissions a group portrait showing himself as Shakespeare's 'Prince Hal'"},unique_id:"405737"},{start_date:{year:1737,display_date:1737},display_date:"1737",text:{headline:"Her Majesty's Library in St James's Park",text:"Queen Caroline has the library at St James's Palace remodelled and includes a bust of Shakespeare in the cornicing. "},unique_id:"703051"},{start_date:{year:1740,display_date:1740},display_date:"1740",text:{headline:"Shakespeare's Monument, Westminster Abbey",text:"William Kent issues his design for Shakespeare's new monument at Westminster Abbey, which is installed the following year. "},unique_id:"66142"},{start_date:{year:1746,display_date:1746},display_date:"1746",text:{headline:"David Garrick as Richard III",text:"Hogarth's print of David Garrick commemorates his meteoric rise to fame as a major Shakespearean actor, following his performance as Richard III in 1741. "},unique_id:"654947"},{start_date:{year:1765,display_date:1765},display_date:"1765",text:{headline:"Timon of Athens",text:"George III commissions a Shakespearean scene (in Classical dress) from the popular painter Nathaniel Dance Holland. "},unique_id:"406725"},{start_date:{year:1769,display_date:1769},display_date:"1769",text:{headline:"David Garrick Reciting the Ode in Honour of Shakespeare at the Jubilee in Stratfod",text:"David Garrick masterminds a multi-day 'Shakespeare Jubilee' at the dramatist's birthplace, Stratford-upon-Avon. A popular talking point, it helps spearhead the modern 'Shakespeare Industry. "},unique_id:"655033"},{start_date:{year:1781,display_date:1781},display_date:"1781",text:{headline:"Mrs Mary Robinson ('Perdita')",text:"George, Prince of Wales, commissions a portrait of the actress Mary Robinson as 'Perdita', following a brief affair between them during which he signed himself 'Florizel', with reference to the characters from The Winter's Tale. "},unique_id:"400670"},{start_date:{year:1800,display_date:1800},display_date:"1800",text:{headline:"Comedies, histories and tragedies,\npublished according\nto the true originall copies",text:"Charles I's copy of the Second Folio is bought back for the Royal Collection by George III. "},unique_id:"1080415"},{start_date:{year:1802,display_date:1802},display_date:"1802",text:{headline:"A Collection of Prints from pictures painted for the purpose of illustrating the Dramatic Works of Shakspeare",text:"Publication of the prints based on John Boydell's 'Shakespeare Gallery', a project designed to inspire and improve British art with reference to Shakespeare"},unique_id:"817106"},{start_date:{year:1810,display_date:1810},display_date:"1810",text:{headline:"A Catalogue of Historical Prints Illustrative of Shakespear Plays. Published by John & Josiah Boydell 1802 Made by me at Frogmore.1810 Charlotte ",text:"While George III suffers his second serious bout of illness, Queen Charlotte draws up a catalogue of her collection of Shakespeare-themed prints published by John Boydell. "},unique_id:"1047627"},{start_date:{year:1816,display_date:1816},display_date:"1816",text:{headline:"A mulberry wood toothpick box",text:"In the bicentenary year of Shakespeare's death, the increasingly unpopular Prince Regent commissions a set of toothpick boxes made out of the wood of 'Shakespeare's mulberry tree' as gifts for friends and allies. "},unique_id:"43894"},{start_date:{year:1818,display_date:1818},display_date:"1818",text:{headline:"Mrs Siddons in the Trial Scene of Queen Katharine ",text:"George Henry Harlow's painting of Sarah Siddons as Shakespeare's Queen Katharine Is engraved, reflecting its enormous popularity. The image becomes a stock-in-trade for royal satirists for the next fifty years. "},unique_id:"813150"},{start_date:{year:1838,display_date:1838},display_date:"1838",text:{headline:"John Philip Kemble as Hamlet",text:"An engraving of Sir Thomas Lawrence's painting of John Philip Kemble as Hamlet is published, the year after William IV presented the original painting to the National Gallery. "},unique_id:"657437"},{start_date:{year:1840,display_date:1840},display_date:"1840",text:{headline:"Romeo and Tybalt",text:"The young Prince Albert and Queen Victoria study etching together, and work on scenes from Romeo and Juliet. "},unique_id:"816031"},{start_date:{year:1847,display_date:1847},display_date:"1847",text:{headline:"William Shakespeare",text:"Shakespeare's Birthplace is 'saved' for the nation, with the support of Prince Albert, who also purchases a mezzotint of the so-called 'Ashbourne Portrait' in its support. "},unique_id:"661433"},{start_date:{year:1848,display_date:1848},display_date:"1848",text:{headline:"The Disarming of Cupid",text:"Queen Victoria commissions William Edward Frost to paint a picture based on Shakespeare's Sonnet 154, as a pendant to paintings showing scenes from Edmund Spenser and John Milton. "},unique_id:"407163"},{start_date:{year:1850,display_date:1850},display_date:"1850",text:{headline:"Lesson books",text:"The future Edward VII copies out extracts from As You Like It, Macbeth and Julius Caesar in his lesson books. "},unique_id:"VIC/ADDA05/470B"},{start_date:{year:1853,display_date:1853},display_date:"1853",text:{headline:"The performance of Macbeth in the Rubens Room",text:"Between 1848-61, Charles Kean is invited to give a series of performances at Windsor Castle, including several Shakespeare plays. "},unique_id:"919794"},{start_date:{year:1857,display_date:1857},display_date:"1857",text:{headline:"The Entry of Bolingbroke ",text:"Princess Victoria presents her mother, Queen Victoria, with a watercolour showing a scene from Charles Kean's production of Richard II. "},unique_id:"451134"},{start_date:{year:1860,display_date:1860},display_date:"1860",text:{headline:"Windsor Castle, Royal Library, Queen Elizabeth Gallery (Room III), design for wooden cresting at doorway",text:"The Royal Library at Windsor is redesigned in the Elizabethan style by John Thomas, including a bust of Shakespeare in the doorway. "},unique_id:"740072"},{start_date:{year:1863,display_date:1863},display_date:"1863",text:{headline:"Bust of Shakespeare",text:"A tree identified as 'Herne's Oak' falls down in Windsor Great Park, and Queen Victoria commissions a series of relics from its remains. "},unique_id:"7021"},{start_date:{year:1888,display_date:1888},display_date:"1888",text:{headline:"Prince Arthur and Princess Margaret of Connaught as the Princes in the Tower",text:"The royal family put on a series of 'tableaux vivants' showing Shakespeare scenes (among others) for the birthday of Prince Henry of Battenburg "},unique_id:"2980009"},{start_date:{year:1893,display_date:1893},display_date:"1893",text:{headline:"The Works of William Shakespeare ('The Irving Shakespeare')",text:"Henry Irving presents his 'Irving Shakespeare' to George, Duke of York, and Princess May of Teck on the occasion of their wedding. "},unique_id:"1056053"},{start_date:{year:1917,display_date:1917},display_date:"1917",text:{headline:"The Merry Wives of Windsor, illustrated by Hugh Thomson",text:"Katharine Denison, a vicar's sister, embroiders a copy of The Merry Wives of Windsor and presents it to Queen Mary, mere months before the family change their name from Saxe-Coburg-Gotha to 'Windsor'"},unique_id:"1059106"},{start_date:{year:1924,display_date:1924},display_date:"1924",text:{headline:"Oak Model of Shakespeare's Chair and Chest",text:"An amateur carver presents a model of Shakespeare's chair and chest to Queen Mary for her 'Dolls' House' project, initiated by Princess Marie-Louise of Schleswig-Holstein as a historical artefact and a spur to British trade and industry."},unique_id:"55549"},{start_date:{year:1944,display_date:1944},display_date:"1944",text:{headline:"Diary entry for 16 December 1944",text:"Henry V is screened in the Waterloo Chamber, Windsor"},unique_id:"GVI/PRIV/DIARY/WAR/1944: 16 DEC"},{start_date:{year:1965,display_date:1965},display_date:"1965",text:{headline:"Charles, Prince of Wales as Macbeth",text:"Charles, Prince of Wales, performs as Macbeth in a school production at Gordonstoun."},unique_id:"2813890"},{start_date:{year:1970,display_date:1970},display_date:"1970",text:{headline:"Bank of England: Twenty Pounds",text:"The first £20 note to carry a portrait of the monarch is published, with an image of Shakespeare's monument in Westminster Abbey on the reverse. "},unique_id:"445827"},{start_date:{year:1991,display_date:1991},display_date:"1991",text:{headline:"Flower Vase",text:"On the occasion of her state visit to the USA, Elizabeth II is presented with a Shakespeare-inspired 'flower vase' by President George H. W. Bush"},unique_id:"95751"},{start_date:{year:1997,display_date:1997},display_date:"1997",text:{headline:"Pewter bowl with designs inspired by Shakespeare's Globe",text:"Queen Elizabeth II is presented with a commemorative bowl at the formal opening of the new Globe Theatre on the South Bank. "},unique_id:"94637"}]},$i={themes:[{id:1,title:"William Shakespeare",featuredObjects:[{reference:"40497",category:"Decorative arts",title:"Box with a view of Stratford church",id:1380,creators:["Henrik Immanuel Wigström (1862-1923)","Carl Fabergé (1846-1920)"],creation_date:1903,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"406072",category:"Painting",title:"Portrait of a Man",id:1383,creators:["None"],creation_date:1620,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"447173.a",category:"Medals",title:"Commemorative medal",id:1404,creators:["Milan Knobloch (b.1921)"],creation_date:2004,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"661421",category:"Print",title:"William Shakespeare",id:1862,creators:["Martin Droeshout (1601-after 1639)","Ben Jonson (c.1637-c.1572)"],creation_date:1685,resource:"https://rct.resourcespace.com/iiif/image/39758/full/thm/0/default.jpg"}]},{id:1,title:"On the Page",featuredObjects:[{reference:"1059072",category:"Book",title:"A Most pleasant and excellent conceited Comedy of Sir John Falstaffe, and the merry VVives of VVindsor. VVith the swaggering vaine of Ancient Pistoll, and Corporall Nym",id:1077,creators:["William Shakespeare (1564-1616)"],creation_date:1619,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"813725",category:"None",title:"The Quarrel of Oberon and Titania",id:2097,creators:["Sir Joseph Noël Paton (1821-1901)"],creation_date:1847,resource:"https://rct.resourcespace.com/iiif/image/39962/full/thm/0/default.jpg"}]},{id:1,title:"On the Stage",featuredObjects:[{reference:"2913567",category:"Photograph",title:"Miss C Leclercq as Ariel",id:1343,creators:["Camille Silvy (1834-1910)"],creation_date:1856,resource:"https://rct.resourcespace.com/iiif/image/34658/full/thm/0/default.jpg"},{reference:"655013",category:"Print",title:"Mr Garrick and Mrs Pritchard as Macbeth and Lady Macbeth",id:1631,creators:["Johann Joseph Zoffany (1733-1810)","Valentine Green (1739-1813)"],creation_date:1776,resource:"https://rct.resourcespace.com/iiif/image/39707/full/thm/0/default.jpg"},{reference:"913000",category:"Painting",title:"A Scene from Macbeth, Act I",id:2122,creators:["Louis Haghe (1806-85)"],creation_date:1853,resource:"https://rct.resourcespace.com/iiif/image/52819/full/thm/0/default.jpg"}]}]};function Gi(t){return Yi.apply(this,arguments)}function Yi(){return Yi=Object(u["a"])(Object(l["a"])().mark((function t(e){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Hi["a"].get(e,{headers:rn()}));case 1:case"end":return t.stop()}}),t)}))),Yi.apply(this,arguments)}function Vi(t,e){return Ji.apply(this,arguments)}function Ji(){return Ji=Object(u["a"])(Object(l["a"])().mark((function t(e,i){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.next=13;break;case 5:if("events/"!==e){t.next=9;break}return t.abrupt("return",{data:Ui});case 9:if("themes/"!==e){t.next=11;break}return t.abrupt("return",{data:$i});case 11:t.next=14;break;case 13:return t.abrupt("return",Hi["a"].get("".concat(Wi,"/").concat(e),{headers:rn(),params:on(i)}));case 14:case"end":return t.stop()}}),t)}))),Ji.apply(this,arguments)}function Zi(t,e){return Ki.apply(this,arguments)}function Ki(){return Ki=Object(u["a"])(Object(l["a"])().mark((function t(e,i){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.next=4;break;case 4:return t.abrupt("return",Hi["a"].get("".concat(Wi,"/").concat(e),{headers:rn(),params:sn({slug:i,type:"editor.SharcRichTextPage",fields:"title,body,show_in_menus"})}));case 5:case"end":return t.stop()}}),t)}))),Ki.apply(this,arguments)}function Xi(t){return Qi.apply(this,arguments)}function Qi(){return Qi=Object(u["a"])(Object(l["a"])().mark((function t(e){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.next=4;break;case 4:return t.abrupt("return",tn(e,"sharc-home","editor.SharcRichTextPage","menu_children"));case 5:case"end":return t.stop()}}),t)}))),Qi.apply(this,arguments)}function tn(t,e,i,n){return en.apply(this,arguments)}function en(){return en=Object(u["a"])(Object(l["a"])().mark((function t(e,i,n,a){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.next=4;break;case 4:return t.abrupt("return",Hi["a"].get("".concat(Wi,"/").concat(e),{headers:rn(),params:sn({slug:i,type:n,fields:a})}));case 5:case"end":return t.stop()}}),t)}))),en.apply(this,arguments)}function nn(t,e){return an.apply(this,arguments)}function an(){return an=Object(u["a"])(Object(l["a"])().mark((function t(e,i){var n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Wi.replace(/\/$/,""),t.abrupt("return",Hi["a"].get("".concat(n).concat(e).concat(i),{headers:rn()}));case 2:case"end":return t.stop()}}),t)}))),an.apply(this,arguments)}function rn(){return{}}function sn(t){var e=new URLSearchParams;return t&&(t.slug&&e.append("slug",t.slug),t.type&&e.append("type",t.type),t.fields&&e.append("fields",t.fields)),e}function on(t){var e=new URLSearchParams;if(t){if(t.searchTerm&&e.append("search_multi_match",t.searchTerm),t.pages&&e.append("pages",t.pages),t.sort&&t.sort.sort_by.length>0){var i="";!0===t.sort.desc&&(i="-"),e.append("ordering",i+t.sort.sort_by)}if(t.creation_years&&t.creation_years[0]>0&&e.append("date_of_creation__range",t.creation_years[0]+"__"+t.creation_years[1]),t.acquisition_years&&t.acquisition_years[0]>0&&e.append("date_of_acquisition__range",t.acquisition_years[0]+"__"+t.acquisition_years[1]),t.selectedFacets&&t.selectedFacets.length>0)for(var n in t.selectedFacets)t.selectedFacets[n].category.includes("__")?e.append(t.selectedFacets[n].category,t.selectedFacets[n].key):e.append(t.selectedFacets[n].category+"__term",t.selectedFacets[n].key)}return e}var cn={getUrl:Gi,get:Vi,getSingle:nn,getParams:on,getWagtailRichTextPage:Zi,getWagtailPage:tn,getWagtailMenuPages:Xi,stripUrl:Bi},ln=cn,un={page:{},resources:{},eventPage_status:!1,status:!1,imageUrl:{}},hn={getResources:function(t){return t.resources},getPage:function(t){return t.page},getEventsPageStatus:function(t){return t.eventPage_status},getPageStatus:function(t){return t.status},getImageURL:function(t){return t.imageUrl}},dn={accessibility:"accessibility",events:"events",glossary:"glossary",bibliography:"bibliography",acknowledgements:"acknowledgements",resources:"resources",about:"about",exhibition:"exhibition"},fn="wagtail/pages/",pn={fetchSecondaryPage:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a,r;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getWagtailPage(fn,dn[e],"editor.StreamFieldPage","title,body");case 3:a=i.sent,r={},a.data&&(a.data.image&&(r={resource:a.data.meta.parent.meta.html_url+a.data.image.meta.download_url,alt:a.data.image.title},n("setImageURL",r)),a.data.items&&n("setPage",a.data.items[0]));case 6:case"end":return i.stop()}}),i)})))()},fetchResources:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getWagtailPage(fn,dn["resources"],"editor.StreamFieldPage","title,body");case 3:n=e.sent,n&&n.data&&n.data.items&&i("setResources",n.data.items[0].body);case 5:case"end":return e.stop()}}),e)})))()},fetchEventsPageStatus:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n,a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getWagtailPage(fn,dn.events,"editor.StreamFieldPage","show_in_menus");case 3:n=e.sent,n.data.items&&n.data.items.length>0&&n.data.items[0].meta&&n.data.items[0].meta.show_in_menus&&(a=n.data.items[0].meta.show_in_menus,i("setEventsPageStatus",a));case 5:case"end":return e.stop()}}),e)})))()},fetchPageStatus:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a,r;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getWagtailRichTextPage(fn,dn[e]);case 3:a=i.sent,a.data.items&&a.data.items.length>0&&a.data.items[0].meta&&a.data.items[0].meta.show_in_menus&&(r=a.data.items[0].meta.show_in_menus,n("setPageStatus",r));case 5:case"end":return i.stop()}}),i)})))()}},mn={setResources:function(t,e){return t.resources=e},setPage:function(t,e){return t.page=e},setEventsPageStatus:function(t,e){return t.eventPage_status=e},setPageStatus:function(t,e){return t.status=e},setImageURL:function(t,e){return t.imageUrl=e}},_n={state:un,getters:hn,actions:pn,mutations:mn},gn={description:"",archivalRecords:[],facets:[],loadMoreUrl:"",total:0},vn={pageDescription:function(t){return t.description},getArchivalRecords:function(t){return t.archivalRecords},getTotalArchives:function(t){return t.total},getArchivalFacets:function(t){return t.facets}},yn={fetchObjectsPageDescription:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getWagtailRichTextPage("wagtail/pages/","objects");case 3:n=e.sent,n.data.items&&n.data.items[0].body.length>0&&i("setPageDescription",n.data.items[0].body);case 5:case"end":return e.stop()}}),e)})))()},fetchPeople:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getSingle("documents/","?person_autocomplete="+e);case 3:if(a=i.sent,!(n&&a&&a.data.facets)){i.next=7;break}if(!a.data.facets._filter_people){i.next=7;break}return i.abrupt("return",a.data.facets._filter_people.people.buckets);case 7:case"end":return i.stop()}}),i)})))()},fetchArchivalRecords:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a,r;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.get("documents/",e);case 3:a=i.sent,r={},a&&a.data.facets&&(a.data.facets._filter_acquirer&&(r.acquirer=a.data.facets._filter_acquirer.acquirer.buckets),a.data.facets._filter_people&&(r.people=a.data.facets._filter_people.people.buckets),a.data.facets._filter_category&&(r.category=a.data.facets._filter_category.category.buckets),a.data.facets._filter_individual_connections&&(r.individual_connections=a.data.facets._filter_individual_connections.individual_connections.buckets),a.data.facets._filter_performance&&(r.performances=a.data.facets._filter_performance.performance.buckets),a.data.facets._filter_source&&(r.sources=a.data.facets._filter_source.source.buckets),a.data.facets._filter_text&&(r.texts=a.data.facets._filter_text.text.buckets),a.data.facets._filter_work&&(r.works=a.data.facets._filter_work.work.buckets)),r.acquisition_years=[1600,2020],r.creation_years=[1600,2020],a.data.next?n("setLoadMoreUrl",ln.stripUrl(a.data.next)):n("setLoadMoreUrl",""),n("setArchivalRecords",a.data.results),n("setTotal",a.data.count),n("setFacets",r);case 12:case"end":return i.stop()}}),i)})))()},loadMoreArchivalRecords:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getUrl(gn.loadMoreUrl);case 3:n=e.sent,n.data.next?i("setLoadMoreUrl",ln.stripUrl(n.data.next)):i("setLoadMoreUrl",""),i("setMoreArchivalRecords",n.data.results);case 6:case"end":return e.stop()}}),e)})))()}},bn={setArchivalRecords:function(t,e){return t.archivalRecords=e},setPageDescription:function(t,e){return t.description=e},setLoadMoreUrl:function(t,e){return t.loadMoreUrl=e},setTotal:function(t,e){return t.total=e},setFacets:function(t,e){return t.facets=e},setMoreArchivalRecords:function(t,e){return e.forEach((function(e){return t.archivalRecords.push(e)}))}},kn={state:gn,getters:vn,actions:yn,mutations:bn},wn={archive:{},images:[]},xn={getArchive:function(t){return t.archive}},jn={fetchArchive:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getSingle("/documents/",e);case 3:a=i.sent,n("setArchive",a.data);case 5:case"end":return i.stop()}}),i)})))()},fetchRCTArchive:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getSingle("/documents/","?reference="+e);case 3:a=i.sent,a.data&&a.data.results.length>0&&n("setArchive",a.data.results[0]);case 5:case"end":return i.stop()}}),i)})))()}},Tn={setArchive:function(t,e){return t.archive=e}},Sn={state:wn,getters:xn,actions:jn,mutations:Tn},On={menuItems:[],banners:[],plays:[],themes:[],tags:[],title:"",description:"",timelineData:{}},Cn={getMenuItems:function(t){return t.menuItems},mainBanners:function(t){return t.banners},playsList:function(t){return t.plays},themesList:function(t){return t.themes},featuredTags:function(t){return t.tags},title:function(t){return t.title},briefDescription:function(t){return t.description},timelineData:function(t){return t.timelineData}},An={fetchTimelineData:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.get("events/",{});case 3:n=e.sent,i("setTimelineData",n.data);case 5:case"end":return e.stop()}}),e)})))()},fetchMenuItems:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getWagtailMenuPages("wagtail/pages/");case 3:n=e.sent,n.data.items&&n.data.items.length>0&&i("setMenuItems",n.data.items[0].menu_children);case 5:case"end":return e.stop()}}),e)})))()},fetchBanners:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var n,a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.commit,a={data:{banners:[{id:573,resource:i("8f62"),title:"The Entry of Bolingbroke",creators:["Princess Victoria (1840-1901)"]},{id:593,resource:i("4ff2"),title:"A performance of Macbeth in the Rubens Room, Windsor Catle, 4 February 1853",creators:["Louis Haghe (1806-85)"]},{id:559,resource:i("269a"),title:"George IV in 'Prince Florizel' costume",creators:["Richard Cosway (bapt. 1742, d. 1821)"]},{id:604,resource:i("9bf4"),title:"Mr William Shakespeare's comedies, histories & tragedies. Published according to the true original copies.",creators:["William Shakespeare (1564-1616)","Isaac Jaggard (d. 1627)","Edward Blount (1562-1632)"]},{id:558,resource:i("6268"),title:"Ophelia",creators:["Photograph attributed to Princess Louise (1848-1939)"]}]}},n("setBanners",a.data.banners);case 3:case"end":return e.stop()}}),e)})))()},fetchDescription:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getWagtailRichTextPage("wagtail/pages/","sharc-home");case 3:n=e.sent,n.data.items&&n.data.items[0].body.length>0&&(i("setTitle",n.data.items[0].title),i("setDescription",n.data.items[0].body));case 5:case"end":return e.stop()}}),e)})))()},fetchPlays:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var n,a,r,s,o,c;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,ln.get("documents/",{size:0});case 3:if(a=e.sent,r=[{id:0,resource:i("8ff5"),title:"King Lear",count:0},{id:1,resource:i("2cfa"),title:"Hamlet",count:0},{id:2,resource:i("a36d"),title:"The Winter's Tale",count:0},{id:3,resource:i("4d67"),title:"The Merry Wives of Windsor",count:0},{id:4,resource:i("54ae"),title:"Henry VIII",count:0},{id:5,resource:i("5345"),title:"Henry V",count:0},{id:6,resource:i("c908"),title:"Macbeth",count:0},{id:7,resource:i("6d82"),title:"Richard III",count:0},{id:8,resource:i("8201"),title:"Romeo and Juliet",count:0},{id:9,resource:i("b082"),title:"Merchant of Venice",count:0},{id:10,resource:i("469c"),title:"A Midsummer Night's Dream",count:0},{id:11,resource:i("ca01"),title:"Richard II",count:0}],a)for(o in s=a.data.facets._filter_work.work.buckets,s)for(c in r)r[c].title===s[o].key&&(r[c].count+=s[o].doc_count);n("setPlays",r);case 7:case"end":return e.stop()}}),e)})))()},fetchThemes:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.get("themes/",{facet:"themes"});case 3:n=e.sent,n&&n.data.themes&&i("setThemes",n.data.themes);case 5:case"end":return e.stop()}}),e)})))()},fetchTags:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,n={data:{featuredTags:["Print","Book","Photograph","Painting","Drawing"]}},i("setFeaturedTags",n.data.featuredTags);case 3:case"end":return e.stop()}}),e)})))()}},Mn={setMenuItems:function(t,e){return t.menuItems=e},setBanners:function(t,e){return t.banners=e},setPlays:function(t,e){return t.plays=e},setThemes:function(t,e){return t.themes=e},setFeaturedTags:function(t,e){return t.tags=e},setTitle:function(t,e){return t.title=e},setDescription:function(t,e){return t.description=e},setTimelineData:function(t,e){return t.timelineData=e}},Ln={state:On,getters:Cn,actions:An,mutations:Mn},En={storyList:[],story:{},storyStrap:""},Rn={getStoryList:function(t){return t.storyList},getThemeList:function(t){return t.storyList},getStory:function(t){return t.story},getStoryStrap:function(t){return t.storyStrap}},Pn={fetchThemeList:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n,a,r,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,n=[],e.next=4,ln.get("wagtail/pages/?type=editor.ThemeObjectCollection&fields=title,body,related_documents");case 4:if(a=e.sent,a.data.items)for(r in a.data.items)s=a.data.items[r],n.push({id:s.id,url_slug:s.meta.slug,title:s.title,body:s.body,related_documents:s.related_documents});i("setStoryList",n);case 7:case"end":return e.stop()}}),e)})))()},fetchStoryList:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n,a,r,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,n=[],e.next=4,ln.get("wagtail/pages/?type=editor.StoryObjectCollection&fields=title,body,related_documents");case 4:if(a=e.sent,a.data.items)for(r in a.data.items)s=a.data.items[r],n.push({id:s.id,url_slug:s.meta.slug,title:s.title,body:s.body,related_documents:s.related_documents});i("setStoryList",n);case 7:case"end":return e.stop()}}),e)})))()},fetchTheme:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getWagtailPage("wagtail/pages/",e,"editor.ThemeObjectCollection","title,body,related_documents");case 3:a=i.sent,a.data.items&&n("setStory",a.data.items[0]);case 5:case"end":return i.stop()}}),i)})))()},fetchStoryStrap:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n,a;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,n="stories",e.next=4,ln.getWagtailPage("wagtail/pages/",n,"editor.StreamFieldPage","title,body");case 4:a=e.sent,a.data.items&&a.data.items[0].body[0]&&i("setStoryStrap",a.data.items[0].body[0].value);case 6:case"end":return e.stop()}}),e)})))()},fetchStory:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.getWagtailPage("wagtail/pages/",e,"editor.StoryObjectCollection","title,body,related_documents");case 3:a=i.sent,a.data.items&&n("setStory",a.data.items[0]);case 5:case"end":return i.stop()}}),i)})))()}},Dn={setStory:function(t,e){return t.story=e},setStoryList:function(t,e){return t.storyList=e},setThemeList:function(t,e){return t.storyList=e},setStoryStrap:function(t,e){return t.storyStrap=e}},qn={state:En,getters:Rn,actions:Pn,mutations:Dn},Nn={results:[],resultsTotal:0,loadMoreResultsUrl:""},In={getSearchResults:function(t){return t.results},getSearchResultsTotal:function(t){return t.resultsTotal}},Fn={fetchSearchResults:function(t,e){return Object(u["a"])(Object(l["a"])().mark((function i(){var n,a;return Object(l["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.commit,i.next=3,ln.get("/search",e);case 3:a=i.sent,n("setSearchResults",a.data.results),n("setSearchResultsTotal",a.data.count),a.data.next?n("setloadMoreResultsUrl",a.data.next):n("setloadMoreResultsUrl","");case 7:case"end":return i.stop()}}),i)})))()},loadMoreSearchResults:function(t){return Object(u["a"])(Object(l["a"])().mark((function e(){var i,n;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,ln.getUrl(Nn.loadMoreResultsUrl);case 3:n=e.sent,n.data.next?i("setloadMoreResultsUrl",n.data.next):i("setloadMoreResultsUrl",""),i("setMoreSearchResults",n.data.results);case 6:case"end":return e.stop()}}),e)})))()}},zn={setSearchResults:function(t,e){return t.results=e},setSearchResultsTotal:function(t,e){return t.resultsTotal=e},setloadMoreResultsUrl:function(t,e){return t.loadMoreResultsUrl=e},setMoreSearchResults:function(t,e){return e.forEach((function(e){return t.results.push(e)}))}},Hn={state:Nn,getters:In,actions:Fn,mutations:zn};a["a"].use(d["a"]),a["a"].use(zi.a);var Wn=new d["a"].Store({modules:{home:Ln,secondaryPage:_n,archivalRecords:kn,archiveSingle:Sn,searchResults:Hn,objectStories:qn,VuePluralize:zi.a}});a["a"].config.productionTip=!1,a["a"].directive("linkified",L.a);var Bn=i("ce04");a["a"].use(Bn),a["a"].use(i("2b27")),a["a"].use(i("f13c"),{container:"body",duration:500,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),a["a"].$cookies.config("30d","","",!0),new a["a"]({store:Wn,router:Ii,render:function(t){return t(A)}}).$mount("#app")},6268:function(t,e,i){t.exports=i.p+"img/Slide5.eee5bfcd.png"},"6d82":function(t,e,i){t.exports=i.p+"img/PlayRichardIII.4c76602f.jpg"},8201:function(t,e,i){t.exports=i.p+"img/PlayRomeoAndJuliet.1ff73ff7.jpg"},8638:function(t,e,i){t.exports=i.p+"img/254426-1330619342.b5105ea2.jpg"},"8f62":function(t,e,i){t.exports=i.p+"img/Slide1.4b99a5e0.jpg"},"8ff5":function(t,e,i){t.exports=i.p+"img/PlayKingLear.422cfcd9.jpg"},"9bf4":function(t,e,i){t.exports=i.p+"img/Slide4.9cff837b.jpg"},"9d08":function(t,e,i){"use strict";i("ae5b")},"9f13":function(t,e,i){t.exports=i.p+"img/KCL_box_red_485_rgb.6ae02c40.jpg"},a36d:function(t,e,i){t.exports=i.p+"img/PlayTheWintersTale.937f569a.jpg"},ae5b:function(t,e,i){},b082:function(t,e,i){t.exports=i.p+"img/PlayMerchantOfVenice.3dc658b5.jpg"},c60b:function(t,e,i){t.exports=i.p+"img/472881-1619192659.6fff3180.jpg"},c908:function(t,e,i){t.exports=i.p+"img/PlayMacbeth.53d88b89.jpg"},ca01:function(t,e,i){t.exports=i.p+"img/PlayRichardII.20e6bc4d.jpg"},e277:function(t,e,i){t.exports=i.p+"img/RCTLogo.1f960691.jpg"},e6ac:function(t,e,i){t.exports=i.p+"img/bbk-logo-black-digi.79ab9253.jpg"},e8e8:function(t,e,i){t.exports=i.p+"img/sharc-imageplaceholder-light.7824bcd7.jpg"},f382:function(t,e,i){t.exports=i.p+"img/912381-1565625545.aa0365e3.jpg"}});
//# sourceMappingURL=app.555bbc27.js.map